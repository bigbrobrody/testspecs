<?xml version="1.0" encoding="UTF-8"?>
<!--For PDF version (standard)-->
<!-- <?xml-stylesheet href="docbook/xsl/fo/docbook.xsl" type="text/xsl" ?>-->
<!--For PDF version-->
<!-- <?xml-stylesheet href="ONVIF-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<!--For online version-->
<?xml-stylesheet href="docbook-css/docbook.xsl" type="text/xsl" ?>
<!--For PDF version - New ONVIF-->
<!--<?xml-stylesheet href="../ONVIFNew-stylesheets/onvif-specification-fo-us.xsl" type="text/xsl" ?>-->
<book xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xhtml="http://www.w3.org/1999/xhtml"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xml="http://www.w3.org/XML/1998/namespace"
      xsi:schemaLocation="http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd"
      version="0.1"
      xml:id="ONVIF_Device_Feature_Discovery_TS">
  <info>
    <orgname>
      <phrase>
        <trademark class="registered">ONVIF</trademark>
      </phrase>
    </orgname>
    <title>Device Feature Discovery Specification</title>
    <subtitle>Version 21.12</subtitle>
    <date>June 2021</date>
    <copyright>
      <year>2021</year>
      <holder>ONVIF, Inc. All rights reserved.</holder>
    </copyright>
    <address>
      <uri>www.onvif.org</uri>
    </address>
    <legalnotice role="notices">
      <para>
        Recipients of this document may copy, distribute, publish, or display this
        document so long as this copyright notice, license and disclaimer are retained with
        all copies of the document. No license is granted to modify this document.
      </para>
      <para>
        THIS DOCUMENT IS PROVIDED "AS IS," AND THE CORPORATION AND ITS MEMBERS AND THEIR
        AFFILIATES, MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
        NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE,
        NON-INFRINGEMENT, OR TITLE; THAT THE CONTENTS OF THIS DOCUMENT ARE SUITABLE FOR ANY
        PURPOSE; OR THAT THE IMPLEMENTATION OF SUCH CONTENTS WILL NOT INFRINGE ANY PATENTS,
        COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.
      </para>
      <para>
        IN NO EVENT WILL THE CORPORATION OR ITS MEMBERS OR THEIR AFFILIATES BE LIABLE FOR
        ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES,
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT, WHETHER OR
        NOT (1) THE CORPORATION, MEMBERS OR THEIR AFFILIATES HAVE BEEN ADVISED OF THE
        POSSIBILITY OF SUCH DAMAGES, OR (2) SUCH DAMAGES WERE REASONABLY FORESEEABLE, AND
        ARISING OUT OF OR RELATING TO ANY USE OR DISTRIBUTION OF THIS DOCUMENT. THE
        FOREGOING DISCLAIMER AND LIMITATION ON LIABILITY DO NOT APPLY TO, INVALIDATE, OR
        LIMIT REPRESENTATIONS AND WARRANTIES MADE BY THE MEMBERS AND THEIR RESPECTIVE
        AFFILIATES TO THE CORPORATION AND OTHER MEMBERS IN CERTAIN WRITTEN POLICIES OF THE
        CORPORATION.
      </para>
    </legalnotice>
    <revhistory>
      <revision>
        <revnumber>11.12</revnumber>
        <date>Dec 22, 2011</date>
        <revdescription>
          <para>
            First issue
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>12.06</revnumber>
        <date>Jun 22, 2012</date>
        <revdescription>
          <para>
            Update for a new version of the ONVIF Device Test Tool.
          </para>
          <para>
            No changes made for Feature Discovery.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>12.12</revnumber>
        <date>Dec 20, 2012</date>
        <revdescription>
          <para>
            Update for a new version of the ONVIF Device Test Tool.
          </para>
          <para>
            Recording Control Service, Recording Search Service, Replay Control Service, Receiver Service specific features were added.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>13.06</revnumber>
        <date>Jun, 2013</date>
        <revdescription>
          <para>
            Update for a new version of the ONVIF Device Test Tool.
          </para>
          <para>
            Access Control Service, Door Control Service specific features were added.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>13.12</revnumber>
        <date>Dec, 2013</date>
        <revdescription>
          <para>
            Advanced Security features were added.
          </para>
          <para>
            tns1:RecordingConfig/DeleteTrackData feature was added into section Recording Control Service support and section Recording Control Service support items.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>14.06</revnumber>
        <date>Jun, 2014</date>
        <revdescription>
          <para>
            ‘Metadata Recording support’ item was removed.
          </para>
          <para>
            Recording Control features support (GetServices) was added in section Recording Control Service support Item
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>14.12</revnumber>
        <date>Dec, 2014</date>
        <revdescription>
          <para>
            IrCutfilterConfiguration function support was added into section Imaging Service support Item and into section Imaging Service support Item.
          </para>
          <para>
            Scope was updated.
          </para>
          <para>
            Passphrase Management feature support was added into section Advanced Security Service Support Item.
          </para>
          <para>
            Feature definition for Profile Q was added: section Monitoring Events support Item was added, section Monitoring Events support Item was added, section Device Management Service Capabilities and section Device Service Capabilities configuration functionality in Device Management Service items were updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>15.06</revnumber>
        <date>Jun, 2015</date>
        <revdescription>
          <para>
            CRLs Management, Certification path validation policies Management, TLS WWW client auth extended key usage extension, TLS client authentication features support was added into section Advanced Security Service support.
          </para>
          <para>
            Credential Service features support was added into section Credential Service support and section Credential Service support.
          </para>
          <para>
            Access Rules Service features support was added into section Access Rules Service support and section Access Rules Service support.
          </para>
          <para>
            Schedule Service features support was added into section Schedule Service support and section Schedule Service support.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.06</revnumber>
        <date>Jan 27, 2016</date>
        <revdescription>
          <para>
            The section Media2 Service – general has been added.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.06</revnumber>
        <date>Mar 15, 2016</date>
        <revdescription>
          <para>
            The conditions in tables have been updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.07</revnumber>
        <date>July 7, 2016</date>
        <revdescription>
          <para>
            Changed version number, added Media2 Profile Configuration for PTZ Control
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.09</revnumber>
        <date>Sep, 2016</date>
        <revdescription>
          <para>
            TLS1.0, TLS1.1, TLS1.2 features added
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>16.10</revnumber>
        <date>Oct, 2016</date>
        <revdescription>
          <para>
            Media2 Service features support item was added
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.01</revnumber>
        <date>Jan, 2017</date>
        <revdescription>
          <para>
            Minor changes: typos were fixed
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.01</revnumber>
        <date>Jan, 2017</date>
        <revdescription>
          <para>
            TLS1.0, TLS1.1, TLS1.2 features removed
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Feb, 2017</date>
        <revdescription>
          <para>
            The following items were updated:
          </para>
          <para>
            Section Media2 Service – general
          </para>
          <para>
            Section PTZ Service support
          </para>
          <para>
            Section PTZ Service support
          </para>
          <para>
            The following item was added:
          </para>
          <para>
            Section Media2 Service support
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Mar 06, 2017</date>
        <revdescription>
          <para>
            Tampering Events support in Imaging Service Item was added into section Imaging Service support and into section Imaging Service support.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Mar 07, 2017</date>
        <revdescription>
          <para>
            Analytics feature added into section Media2 Service – general
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Apr 18, 2017</date>
        <revdescription>
          <para>
            Table Media2 Service features support was updated.
          </para>
          <para>
            Section Analytics Service support was updated.
          </para>
          <para>
            Rule Engine and Rule Options features for Analytics Service were added into 5.5.10 Analytics Service support section and into section Analytics Service support section.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Apr 27, 2017</date>
        <revdescription>
          <para>
            Table Credential features support (GetServices) updated with adding pt:ExemptFromAuthentication feature according to #1385 ticket.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>May 03, 2017</date>
        <revdescription>
          <para>
            TLS1.0, TLS1.1, TLS1.2 features added
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>May 22, 2017</date>
        <revdescription>
          <para>
            Motion Alarm support in Imaging Service Item was added into section Imaging Service support and into section Imaging Service support.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.06</revnumber>
        <date>Jun 2, 2017</date>
        <revdescription>
          <para>
            Table Media2 Service features support was updated according to #1382: acceptance of ‘All’ value in ConfigurationsSupported removed.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Jul 12, 2017</date>
        <revdescription>
          <para>
            Serial Ports support in Device IO Service Item was added into section Device IO Service.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Jul 13, 2017</date>
        <revdescription>
          <para>
            Digital Input Options support in Device IO Service Item was added into section Device IO Service.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Jul 20, 2017</date>
        <revdescription>
          <para>
            Section Provisioning Service support was added.
          </para>
          <para>
            Section Provisioning Service support was added.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Jul 24, 2017</date>
        <revdescription>
          <para>
            JPEG, H.264, and MPEG4 features were added into Recording Control features support (GetServices) and Recording Control features support (GetCapabilities) according to #1377.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Aug 29, 2017</date>
        <revdescription>
          <para>
            The document formating were updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Aug 29, 2017</date>
        <revdescription>
          <para>
            Section Thermal Service support was added.
          </para>
          <para>
            Section Thermal Service support was added.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Oct 03, 2017</date>
        <revdescription>
          <para>
            Section Auxiliary Commands features support was added.
          </para>
          <para>
            Section Auxiliary Commands support was added.
          </para>
          <para>
            Scope list updated.
          </para>
          <para>
            Section Device Management Service Capabilities was updated.
          </para>

        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Oct 12, 2017</date>
        <revdescription>
          <para>
            RTP/RTSP/HTTPS feature support was added in Media2 Service – general.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Oct 16, 2017</date>
        <revdescription>
          <para>
            Motion Region Detector Rule feature support was added in section Analytics Service support and in 5.6.12 Analytics Service support according to #1185.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Oct 26, 2017</date>
        <revdescription>
          <para>
            Focus Control function support was added in section Imaging Service support and in section Imaging Service support according to #1450.
          </para>
          <para>
            OSD Types function support was added in section Media2 Service – general according to #1450.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>17.12</revnumber>
        <date>Nov 22, 2017</date>
        <revdescription>
          <para>
            Auxiliary Commands Features Support section was removed. The features discovery from this section was moved to section Device Management Service Capabilities.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Jan 23, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1567:
          </para>
          <para>
            Scope (new feature added)
          </para>
          <para>
            Discovery Procedure (GetServices)\Device IO Features Support (updated with Note)
          </para>
          <para>
            Discovery Procedure (GetServices)\Device IO Relay Output Options Support (added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities)\Device IO Service (updated with note)
          </para>
          <para>
            Discovery Procedure (GetCapabilities)\Relay Outputs Support (updated with note)
          </para>
          <para>
            Discovery Procedure (GetCapabilities)\Device IO Relay Output Options Support (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Feb 13, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1535:
          </para>
          <para>
            Scope (the description of which features will be defined per each node was added)
          </para>
          <para>
            Feature Support Criteria (updated with entity for features)
          </para>
          <para>
            PTZ Service Features Support (GetService) (reordered)
          </para>
          <para>
            PTZ Service Support (GetServices) (links updated)
          </para>
          <para>
            Various Functions Support in PTZ Service (GetServices) (removed)
          </para>
          <para>
            PTZ Nodes Features Support (GetServices) (added)
          </para>
          <para>
            Fixed/Configurable Home Position Support (GetServices) (removed)
          </para>
          <para>
            Fixed/Configurable Home Position Support for PTZ Node (GetServices) (added)
          </para>
          <para>
            PTZ Service Support (GetServices) (links updated)
          </para>
          <para>
            PTZ Service Features Support (GetCapabilities) (reordered)
          </para>
          <para>
            Various Functions Support in PTZ Service (GetCapabilities) (removed)
          </para>
          <para>
            PTZ Nodes Features Support (GetCapabilities) (added)
          </para>
          <para>
            Fixed/Configurable Home Position Support (GetCapabilities) (removed)
          </para>
          <para>
            Fixed/Configurable Home Position Support for PTZ Node (GetCapabilities) (added)
          </para>
          <para>
            Annex A.2 Media2 Service - Media Profile Configuration for PTZ Control (removed)
          </para>
          <para>
            Annex A.8 Media Profile Configuration for PTZ Control (added)
          </para>
          <para>
            Annex A.9 Media Profile Configuration with Video Source Configuration (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Feb 13, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1581:
          </para>
          <para>
            Media2 Service – OSD Types Support (GetServices) table updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Apr 17, 2018</date>
        <revdescription>
          <para>
            Section 'Event Service - Message Content Filter support' was added into 'Discovery Procedure (GetServices)' section according to #1340.
          </para>
          <para>
            Section 'Event Service - Message Content Filter support' was added into 'Discovery Procedure (GetCapabilities)' section section according to #1340.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>May 24, 2018</date>
        <revdescription>
          <para>
            Section 'Event Service - ONVIF Message Content Filter Dialect Support' was added into 'Discovery Procedure (GetServices)' section according to #1618.
          </para>
          <para>
            Section 'Event Service - ONVIF Message Content Filter Dialect Support' was added into 'Discovery Procedure (GetCapabilities)' section section according to #1618.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06</revnumber>
        <date>Jun 21, 2018</date>
        <revdescription>
          <para>Reformatting document using new template</para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Aug 16, 2018</date>
        <revdescription>
          <para>
            The following was done according to #1690:
          </para>
          <para>
            HTTPS Support was added into Discovery Procedure (GetServices) section.
          </para>
          <para>
            HTTPS Support was added into Discovery Procedure (GetCapabilities) section.
          </para>
          <para>
            RTP/RTSP/HTTPS feature support was updated.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.06 SR1</revnumber>
        <date>Aug 27, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1711:
          </para>
          <para>
            Scope (Device IO Service\Relay Outputs\Bistable and Device IO Service\Relay Outputs\Monostable was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Device IO Service (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetServices): Device IO Features Support (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetServices): Device IO Relay Output Options Support (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetServices): Device IO Relay Outputs Features Support (added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device IO Service (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device IO Relay Output Support (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device IO Relay Output Options Support (updated with format and links to new section)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device IO Relay Outputs Features Support (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Aug 31, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1716:
          </para>
          <para>
            Discovery Procedure (GetServices): Imaging Service Support (format updated)
          </para>
          <para>
            Discovery Procedure (GetServices): IrCutfilterConfiguration Feature Support (replaced with new)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Imaging Service Support (format updated)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): IrCutfilterConfiguration Feature Support (replaced with new)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Aug 31, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1726:
          </para>
          <para>
            Discovery Procedure (GetServices): Recording Search Service Support (updated to correspond to implementation)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Recording Search Service Support (updated to correspond to implementation)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 1, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1599:
          </para>
          <para>
            Scope (Advanced Security Service\Keystore features support\No Private Key Sharing was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Advanced Security Service Support (updated with format)
          </para>
          <para>
            Discovery Procedure (GetServices): Advanced Security Features Support (updated with format, definition of new feature No Private Key Sharing was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 2, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1663:
          </para>
          <para>
            Annex A.1 Selection/Creation of Media Profile That Contains PTZ Configuration (reformatted, step 5 added)
          </para>
          <para>
            Annex A.11 Configure Empty Media Profile (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 8, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1677:
          </para>
          <para>
            Scope (AccessControl/Denied/CredentialNotFound feature added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Control Service Support (description format updated)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Control Service Support\Access Control Events Support (tns1:AccessControl/Denied/CredentialNotFound added)
          </para>
          <para>
            Annex A.3 Get Complete Access Point Info List (description format updated)
          </para>
          <para>
            Annex A.4 Get Complete Area Info List (description format updated)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 8, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1639 (for pre-configuration procedure):
          </para>
          <para>
            Introduction (updated with pre-configuration description)
          </para>
          <para>
            Scope (updated with pre-configuration description)
          </para>
          <para>
            Pre-Configuration Procedure (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 8, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1670:
          </para>
          <para>
            Feature Discovery Procedure (Client Supplied Token feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Schedule Service Support (description format updated)
          </para>
          <para>
            Discovery Procedure (GetServices): Schedule Service Support\Schedule Features Support (Client Supplied Token feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 12, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1746:
          </para>
          <para>
            Discovery Procedure (GetServices): Device IO Relay Outputs Features Support (DelayTime value in SetRelayOutputSettings request for Monostable mode updated, Note added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device IO Relay Outputs Features Support (DelayTime value in SetRelayOutputSettings request for Monostable mode updated, Note added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 12, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1672:
          </para>
          <para>
            Feature Discovery Procedure (Client Supplied Token feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Credential Service Support (description format updated)
          </para>
          <para>
            Discovery Procedure (GetServices): Credential Service Support\Credential Features Support (Client Supplied Token feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Oct 16, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1671:
          </para>
          <para>
            Feature Discovery Procedure (Client Supplied Token feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Rules Service Support (description format updated)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Rules Service Support\Access Rules Features Support (Client Supplied Token feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>18.12</revnumber>
        <date>Nov 14, 2018</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1653:
          </para>
          <para>
            Scope (Advanced Security Service was renamed to Security Configuration Service)
          </para>
          <para>
            Normative references ("[ONVIF Advanced Security Test] ONVIF Advanced Security Test Specification:" replaced with "[ONVIF Security Configuration Test] ONVIF Security Configuration Device Test Specification:")
          </para>
          <para>
            Discovery Procedure (GetServices): HTTPS Support ("Advanced Security Service" was replaced with "Security Configuration Service" in several places)
          </para>
          <para>
            Discovery Procedure (GetServices): Advanced Security Service Support section was renamed to Security Configuration Service Support
          </para>
          <para>
            Discovery Procedure (GetServices): Security Configuration Service Support ("Advanced Security Service" was replaced with "Security Configuration Service" in many places)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Security Configuration Service Support section was renamed to Security Configuration Service Support
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Security Configuration Service Support ("Advanced Security Service" was replaced with "Security Configuration Service" in many places)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.06</revnumber>
        <date>Apr 10, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1764:
          </para>
          <para>
            Discovery Procedure (GetServices): Media2 Service – Audio Encoding Support ("MPEG4-GENERIC" value added for AAC)
          </para>
          <para>
            Discovery Procedure (GetServices): Media2 Service – Audio Decoding Support ("MPEG4-GENERIC" value added for AAC)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.06</revnumber>
        <date>May 06, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1799:
          </para>
          <para>
            Scope (updated with Enabled TLS Versions feature)
          </para>
          <para>
            Discovery Procedure (GetServices): Security Configuration Features Support (updated with Enabled TLS Versions feature)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Apr 25, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1833:
          </para>
          <para>
            Feature Discovery Procedure (Analytics Modules and Analytics Module Options features were added)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Features Support (Analytics Modules and Analytics Module Options features were added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Analytics Service Support (Analytics Modules and Analytics Module Options features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Jul 31, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1675:
          </para>
          <para>
            Scope (Door Management feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Door Control Service  (Door Control Features Support new section was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Aug 05, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1668:
          </para>
          <para>
            Scope (Client Supplied Token feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Door Control Service (Client Supplied Token feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Sep 11, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1669 and #1676:
          </para>
          <para>
            Scope (Client Supplied Token (Area, Access Point) feature was added)
          </para>
          <para>
            Scope (Access Point Management feature was added)
          </para>
          <para>
            Scope (Area Management feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): 5.5.17.4 Access Control Service Features Support section was added into 5.5.17 Access Control Service Support
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Sep 25, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1675:
          </para>
          <para>
            Door Control Features Support section (Door Entity was added section)
          </para>
          <para>
            Door Entity support was renamed to Door Entity Features Support
          </para>
          <para>
            Door Entity Features Support section (Door Entity was removed from section, pre-requisite was added)
          </para>
          <para>
            Door Control Events Support section (pre-requisite was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Sep 25, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1894:
          </para>
          <para>
            Scope (Metadata feature was added into Media2 service)
          </para>
          <para>
            Discovery Procedure (GetServices): Media2 Service – General updated  (Metadata feature added into Table 5.18 Media2 Service Features Support (GetServices))
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Oct 17, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1831:
          </para>
          <para>
            Scope (Supported Metadata feature was added under Analytics Modules)
          </para>
          <para>
            Discovery Procedure (GetServices): 5.5.11.1 Analytics Features Support  (Supported Metadata feature added into Table 5.42 Analytics Features Support (GetServices))
          </para>
          <para>
            Discovery Procedure (GetCapabilities): 5.6.13 Analytics Service Support  (Supported Metadata feature added into Table 5.101 Analytics Service (GetCapabilities))
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>19.12</revnumber>
        <date>Oct 21, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1837:
          </para>
          <para>
            Scope (Object Classification feature was added under Analytics Modules/Metadata Types)
          </para>
          <para>
            Discovery Procedure (GetServices): 5.5.11.3 Analytics Service - Metadata Types section with Object Classification feature added
          </para>
          <para>
            Discovery Procedure (GetCapabilities): 5.6.13 Analytics Service - Metadata Types (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 10, 2019</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1880 and #1882:
          </para>
          <para>
            Scope (Whitelist and Blacklist features were added)
          </para>
          <para>
            Discovery Procedure (GetServices): Credential Features Support (Whitelist and Blacklist features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 13, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1923:
          </para>
          <para>
            Scope (AccessControl/AccessGranted/Identifier and AccessControl/Denied/Identifier features were added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Control Events Support (AccessControl/AccessGranted/Identifier and AccessControl/Denied/Identifier features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 15, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1841:
          </para>
          <para>
            Scope (Analytics Service/Analytics Modules/Supported Metadata/Object Classification/Vehicle Info feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Vehicle Info feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 15, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1878:
          </para>
          <para>
            Scope (Access Control Service\Access Point Entity\Identifier Access feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Point Entity Support and Access Point Features Support (Identifier Access feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Jan 16, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1845:
          </para>
          <para>
            Scope (Analytics Service/Analytics Modules/Supported Metadata/Geo Location feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Geo Location feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Feb 10, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1820:
          </para>
          <para>
            Scope (Analytics Service/Analytics Modules/Supported Metadata/Human Face feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Human Face feature was added)
          </para>
          <para>
            The following were updated in the scope of #1843:
          </para>
          <para>
            Scope (Analytics Service/Analytics Modules/Supported Metadata/License Plate feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (License Plate feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Feb 12, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1995:
          </para>
          <para>
            Scope (Event Service /Event Broker feature with subfeatures was added)
          </para>
          <para>
            5.5.7.1 Event service features (Event Broker, mqtt, mqtts, ws, and wss features were added)
          </para>
          <para>
            5.6.9.1 Event service features (Event Broker, mqtt, mqtts, ws, and wss features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Mar 11, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1901:
          </para>
          <para>
            Scope (Media2 /Media2 Events was added)
          </para>
          <para>
            5.5.6.6 Media2 Events Support section (added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Mar 17, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1835:
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Features Support (Image Sending, Embedded Image Sending Type, Local Storage Image Sending Type, Remote Storage Image Sending Type features were added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Analytics Service Support (Image Sending, Embedded Image Sending Type, Local Storage Image Sending Type, Remote Storage Image Sending Type features were added)
          </para>
          <para>
            Scope (Image Sending, Embedded Image Sending Type, Local Storage Image Sending Type, Remote Storage Image Sending Type features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Mar 17, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1847 and #1849:
          </para>
          <para>
            Discovery Procedure (GetServices): Motion Region Detector Rule section was rename to Supported Rules section.
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Motion Region Detector Rule section was rename to Supported Rules section.
          </para>
          <para>
            Discovery Procedure (GetServices): Supported Rules (Face Recognition Rule, License Plate Recognition Rule features were added).
          </para>
          <para>
            Scope (Face Recognition Rule, License Plate Recognition Rule features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>Apr 16, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2037:
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Human Face feature was updated)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Human feature was replaced wit Human Body feature)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (License Plate feature was replaced with License Plate Info feature)
          </para>
          <para>
            Discovery Procedure (GetServices): Analytics Service - Supported Metadata (Vehicle feature was replaced with Vehicle Info feature)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.06</revnumber>
        <date>May 12, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1999:
          </para>
          <para>
            Feature Discovery Procedure (Pull-Point Notification added)
          </para>
          <para>
            Discovery Procedure (GetServices): Event Service section updated (reformatted, Event Service definition changed, Event Service - Pull-Point Notification Support section added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Event Service section updated (reformatted, Event Service definition changed, Event Service - Pull-Point Notification Support section added)
          </para>        
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.12</revnumber>
        <date>Sep 25, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2093 and #2094:
          </para>
          <para>
            Feature Discovery Procedure (User Configuration and Network Configuration added)
          </para>
          <para>
            Discovery Procedure (GetServices): Device Management Service Capabilities section updated (User Configuration and Network Configuration features added)
          </para>
          <para>
            Discovery Procedure (GetCapabilities): Device Service Capabilities Configuration Functionality in Device Management Service section updated (User Configuration and Network Configuration features added)
          </para>        
        </revdescription>
      </revision>
    <revision>
        <revnumber>20.12</revnumber>
        <date>Oct 26, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1866:
          </para>
          <para>            
Discovery Procedure (GetServices): Credential Features Support  (Credential Entity added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Point Entity Support and Access Point Features Support (Access Point Entity feature removed)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Control Service Features Support (Access Point Entity feature added, MaxAccessPoints Capability feature added)
          </para>  
        <para>
            Discovery Procedure (GetServices): Access Point Entity Support and Access Point Features Support renamed to Access Point Features Support 
          </para>  
  <para>
            Discovery Procedure (GetServices): Door Control Features Support (MaxDoors Capability feature added)
          </para> 
                
                
        </revdescription>
      </revision>
      <revision>
        <revnumber>20.12</revnumber>
        <date>Nov 06, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2094:
          </para>
          <para>            
5.5.2 HTTPS Support section (Pre-requisite to support Network Configuration added).
          </para>
          <para> 
        IPv6 feature definition in Device Capabilities Configuration Functionality in Device Management Service (GetServices) section.
        </para>
        </revdescription>
      </revision>    
      <revision>
        <revnumber>21.06</revnumber>
        <date>Dec 21, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2107:
          </para>
          <para>
            Scope (Access Control Service\Access Point Entity\Feedback  feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): Access Point Entity Support and Access Point Features Support (Feedback feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>Dec 26, 2020</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1879:
          </para>
          <para>
            Scope (Access Control Service\Access Point Events\ AccessControl/AccessTaken/Identifier  feature was added)
          </para>
          <para>
            Scope (Access Control Service\Access Point Events\ AccessControl/AccessNotTaken/Identifier  feature was added)
          </para>
          <para>
            Discovery Procedure (GetServices): 5.5.17.4 Access Control Events Support (AccessControl/AccessTaken/Identifier and AccessControl/AccessNotTaken/Identifier features were added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>Feb 01, 2021</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2124:
          </para>
          <para>
            Discovery Types Support section was updated and moved from general section to Discovery Procedure (GetServices) and Discovery Procedure (GetCapabilities).
          </para>          
          <para>
            Discovery Procedure (GetServices): 5.4.1 Device Management Service Capabilities (Discovery features was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>Apr 09, 2021</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2124:
          </para>
          <para>
            Pre-Configuration Procedure (IPv6 Enabling Pre-Configuration Procedure).
          </para>      
          
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.06</revnumber>
        <date>Apr 22, 2021</date>
        <revdescription>
          <para>
            The following were updated in the scope of #1853:
          </para>
          <para>
            Discovery Procedure (GetServices): Supported Rules (Line Crossing Counting Rule feature was added).
          </para>
          <para>
            Scope (Line Crossing Counting Rule feature was added)
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.12</revnumber>
        <date>Oct 13, 2021</date>
        <revdescription>
          <para>
            The following were updated in the scope of #2222:
          </para>
          <para>
            Mask feature support was added in Media2 Service – general.
          </para>
          <para>
            Scope list updated.
          </para>
        </revdescription>
      </revision>
      <revision>
        <revnumber>21.12</revnumber>
        <date>Dec 15, 2021</date>
        <revdescription>
          <para>Profile Q  was removed from Informative References according to #2204</para>

        </revdescription>
      </revision>

      
    </revhistory>
  </info>
  <chapter xml:id="s.intro">
    <title>Introduction</title>
    <para>
      ONVIF Test Specification ([ONVIF Test]) defines/describes test cases need to verify according to [ONVIF Network Interface Specs], [ONVIF Conformance] in conjunction with a certain Profile Specification requirements. However, requirement on which test cases need to be executed and passed is out of the scope of [ONVIF Test]. Such requirements have to be described in a separate document.
    </para>
    <para>
      This document focuses on detailing out feature discovery procedure and pre-configuration procedure for ONVIF Device Test Tool (hereafter, it is referred to as ONVIF Client) to identify which functionality is supported / not supported by DUT and to prepare DUT for further testing.
    </para>
    <para>
      Based on these results of the feature discovery, which test cases shall be executed and passed will be determined for the purpose of claiming conformance to Profile specification. Some feature detection will be based on capability query, and some other feature detection will be based on error code response retrieval toward a specific request.
    </para>
    <para>
      Pre-configuration procedure provide possibility automatically pre-configure the DUT before test execution to prevent additional time expenses for Test Operator or conformance time.
    </para>
    <section xml:id="s.intro.scope">
      <title>Scope</title>
      <para>
        The scope of this document is to define:
        <itemizedlist>
          <listitem>
            <para>
              Feature discovery procedure of the functionality listed in <xref linkend="s.intro.scope.discovery"/>.
            </para>
          </listitem>
          <listitem>
            <para>
              Pre-configuration procedure for the items listed in <xref linkend="s.intro.scope.pre-configuration"/>.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <section xml:id="s.intro.scope.discovery"
               xreflabel="Section 1.1.1">
        <title>Feature Discovery Procedure</title>
        <para>
          Feature discovery procedure includes logic description for the following features:
          <itemizedlist>
            <listitem>
              <para>
                Security
                <itemizedlist>
                  <listitem>
                    <para>
                      WS-UsernameToken
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      HTTP digest authentication
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Discovery
                <itemizedlist>
                  <listitem>
                    <para>
                      Bye Message support
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Types
                      <itemizedlist>
                        <listitem>
                          <para>
                            dn:NetworkVideoTransmitter
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            tds:Device
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Device Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Capabilities
                      <itemizedlist>
                        <listitem>
                          <para>
                            GetCapabilities
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            GetServices
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Network
                      <itemizedlist>
                        <listitem>
                          <para>
                            Zero Configuration
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            NTP support
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            IPv6
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            DHCPv6
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Dynamic DNS
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            IP Filter
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            HTTPS
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      System
                      <itemizedlist>
                        <listitem>
                          <para>
                            System logging
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Http System Logging
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Http Firmware Upgrade
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Http Support Information
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Http System Backup
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            User Configuration
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Network Configuration
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Security
                      <itemizedlist>
                        <listitem>
                          <para>
                            Maximum Users
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Default Access Policy
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Remote User Handling
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Maximum Username Length
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Maximum Password Length
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            TLS1.0
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            TLS1.1
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            TLS1.2
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      I/O functionality
                      <itemizedlist>
                        <listitem>
                          <para>
                            Relay Outputs
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Bistable
                                  <itemizedlist>
                                    <listitem>
                                      <para>
                                        Open
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Closed
                                      </para>
                                    </listitem>
                                  </itemizedlist>
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Monostable
                                  <itemizedlist>
                                    <listitem>
                                      <para>
                                        Open
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Closed
                                      </para>
                                    </listitem>
                                  </itemizedlist>
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring Events
                <itemizedlist>
                  <listitem>
                    <para>
                      Monitoring/ProcessorUsage
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/OperatingTime/LastReset
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/OperatingTime/LastReboot
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/OperatingTime/LastClockSynchronization
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/Backup/Last
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/Mechanical/FanFailed
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/Mechanical/PowerSupplyFailed
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/Mechanical/StorageFailed
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Monitoring/EnvironmentalConditions/CriticalTemperature
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Device scopes retrieval via GetDeviceScopes
              </para>
            </listitem>
            <listitem>
              <para>
                Event Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Persistent notification storage support
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      WS Basic Notification
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Message Content Filter
                      <itemizedlist>
                        <listitem>
                          <para>
                            ONVIF Message Content Filter Dialect
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      GetServiceCapabilities
                      <itemizedlist>
                        <listitem>
                          <para>
                            MaxPullPoints capability
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Pull-Point Notification
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Event Broker
                      <itemizedlist>
                        <listitem>
                          <para>
                            Protocols
                            <itemizedlist>
                              <listitem>
                                <para>
                                  mqtt
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  mqtts
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  ws
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  wss
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Media Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Video
                      <itemizedlist>
                        <listitem>
                          <para>
                            JPEG
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            H.264
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            MPEG4
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Audio
                      <itemizedlist>
                        <listitem>
                          <para>
                            G.711
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            G.726
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AAC
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Audio outputs
                      <itemizedlist>
                        <listitem>
                          <para>
                            G.711
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            G.726
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AAC
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Real-time streaming
                      <itemizedlist>
                        <listitem>
                          <para>
                            RTP/UDP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP/RTSP/HTTP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP/RTSP/TCP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP-Multicast/UDP
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      GetSnapshotUri support
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Media2 Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Video
                      <itemizedlist>
                        <listitem>
                          <para>
                            H.265
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            H.264
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Audio
                      <itemizedlist>
                        <listitem>
                          <para>
                            G.711
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AAC
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Audio outputs
                      <itemizedlist>
                        <listitem>
                          <para>
                            G.711
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AAC
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Real-time streaming
                      <itemizedlist>
                        <listitem>
                          <para>
                            RTP/UDP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP/RTSP/HTTP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP/RTSP/HTTPS
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP/RTSP/TCP
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            RTP-Multicast/UDP

                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      RTSP WebSocket
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Snapshot Uri
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Video Source Mode
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      OSD
                      <itemizedlist>
                        <listitem>
                          <para>
                            Types
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Text
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Image
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>

                  </listitem>
                  <listitem>
                    <para>
                      Analytics
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Metadata
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Media2 Events
                      <itemizedlist>
                        <listitem>
                          <para>
                            Media/ProfileChanged
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Media/ConfigurationChanged
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>

                  </listitem>
                  <listitem>
                    <para>
                    Mask
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                PTZ Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Get Compatible Configurations
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Move Status
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Status Position
                    </para>
                  </listitem>
                </itemizedlist>
                <itemizedlist>
                  <listitem>
                    <para>
                      For each PTZ node:
                      <itemizedlist>
                        <listitem>
                          <para>
                            Absolut Move
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Pan/Tilt Movement
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Zoom Movement
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Relative Move
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Pan/Tilt Movement
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Zoom Movement
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Continuous Move
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Pan/Tilt Movement
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Zoom Movement
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Preset
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Home Position
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Configurable
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Fixed
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Auxiliary operations
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Speed
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Speed for Pan/Tilt
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Speed for Zoom
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Device IO Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Relay Outputs
                      <itemizedlist>
                        <listitem>
                          <para>
                            Relay Output Options
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            For each Relay Output node:
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Bistable Mode
                                  <itemizedlist>
                                    <listitem>
                                      <para>
                                        Open Idle Sate
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Closed Idle Sate
                                      </para>
                                    </listitem>
                                  </itemizedlist>
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Monostable Mode
                                  <itemizedlist>
                                    <listitem>
                                      <para>
                                        Open Idle Sate
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Closed Idle Sate
                                      </para>
                                    </listitem>
                                  </itemizedlist>
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Digital Inputs
                      <itemizedlist>
                        <listitem>
                          <para>
                            Digital Input Options
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Serial Ports
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Imaging Service
                <itemizedlist>
                  <listitem>
                    <para>
                      IrCutfilterConfiguration
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Tampering Events
                      <itemizedlist>
                        <listitem>
                          <para>
                            Image Too Blurry
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Image Too Dark
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Image Too Bright
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Global Scene Change
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Motion Alarm
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Focus Control
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Analytics Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Rule Engine
                      <itemizedlist>
                        <listitem>
                          <para>
                            Rule Options
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Supported Rules
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Motion Region Detector Rule
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Face Recognition Rule
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  License Plate Recognition Rule
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Analytics Modules
                      <itemizedlist>
                        <listitem>
                          <para>
                            Analytics Module Options
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Supported Metadata
                            <itemizedlist>
                              <listitem>
                                <para>
                                  Geo Location
                                </para>
                              </listitem>
                              <listitem>
                                <para>
                                  Object Classification
                                  <itemizedlist>
                                    <listitem>
                                      <para>
                                        Vehicle Info
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Human Face
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        Human Body
                                      </para>
                                    </listitem>
                                    <listitem>
                                      <para>
                                        License Plate Info
                                      </para>
                                    </listitem>
                                  </itemizedlist>
                                </para>
                              </listitem>
                            </itemizedlist>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Image Sending
                      <itemizedlist>
                        <listitem>
                          <para>
                            Embedded Image Sending Type
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Local Storage Image Sending Type
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Remote Storage Image Sending Type
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Recording Control Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Dynamic Recordings
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Dynamic Tracks
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Audio Recording
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Recording Options
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tns1:RecordingConfig/DeleteTrackData
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Metadata Recording
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Encoding
                      <itemizedlist>
                        <listitem>
                          <para>
                            JPEG
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            H.264
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            MPEG4
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Recording Search Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Metadata Search
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      PTZ Position Search
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Replay Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Reverse Replay
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      RTP/RTSP/TCP
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Receiver Service
              </para>
            </listitem>
            <listitem>
              <para>
                Door Control Service
                <itemizedlist>
                  <listitem>
                          <para>
                            MaxDoors Capability
                          </para>
                        </listitem>
                  <listitem>
                    <para>
                      Door Entity
                      <itemizedlist>
                        <listitem>
                          <para>
                            Access Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Lock Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Unlock Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Double Lock Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Block Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Lock Down Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Lock Open Door
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door Monitor
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Lock Monitor
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Double Lock Monitor
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Alarm
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Tamper
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Fault
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Door Events support
                      <itemizedlist>
                        <listitem>
                          <para>
                            Door/State/DoorMode
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/DoorPhysicalState
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/LockPhysicalState
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/DoubleLockPhysicalState
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/DoorAlarm
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/DoorTamper
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Door/State/DoorFault
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/Door/Changed
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/Door/Removed
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Door Management
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Client Supplied Token (Door)
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Access Control Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Area Entity
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      MaxAccessPoints Capability
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Access Point Entity
                      <itemizedlist>
                        <listitem>
                          <para>
                            Enable/Disable Access Point
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Duress
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Access Taken
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            External Authorization
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Anonymous Access
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Identifier Access
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Feedback
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Access Point Events
                      <itemizedlist>
                        <listitem>
                          <para>
                            AccessControl/AccessGranted/Anonymous
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessGranted/Credential
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessTaken/Anonymous
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessTaken/Credential
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessTaken/Identifier
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessNotTaken/Anonymous
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessNotTaken/Credential
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessNotTaken/Identifier
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Denied/Anonymous
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Denied/Credential
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Denied/CredentialNotFound/Card
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Denied/CredentialNotFound
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Duress
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Request/Anonymous
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Request/Credential
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Request/Timeout
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessPoint/State/Enabled
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/AccessPoint/Changed
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/AccessPoint/Removed
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/Area/Changed
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Configuration/Area/Removed
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/AccessGranted/Identifier
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            AccessControl/Denied/Identifier
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>


                  <listitem>
                    <para>
                      Access Point Management
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Area Management
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Client Supplied Token (Area, Access Point)
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Security Configuration Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Keystore features support
                      <itemizedlist>
                        <listitem>
                          <para>
                            RSA Key Pair Generation
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            PKCS10 External Certification with RSA
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Self-Signed Certificate Creation with RSA
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Passphrase Management
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            PKCS8 Container Upload
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            PKCS12 Container Upload
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            CRLs
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Certification path validation policies
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            TLS WWW client auth extended key usage extension
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            No Private Key Sharing
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      TLS features support
                      <itemizedlist>
                        <listitem>
                          <para>
                            TLS Server
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            TLS client authentication
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            Enabled TLS Versions
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Credential Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Credential Entity
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Supported Identifier Types
                      <itemizedlist>
                        <listitem>
                          <para>
                            pt:Card
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            pt:PIN
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            pt:Fingerprint
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            pt:Face
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            pt:Iris
                          </para>
                        </listitem>
                        <listitem>
                          <para>
                            pt:Vein
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Credential Validity
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Credential Access Profile Validity
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Validity Supports Time Value
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Reset Antipassback Violation
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Client Supplied Token
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Whitelist
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Blacklist
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      SupportedExemptionType
                      <itemizedlist>
                        <listitem>
                          <para>
                            pt:ExemptFromAuthentication
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Access Rules Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Multiple Schedules per Access Point
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Client Supplied Token
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Schedule Service
                <itemizedlist>
                  <listitem>
                    <para>
                      Extended Recurrence
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Special Days
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      State Reporting
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      Client Supplied Token
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
            <listitem>
              <para>
                Provisioning Service
              </para>
            </listitem>
            <listitem>
              <para>
                Thermal Service
              </para>
            </listitem>
            <listitem>
              <para>
                Auxiliary Commands
                <itemizedlist>
                  <listitem>
                    <para>
                      tt:Wiper|On
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:Wiper|Off
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:Washer|On
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:Washer|Off
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:WashingProcedure|On
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:WashingProcedure|Off
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:IRLamp|On
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:IRLamp|Off
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      tt:IRLamp|Auto
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          The coverage of the discovery procedure will be evolving in accordance with [ONVIF Test] version evolution and addition of Profile Specification.
        </para>
      </section>
      <section xml:id="s.intro.scope.pre-configuration"
               xreflabel="Section 1.1.2">
        <title>Pre-Configuration Procedure</title>
        <para>
          Pre-configuration procedure includes logic description for the following items:
          <itemizedlist>
            <listitem>
              <para>
                Enabling of IPv6 network configuration
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          Pre-configuration procedure shall have no impact on conformance results even in the case of failures.
        </para>
      </section>
    </section>
  </chapter>
  <chapter xml:id="s.docbook">
    <title>Normative References</title>
    <itemizedlist>
      <listitem>
        <para>[ONVIF Network Interface Specs] ONVIF Network Interface Specification documents:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/specifications/">https://www.onvif.org/profiles/specifications/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Conformance] ONVIF Conformance Process Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/">https://www.onvif.org/profiles/conformance/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Test] ONVIF Device Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Base Test] ONVIF Base Device Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Media Test] ONVIF Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF PTZ Test] ONVIF PTZ Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Imaging Test] ONVIF Imaging Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Recording Control Test] ONVIF Recording Control Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Receiver Test] ONVIF Receiver Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Replay Control Test] ONVIF Replay Control Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Recording Search Test] ONVIF Recording Search Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Access Test] ONVIF Access Control Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Door Test] ONVIF Door Control Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Security Configuration Test] ONVIF Security Configuration Device Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Credential Test] ONVIF Credential Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Access Rules Test] ONVIF Access Rules Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>[ONVIF Schedule Test] ONVIF Schedule Test Specification:</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>

    </itemizedlist>
  </chapter>
  <chapter xml:id="s.docbook2">
    <title>Informative References</title>
    <itemizedlist>
      <listitem>
        <para>[ONVIF Test Case Summary]	ONVIF Test Case Summary for Profile Conformance</para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/conformance/device-test/">https://www.onvif.org/profiles/conformance/device-test/</link>
        </para>
      </listitem>
      <listitem>
        <para>
          [ONVIF Profile S]	ONVIF Profile S Specification
        </para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/profile-s/ ">https://www.onvif.org/profiles/profile-s/ </link>
        </para>
      </listitem>
      <listitem>
        <para>
          [ONVIF Profile G]	ONVIF Profile G Specification
        </para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/profile-g/ ">https://www.onvif.org/profiles/profile-g/ </link>
        </para>
      </listitem>
      <listitem>
        <para>
          [ONVIF Profile C]	ONVIF Profile C Specification
        </para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/profile-c/ ">https://www.onvif.org/profiles/profile-c/ </link>
        </para>
      </listitem>
      <listitem>
        <para>
          [ONVIF Profile A]	ONVIF Profile A Specification
        </para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/profile-a/ ">https://www.onvif.org/profiles/profile-a/ </link>
        </para>
      </listitem>
      <listitem>
        <para>
          [ONVIF Profile T]	ONVIF Profile T Specification
        </para>
        <para>
          <link xlink:href="https://www.onvif.org/profiles/profile-t/">https://www.onvif.org/profiles/profile-t/</link>
        </para>
      </listitem>

    </itemizedlist>
  </chapter>
  <chapter xml:id="additions">
    <title>Terms and Definitions</title>
    <section xml:id="additions.definitions">
      <title>Definitions</title>
      <para>This section defines terms that are specific to the ONVIF Feature Discovery.</para>
      <variablelist>
        <varlistentry>
          <term>Capability</term>
          <listitem>
            <para>
              The capability commands allow a client to ask for the services provided by an ONVIF device.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Network</term>
          <listitem>
            <para>
              A network is an interconnected group of devices communicating using the Internet protocol.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ONVIF Client</term>
          <listitem>
            <para>
              ONVIF Device Test Tool in the context of this document
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Key</term>
          <listitem>
            <para>
              A key is an input to a cryptographic algorithm. Sufficient randomness of the key is usually a necessary condition for the security of the algorithm. This specification supports RSA key pairs as keys.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Key Pair</term>
          <listitem>
            <para>
              A key that consists of a public key and (optionally) a private key.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>RSA key pair</term>
          <listitem>
            <para>
              A key pair that is accepted as input by the RSA algorithm.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Certificate</term>
          <listitem>
            <para>A certificate as used in this specification binds a public key to a subject entity. The certificate is digitally signed by the certificate issuer (the certification authority) to allow for verifying its authenticity</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="additions.abbreviations">
      <title>Abbreviations</title>
      <para>This section describes abbreviations used in this document.</para>
      <variablelist>
        <varlistentry>
          <term>DUT</term>
          <listitem>
            <para>
              Device Under Test
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>DNS</term>
          <listitem>
            <para>
              Domain Name System
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>DHCP</term>
          <listitem>
            <para>
              Dynamic Host Configuration Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>IP</term>
          <listitem>
            <para>
              Internet Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>IPv4</term>
          <listitem>
            <para>
              Internet Protocol version 4
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>IPv6</term>
          <listitem>
            <para>
              Internet Protocol version 6
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>NTP</term>
          <listitem>
            <para>
              Network Time Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>RTCP</term>
          <listitem>
            <para>
              RTP Control Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>RTSP</term>
          <listitem>
            <para>
              Real Time Streaming Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>RTP</term>
          <listitem>
            <para>
              Real-time Transport Protocol
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>URI</term>
          <listitem>
            <para>
              Uniform Resource Identifier
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>TLS</term>
          <listitem>
            <para>Transport Layer Security</para>
          </listitem>
        </varlistentry>

      </variablelist>
    </section>
  </chapter>
  <!--Discovery procedure-->
  <chapter xml:id="tc.discovery_procedure">
    <title>Discovery Procedure</title>
    <para>
      This section describes policy on how ONVIF Client assumes that a certain feature is supported or not, followed by respective feature discovery procedures.
    </para>
    <!-- General policy -->
    <section xml:id="tc.discovery_procedure.general_policy">
      <title>General Policy</title>
      <para>
        ONVIF Client will issue capability query command (GetCapabilities or GetServices/GetServiceCapabilities depending on DUT possibilities) to get to know whether a certain feature is supported by DUT. If the DUT returns correct response, ONVIF Client determines whether a feature in question is supported or not, based on the content of the response. If the DUT returns unexpected response or it does not return any response, ONVIF Client assumes that the capability query command which is being used is not supported by DUT.
      </para>
      <para>
        There are a number of functions which are defined as conditionally required. And there are some of functions which are not present in any capability response fields. As for these commands, ONVIF Client will issue the very function command to determine whether the function is supported or not. In the case that the DUT returns a correct response to indicate no function support such as SOAP fault env:Receiver/ter:ActionNotSupported/ter:NoSuchService, ONVIF Client assumes that the function is not supported by DUT. In case the DUT returns an unexpected response or it does not return any response, ONVIF Client will mark the function support in question as undefined.
      </para>
      <para>
        After going through all the feature discovery steps based on the above general policy, what are marked as supported and undefined will be processed as supported features during conformance testing.
      </para>
    </section>
    <!-- Feature Support Criteria -->
    <section xml:id="tc.discovery_procedure.feature_support_criteria"
             xreflabel="Section 5.2">
      <title>Feature Support Criteria</title>
      <!--<para>
				Feature support criteria in the specification are defined using the following table format outlined in <xref linkend="tc.discovery_procedure.feature_support_criteria.table.5.1">Table 5.1</link>.
			</para>-->
      <para>
        Feature support criteria in the specification are defined using the following table format outlined in <xref linkend="tc.discovery_procedure.feature_support_criteria.table.5.1"
              xrefstyle="template:Table %n"/>
      </para>
      <para>
        <table frame='all'
               xml:id="tc.discovery_procedure.feature_support_criteria.table.5.1">
          <title>Feature Support Criteria Description Outline Used in This Specification</title>
          <tgroup cols="3"
                  align='center'>
            <colspec colname="c1"/>
            <colspec colname="c2"/>
            <colspec colname="c3"/>
            <thead>
              <row>
                <entry>
                  Criterion Item
                </entry>
                <entry namest="c2"
                       nameend="c3">
                  <?dbhtml bgcolor="#FFFFFF" ?>
                  Criteria_item_description
                </entry>
              </row>
              <row>
                <entry>Feature &lt;(for each Entity_type)&gt;</entry>
                <entry>Supported</entry>
                <entry>Not Supported</entry>
              </row>
            </thead>
            <tbody>

              <row>
                <entry>
                  Feature_name1
                </entry>
                <entry>
                  <emphasis role="bold">Supported_criteria_feature1</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">NotSupported_criteria_feature1</emphasis>
                </entry>
              </row>
              <row>
                <entry>Feature_name2</entry>
                <entry>
                  <emphasis role="bold">Supported_criteria_feature2</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">NotSupported_criteria_feature2</emphasis>
                </entry>
              </row>
              <row>
                <entry>
                  <emphasis role="bold">...</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">...</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">...</emphasis>
                </entry>
              </row>
              <row>
                <entry>Feature_nameN</entry>
                <entry>
                  <emphasis role="bold">Supported_criteria_featureN</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">NotSupported_criteria_featureN</emphasis>
                </entry>

              </row>
            </tbody>
          </tgroup>
        </table>
      </para>
      <para>
        The <emphasis role="bold">Feature</emphasis> column includes a list of features that is defined in current table.
      </para>
      <para>
        The <emphasis role="bold">Feature</emphasis> cell could have optional brackets with definition of entity type for which the features will be defined (for example, for each PTZ Node). If there are no brackets the features are general for the DUT.
      </para>
      <para>
        The <emphasis role="bold">Criterion item</emphasis> field contains item description which value will be used as criteria to check feature support.
      </para>
      <para>
        The <emphasis role="bold">Supported</emphasis> column includes conditions when feature in the same row will be assumed as supported depending on criteria item value.
      </para>
      <para>
        The <emphasis role="bold">Not Supported</emphasis> column includes conditions when feature in the same row will be assumed as not supported depending on criteria item value.
      </para>
    </section>
    
    <!-- Capabilities -->
    <section xml:id="tc.discovery_procedure.capabilities">
      <title>Capabilities</title>
      <para>
        From the first version of ONVIF Core Specification document, GetCapabilities command defined in Device Management Service was the only command to get to know the various feature capabilities by DUT. This capability query scheme was modified in the later version of [ONVIF Network Interface Specs] in order to enhance its scalability. In the case when only GetCapabilities command is supported by DUT, the following procedure focuses on GetCapabilities commands as supported capability query method by DUT. In the case when GetServices/GetServiceCapabilities commands are supported by DUT the following procedure focuses on GetServices commands as supported capability query method, which provides more possibilities for feature discovery.
      </para>
      <para>
        <emphasis role="bold">Discovery Procedure:</emphasis>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes GetCapabilitiesRequest message without any authentication to retrieve the capabilities and check GetCapabilities command support by DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <!-- <para>
										If DUT returns correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>
									</para> -->
                  <para>
                    If DUT returns correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns fault message (any SOAP fault except Sender/NotAuthorized) or it does not return any response. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns fault message (SOAP fault Sender/NotAuthorized), go to step <xref linkend="tc.discovery_procedure.capabilities.2"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns HTTP 401 Unauthorized error, go to step <xref linkend="tc.discovery_procedure.capabilities.3"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.2">
            <para>
              ONVIF Client invokes GetCapabilitiesRequest message with WS-UsernameToken authentication to retrieve the capabilities and check GetCapabilities command support of DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT returns correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT does not return correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.3">
            <para>
              ONVIF Client invokes GetCapabilitiesRequest message with HTTP Digest authentication to retrieve the capabilities and check GetCapabilities command support of DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT returns correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT does not return correct GetCapabilitiesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.4"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.4">
            <para>
              ONVIF Client invokes GetServicesRequest message without any authentication to retrieve the capabilities and check GetServices command support by DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT returns GetServicesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.7"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns fault message (any SOAP fault except Sender/NotAuthorized) or it does not return any response. Go to step <xref linkend="tc.discovery_procedure.capabilities.7"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns fault message (Sender/NotAuthorized), go to step <xref linkend="tc.discovery_procedure.capabilities.5"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT returns HTTP 401 Unauthorized error, go to step <xref linkend="tc.discovery_procedure.capabilities.6"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.5">
            <para>
              ONVIF Client invokes GetServicesRequest message with WS-UsernameToken authentication to retrieve the capabilities and check GetServices command support of DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT returns GetServicesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.7"/>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT does not return GetServicesResponse message. Go to step <xref linkend="tc.discovery_procedure.capabilities.7"/>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.6">
            <para>
              ONVIF Client invokes GetServicesRequest message with HTTP Digest authentication to retrieve the capabilities and check GetServices command support by DUT.
              <orderedlist numeration="loweralpha">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    If DUT returns GetServicesResponse message.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If DUT does not return GetServicesResponse message.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem xml:id="tc.discovery_procedure.capabilities.7">
            <para>
              ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.capabilities.table.5.3"
                    xrefstyle="template:Table %n"/>.

            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If both GetCapabilities and GetServices functions are defined as unsupported, other features will be marked as undefined.

      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> Next steps will depend on GetServices support. If GetServices is supported by DUT, then 5.5 Discovery Procedure (GetServices and GetServiceCapabilities) will be used. If only GetCapabilities is supported by DUT then 5.6 Discovery Procedure (GetCapabilities) will be used.

      </para>
      <para>
        <table xml:id="tc.discovery_procedure.capabilities.table.5.3">
          <title>Capabilities</title>
          <tgroup cols="3"
                  align='center'>
            <colspec colname="c1"/>
            <colspec colname="c2"/>
            <colspec colname="c3"/>
            <thead>
              <row>
                <entry>
                  Criterion Item
                </entry>
                <entry namest="c2"
                       nameend="c3">
                  <?dbhtml bgcolor="#FFFFFF" ?>

                  GetServicesResponse message and GetCapabilitiesResponse message
                </entry>
              </row>
              <row>
                <entry>Feature</entry>
                <entry>Supported</entry>
                <entry>Not Supported</entry>
              </row>
            </thead>
            <tbody>

              <row xml:id="tc.c-GetCapabilities">
                <entry>
                  GetCapabilities
                </entry>
                <entry>
                  <emphasis role="bold">GetCapabilitiesResponse was received</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">No GetCapabilitiesResponse was received (fault was received or DUT does not return any response)</emphasis>
                </entry>
              </row>
              <row xml:id="tc.s-GetServices">
                <entry>
                  GetServices
                </entry>
                <entry>
                  <emphasis role="bold">GetServicesResponse was received</emphasis>
                </entry>
                <entry>
                  <emphasis role="bold">No GetServicesResponse was received (fault was received or DUT does not return any response)</emphasis>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </para>



    </section>
    <!-- Discovery Procedure (GetServices and GetServiceCapabilities) -->
    <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities">
      <title>Discovery Procedure (GetServices and GetServiceCapabilities)</title>
      <para>
        If GetServices is supported by the DUT, then GetServices and GetServiceCapabilities commands will be used for feature discovery procedure. The following provides with the functionality discovery procedure for this case.
      </para>
      <!--Device Management Service Capabilities-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_management_service_capabilities"
               xreflabel="Section 5.5.1">
        <title>Device Management Service Capabilities</title>
        <para>
          There are various device management functions defined in [ONVIF Core] as a part of ONVIF Device Management Service.
        </para>
        <para>
          In the first version of [ONVIF Core], WS-UsernameToken support was the only method defined as a mandatory feature for user authentication. This has been changed in the later version of [ONVIF Core] where it also defines the HTTP digest authentication support as a mandatory feature.
        </para>
        <para>
          The following discovery procedure will be performed for ONVIF Client to determine which user authentication function will be used in conformance testing. Also network configuration, security support, WS-Discovery features, and system logging will be done during this discovery procedure.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem xml:id="tc.device_management_service_capabilities.1">
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message for Device Management without any authentication to retrieve the Device Management Service capabilities of the DUT.
                <orderedlist numeration="loweralpha">
                  <?dbfo label-width="2.5em"?>
                  <listitem>
                    <para>
                      If the DUT returns correct GetServiceCapabilitiesResponse message, go to step <xref linkend="tc.device_management_service_capabilities.4"/>.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      If the DUT returns fault message (SOAP fault Sender/NotAuthorized), go to step <xref linkend="tc.device_management_service_capabilities.2"/>.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      If the DUT returns HTTP 401 Unauthorized error, go to step <xref linkend="tc.device_management_service_capabilities.3"/>.
                    </para>
                  </listitem>
                </orderedlist>
              </para>
            </listitem>
            <listitem xml:id="tc.device_management_service_capabilities.2">
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message with WS-UsernameToken authentication to retrieve the Device Management Service capabilities of the DUT. Go to the step <xref linkend="tc.device_management_service_capabilities.4"/>.
              </para>
            </listitem>
            <listitem xml:id="tc.device_management_service_capabilities.3">
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message with HTTP Digest authentication to retrieve the Device Management Service capabilities of the DUT. Go to the step <xref linkend="tc.device_management_service_capabilities.4"/>.
              </para>
            </listitem>
            <listitem xml:id="tc.device_management_service_capabilities.4">
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_management_service_capabilities.table5.4"
                      xrefstyle="template:Table %n"/>.


              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT returns no response for step <xref linkend="tc.device_management_service_capabilities.1"/> or response differs from the provided in a, b, and c items at step <xref linkend="tc.device_management_service_capabilities.1"/>, then all Device Management features will be marked as undefined.

        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse message for steps <xref linkend="tc.device_management_service_capabilities.2"/> or <xref linkend="tc.device_management_service_capabilities.3"/>, then all Device Management features will be marked as undefined.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If both of WS-UsernameToken and Digest are defined as unsupported, WS-UsernameToken will be used for test performance and discovering of following features.

        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If HTTP digest authentication is assumed as supported, the HTTP digest authentication scheme will be used in the following feature discovery procedure whenever necessary as well as in conformance testing.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_management_service_capabilities.table5.4">
            <title>Device Capabilities Configuration Functionality in Device Management Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>

              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetServiceCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-NTP">
                  <entry>
                    NTP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network.NTP > 0</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Network.NTP or Capabilities.Network.NTP = 0</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-IPv6">
                  <entry>
                    IPv6
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network. IPVersion6 = true and Network Configuration feature is supported</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Device.Network. IPVersion6 or Capabilities.Device.Network. IPVersion6 = false or Network Configuration feature is not supported</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-ZeroConfiguration">
                  <entry>
                    Zero Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network. ZeroConfiguration = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Network. ZeroConfiguration or Capabilities.Network. ZeroConfiguration = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DynamicDNS">
                  <entry>
                    Dynamic DNS
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network.DynDNS = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Network. DynDNS or Capabilities.Network. DynDNS = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-IPFilter">
                  <entry>
                    IP Filter
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network.IPFilter = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Network. IPFilter or Capabilities.Network. IPFilter = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DHCPv6">
                  <entry>
                    Stateful IPv6 DHCP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Network.DHCPv6 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Network. DHCPv6 or Capabilities.Network. DHCPv6 = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WSU">
                  <entry>
                    WS-UsernameToken
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. UsernameToken = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. UsernameToken or Capabilities. Security.UsernameToken = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Digest">
                  <entry>
                    HTTP Digest
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. HttpDigest = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. HttpDigest or Capabilities. Security.HttpDigest = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MaxUsers">
                  <entry>
                    Maximum Users
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxUsers element is present</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxUsers element is not present</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DefaultAccessPolicy">
                  <entry>
                    Default Access Policy
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. DefaultAccessPolicy = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. HttpDigest or Capabilities. Security. DefaultAccessPolicy = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-RemoteUserHandling">
                  <entry>
                    Remote User Handling
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. RemoteUserHandling = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities. Security. RemoteUserHandling or Capabilities.Security. RemoteUserHandling = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MaximumUsernameLength">
                  <entry>
                    Maximum Username Length
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxUsernameLength element is present</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxUsernameLength element is not present</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MaximumPasswordLength">
                  <entry>
                    Maximum Password Length
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxPasswordLength element is present</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. MaxPasswordLength element is not present</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-TLS10">
                  <entry>
                    TLS1.0
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. TLS1.0 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. TLS1.0 or Capabilities.Security. TLS1.0 = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-TLS11">
                  <entry>
                    TLS1.1
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. TLS1.1 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. TLS1.1 or Capabilities.Security. TLS1.1 = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-TLS12">
                  <entry>
                    TLS1.2
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Security. TLS1.2 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Security. TLS1.2 or Capabilities.Security. TLS1.2 = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Discovery">
                  <entry>
                    Discovery
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. DiscoveryNotSupported or Capabilities.System. DiscoveryNotSupported = false</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. DiscoveryNotSupported = true</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-BYE">
                  <entry>
                    Bye Message
                  </entry>
                  <entry>
                    <emphasis role="bold"> Discovery feature is supported AND Capabilities.System. DiscoveryBye = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. DiscoveryBye OR Capabilities. System.DiscoveryBye = false OR Discovery feature is not supported</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-SystemLogging">
                  <entry>
                    System logging
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. SystemLogging = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. SystemLogging or Capabilities. System.SystemLogging = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-HttpFirmwareUpgrade">
                  <entry>
                    Http Firmware Upgrade
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. HttpFirmwareUpgrade = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. HttpFirmwareUpgrade or Capabilities. System. HttpFirmwareUpgrade = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-HttpSystemBackup">
                  <entry>
                    Http System Backup
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. HttpSystemBackup = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. HttpSystemBackup or Capabilities. System. HttpSystemBackup = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-HttpSystemLogging">
                  <entry>
                    Http System Logging
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. HttpSystemLogging = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. HttpSystemLogging or Capabilities. System. HttpSystemLogging = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-HttpSupportInformation">
                  <entry>
                    Http Support Information
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. HttpSupportInformation = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. HttpSupportInformation or Capabilities. System. HttpSupportInformation = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-UserConfiguration">
                  <entry>
                    User Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. UserConfigNotSupported or Capabilities.System. UserConfigNotSupported = false</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. UserConfigNotSupported = true</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-NetworkConfiguration">
                  <entry>
                    Network Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.System. UserConfigNotSupported or Capabilities.System. NetworkConfigNotSupported = false</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. NetworkConfigNotSupported = true</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-AuxiliaryCommands">
                  <entry>
                    Auxiliary Commands
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands  is not empty</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities.Misc. AuxiliaryCommands is empty or Capabilities.Misc. AuxiliaryCommands is not present
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WiperOn">
                  <entry>
                    tt:Wiper|On
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:Wiper|On</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:Wiper|On</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WiperOff">
                  <entry>
                    tt:Wiper|Off
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:Wiper|Off</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:Wiper|Off</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WasherOn">
                  <entry>
                    tt:Washer|On
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:Washer|On</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:Washer|On</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WasherOff">
                  <entry>
                    tt:Washer|Off
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:Washer|Off</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:Washer|Off</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WashingProcedureOn">
                  <entry>
                    tt:WashingProcedure|On
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:WashingProcedure|On</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:WashingProcedure|On</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-WashingProcedureOff">
                  <entry>
                    tt:WashingProcedure|Off
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:WashingProcedure|Off</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:WashingProcedure|Off</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-IRLampOn">
                  <entry>
                    tt:IRLamp|On
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:IRLamp|On</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:IRLamp|On</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-IRLampOff">
                  <entry>
                    tt:IRLamp|Off
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:IRLamp|Off</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:IRLamp|Off</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-IRLampAuto">
                  <entry>
                    tt:IRLamp|Auto
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands contains tt:IRLamp|Auto</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Misc. AuxiliaryCommands does not contain tt:IRLamp|Auto</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!-- Discovery Types Support -->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.discovery_types_support">
        <title>Discovery Types Support</title>
        <para>
          From the first version of ONVIF Core Specification document, Device Type that is required for Discovery functionality was "dn:NetworkVideoTransmitter". Device Type was modified in the later version of [ONVIF Network Interface Specs] to "tds:Device". Which Device Type shall be used by DUT is defined in the scope of [ONVIF Profile S], [ONVIF Profile G] and [ONVIF Profile C].The following procedure discovers which Types are supported by DUT.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that Discovery feature is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_management_service_capabilities.table5.4"
                      xrefstyle="template:Table %n"/>,
                otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.feature_support_criteria.table.5.2"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes Unicast Probe request (empty Types, empty Scopes) to get ProbeMatches response.
              </para>
            </listitem>
            <listitem>
              <para>
                <!--link with table name as hot text:-->
                <!--ONVIF Client receives ProbeMatch and checks features support as defined in <link endterm="tc.discovery_procedure.getservices_getservicecapabilities.table.5.2.title" linkend="tc.discovery_procedure.getservices_getservicecapabilities.feature_support_criteria.table.5.2"></link>.-->
                <!--xref generates hot text:-->
                ONVIF Client receives ProbeMatch and checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.feature_support_criteria.table.5.2"
                    xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If DUT does not return ProbeMatch or ProbeMatch &lt;d:Types&gt; does not contain neither "dn:NetworkVideoTransmitter" nor "tds:Device", the following features will be marked as undefined:
          <itemizedlist>
            <listitem>
              <para>
                WS-Discovery\Types\tds:Device
              </para>
            </listitem>
            <listitem>
              <para>
                WS-Discovery\Types\dn:NetworkVideoTransmitter
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.feature_support_criteria.table.5.2">
            <title xml:id="tc.discovery_procedure.getservices_getservicecapabilities.table.5.2.title">Discovery Types</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    &lt;d:Types&gt; in ProbeMatch response
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-DiscoveryTypesTdsDevice">
                  <entry>
                    tds:Device
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains "tds:Device"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not contain "tds:Device"</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DiscoveryTypesDnNetworkVideoTransmitter">
                  <entry>
                    dn:NetworkVideoTransmitter
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains "dn:NetworkVideoTransmitter</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not contain "dn:NetworkVideoTransmitter"</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
      </section>
      
      <!--HTTPS-->
      <section xml:id="tc.s-HTTPS"
               xreflabel="Section 5.5.2">
        <title>HTTPS Support</title>
        <para>
          The following is the procedure to determine the function support.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis> ONVIF Client and DUT
          <itemizedlist>
            <listitem>
              <para>
                Network Configuration feature is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_management_service_capabilities"/>,
                  otherwise this procedure will be skipped.
              </para>
            </listitem>
            <listitem>
              <para>
                If DUT supports HTTPS, then HTTPS is configured on the DUT in case TLS Server is not supported by DUT. Security Configuration Service is received from the DUT, if TLS Server is supported by DUT.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                If DUT supports <emphasis role="bold">Security Configuration Service\TLS features support\TLS Server</emphasis> feature as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.table"
                      xrefstyle="template:Table %n"/>, then HTTPS feature is assumed as supported.
              </para>
            </listitem>

            <listitem>
              <para>
                Otherwise, ONVIF Client invokes GetNetworkProtocols request message to retrieve network protocols supported by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetNetworkProtocolsResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.https.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetNetworkProtocolsResponse, ONVIF Client assumes that RTP/RTSP/HTTPS function support is marked as undefined.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.https.table">
            <title>HTTPS Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetNetworkProtocolsResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>HTTPS</entry>
                  <entry>
                    <emphasis role="bold">
                      Includes NetworkProtocols element with Name = HTTPS and with Enabled=true
                      or DUT supports TLS Server feature
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include NetworkProtocols element with Name = HTTPS
                      or
                      includes NetworkProtocols element with Name = HTTPS and with Enabled=false
                      when  DUT does not support TLS Server feature
                    </emphasis>
                  </entry>
                </row>


              </tbody>
            </tgroup>
          </table>
        </para>
      </section>

      <!--I/O functionality in Device Management Service-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag">
        <title>I/O Functionality in Device Management Service</title>
        <para>
          I/O related functionality support can be retrieved by checking correspondent element of GetCapabilitiesResponse. The following is the procedure to determine the function support.
        </para>

        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetCapabilitiesRequest to check I/O functionality support.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives GetCapabilitiesResponse and checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.table5.5"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes GetRelayOutputsRequest message to retrieve a relay output list.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetRelayOutputsResponse with a list of relay outputs.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Bistable", Properties.DelayTime = "PT30S", Properties.IdleState = "open").
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.6">
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Bistable", Properties.DelayTime = "PT30S", Properties.IdleState = "closed").
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.8">
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.9">
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Monostable", Properties.DelayTime = "PT30S", Properties.IdleState = "open").
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.11">
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Monostable", Properties.DelayTime = "PT30S", Properties.IdleState = "closed").
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.table5.6"
                      xrefstyle="template:Table %n"/>.

              </para>
            </listitem>
          </orderedlist>
        </para>

        <para>
          <emphasis role="bold">Note:</emphasis> Absence of Capabilities.Device.IO element in the GetCapabilitiesResponse will be defined as absence of Capabilities.Device.IO.RelayOutputs.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Capabilities.Device element is not included in the GetCapabilitiesResponse, Relay Outputs feature will be marked as unsupported.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetRelayOutputsResponse or list of relay outputs in the GetRelayOutputsResponse is empty, Relay Outputs features will be marked as undefined.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetCapabilities command is not supported by the DUT I/O feature for Device Management Service will be defined as unsupported.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.table5.5">
            <title>Relay Outputs in Device Management Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-DeviceIORelayOutputs">
                  <entry>
                    <emphasis role="bold">RelayOutputs</emphasis>
                  </entry>
                  <entry>
                    Capabilities.Device.IO. RelayOutputs > 0
                  </entry>
                  <entry>
                    Skipped Capabilities.Device.IO. RelayOutputs or Capabilities. Device.IO.RelayOutputs = 0
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.table5.6">
            <title>Relay Outputs Mode and Idle State in Device Management Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    SetRelayOutputSettingsResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-DeviceIORelayOutputsBistableOpen">
                  <entry>Bistable Mode/Open Idle State</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.6"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.6"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceIORelayOutputsBistableClosed">
                  <entry>Bistable Mode/Closed Idle State</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.8"/>
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.8"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceIORelayOutputsBistable">
                  <entry>Bistable Mode</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.6"/> or <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.8"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.6"/> and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.8"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceIORelayOutputsMonostableOpen">
                  <entry>Monostable Mode/Open Idle State</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.9"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.9"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceIORelayOutputsMonostableClosed">
                  <entry>Monostable Mode/Closed Idle State</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.11"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.11"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceIORelayOutputsMonostable">
                  <entry>Monostable Mode</entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.9"/> or <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.11"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.9"/> and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.io_in_dev_manag.11"/>.
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Monitoring Events support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.monitoring_events">
        <title>Monitoring Events Support</title>
        <para>
          Monitoring Events support under Device Control Service is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis> ONVIF Client and DUT
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.monitoring_events.table5.7"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>

        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return Event Service or GetEventPropertiesResponse message, then the following features will be marked as undefined:
          <itemizedlist>
            <listitem>
              <para>
                Monitoring/ProcessorUsage
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastReset
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastReboot
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastClockSynchronization
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/Backup/Last
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/TemperatureCritical
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/FanFailure
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/PowerSupplyFailure
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/StorageFailure
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.monitoring_events.table5.7">
            <title>Monitoring Events Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetEventPropertiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-MonitoringProcessorUsageEvent">
                  <entry>Monitoring/ProcessorUsage</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ ProcessorUsage Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ ProcessorUsage Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MonitoringOperatingTimeLastResetEvent">
                  <entry>Monitoring/OperatingTime/LastReset</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastReset Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastReset Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MonitoringOperatingTimeLastRebootEvent">
                  <entry>Monitoring/OperatingTime/LastReboot</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastReboot Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastReboot Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MonitoringOperatingTimeLastClockSynchronizationEvent">
                  <entry>Monitoring/OperatingTime/LastClockSynchronization</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastClockSynchronization Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastClockSynchronization Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MonitoringBackupLastEvent">
                  <entry>Monitoring/Backup/Last</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/Backup/Last Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/Backup/Last Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceHardwareFailureTemperatureCriticalEvent">
                  <entry>Device/HardwareFailure/TemperatureCritical</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/TemperatureCritical Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/TemperatureCritical Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceHardwareFailureFanFailureEvent">
                  <entry>Device/HardwareFailure/FanFailure</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/FanFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/FanFailure Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceHardwareFailurePowerSupplyFailureEvent">
                  <entry>Device/HardwareFailure/PowerSupplyFailure</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/PowerSupplyFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/PowerSupplyFailure Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DeviceHardwareFailureStorageFailureEvent">
                  <entry>Device/HardwareFailure/StorageFailure</entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/StorageFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/StorageFailure Event topic
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Media Service – general-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service"
               xreflabel="Section 5.5.5">
        <title>Media Service – General</title>
        <para>
          Media Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.8"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/media/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Media service is not supported, the following feature discovery (Media Service features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.8">
            <title>Media Service – General (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-MediaService">
                  <entry>
                    Media Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/media/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/media/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

        <section>
          <title>Media Service – Video Encoding Support</title>
          <para>
            Video encoding function support in Media Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetVideoEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetVideoEncoderConfigurationOptionsResponse with a list of supported codecs. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.9"
                        xrefstyle="template:Table %n"/>.

                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetVideoEncoderConfigurationOptionsResponse, MPEG4 and H.264 feature will be marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.9">
              <title>Media Service – Video Encoding Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetVideoEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-JPEG">
                    <entry>
                      JPEG
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-MPEG4">
                    <entry>
                      MPEG-4
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.MPEG4</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.MPEG4
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-H264">
                    <entry>
                      H.264
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.H264</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.H264
                      </emphasis>
                    </entry>
                  </row>


                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media Service – Audio Encoding Support</title>

          <para>
            Audio encoding function support in Media Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:	</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported audio codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioEncoderConfigurationOptionsResponse with a list of supported codecs or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.10"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetAudioEncoderConfigurationOptionsRequest, Audio encoding feature will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.10">
              <title>Media Service – Audio Encoding Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-Audio">
                    <entry>Audio encoding</entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioEncoderConfiguration OptionsResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-G711">
                    <entry>G.711</entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioEncoderConfiguration OptionsResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-G726">
                    <entry>G.726</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Options.Encoding = "G726"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Options.Encoding = "G726"
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AAC">
                    <entry>AAC</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Options.Encoding = "AAC"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Options.Encoding = "AAC"
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS"
                 xreflabel="Section 5.5.5.3">
          <title>Media Service – Real-Time Streaming</title>
          <para>
            Real-time streaming support in Media Service is determined according to the following procedure.
          </para>

          <para>
            <emphasis role="bold">Discovery Procedure:	</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetServiceCapabilitiesRequest message to check Multicast streaming capability support by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetServiceCapabilitiesResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.11"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then Real-time streaming feature and features from <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS_Setup"/> will be marked as undefined. Procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS_Setup"/> will be skipped.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not support Real-time streaming feature, all features from <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS_Setup"/> will be marked as unsupported. Procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS_Setup"/> will be skipped.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.11">
              <title>Media Service – Supported Real-Time Streaming Setup (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-RTSS">
                    <entry>
                      Real-time streaming
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities. StreamingCapabilities. NoRTSPStreaming or Capabilities. StreamingCapabilities. NoRTSPStreaming = false</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. StreamingCapabilities. NoRTSPStreaming = true</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS_Setup"
                 xreflabel="Section 5.5.5.4">
          <title>Media Service – Supported Real-Time Streaming Setup</title>
          <para>Which Real-time streaming Setup features is supported under Real-time Streaming is determined according to the following procedure.</para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetServiceCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.RTS"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:	</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.12"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.12">
              <title>Media Service – Supported Real-Time Streaming Setup (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-RTPUDP">
                    <entry>
                      RTP/UDP
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality, if Real-time Streaming supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RTPRTSPHTTP">
                    <entry>
                      RTP/RTSP/HTTP
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality, if Real-time Streaming supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RTPRTSPTCP">
                    <entry>
                      RTP/RTSP/TCP
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. StreamingCapabilities. RTP_RTSP_TCP = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. StreamingCapabilities. RTP_RTSP_TCP or Capabilities. StreamingCapabilities. RTP_RTSP_TCP = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RTPMulticastUDP">
                    <entry>
                      RTP-Multicast/UDP
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. StreamingCapabilities. RTPMulticast = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. StreamingCapabilities. RTPMulticast or Capabilities. StreamingCapabilities. RTPMulticast = false
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media Service - GetSnapshotUri</title>
          <para>
            GetSnapshotUri function support is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetProfilesRequest message to retrieve existing Media Profiles list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetProfilesResponse with the list of existing Media Profiles.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client looks for ready-to-use profile (a profile with VideoSourceConfiguration and VideoEncoderConfiguration in the GetProfilesResponse. If there are no ready-to-use profiles found in the GetProfilesResponse, ONVIF Client marks GetSnapshotUri support by DUT as undefined.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetSnapshotUriRequest (ProfileToken = found ready-to-use profile token) message to get Snapshot URI.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetSnapshotUriResponse or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.13"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If no GetProfilesResonse is returned by the DUT, GetSnapshotUri function support by the DUT is marked as undefined.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If no GetSnapshotUriResponse is returned by the DUT, GetSnapshotUri function support by the DUT is marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.13">
              <title>Media Service – GetSnapshotUri (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetSnapshotUriResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-SnapshotUri">
                    <entry>
                      GetSnapshotUri
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetSnapshotUriResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns any SOAP fault</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media Service – Audio Outputs Support</title>

          <para>
            Audio outputs support in conjunction with its Audio decoding function is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioOutputsRequest message to retrieve Audio outputs list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioOutputsResponse or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.14"
                        xrefstyle="template:Table %n"/>. Go to the next feature definition.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioDecoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported Audio codec’s for decoding by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioDecoderConfigurationOptionsResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.15"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetAudioDecoderConfigurationOptionsResponse, ONVIF Client assumes that G.711, G.726 and AAC Audio decoding function support is marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.14">
              <title>Media Service – Audio Outputs Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioOutputsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-AudioOutput">
                    <entry>
                      Audio output
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioOutputsResponse and there are at least one AudioOutput on the list</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault or GetAudioOutputsResponse and there are no AudioOutput on the list
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media_service.table5.15">
              <title>Media Service – Audio Outputs Decoding Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioDecoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-AudioOutputG711">
                    <entry>
                      G.711
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.G711DecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.G711DecOptions
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AudioOutputG726">
                    <entry>
                      G.726
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.G726DecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.G726DecOptions
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AudioOutputAAC">
                    <entry>
                      AAC
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.AACDecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.AACDecOptions
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!-- Media2 features support -->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"
               xreflabel="Section 5.5.6">
        <title>Media2 Service – General</title>
        <para>
          Media2 Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.16"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver20/media/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Media2 service is not supported, the following feature discovery (Media2 Service features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.16">
            <title>Media2 Service – General (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-Media2">
                  <entry>
                    Media2 Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver20/media/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver20/media/wsdl" namespace</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <para>
          Media2 features support
        </para>
        <para>
          Media2 capabilities support under Media2 Service is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message to retrieve Media2 Service capabilities.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetServiceCapabilitiesResponse with Media2 Service capabilities. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.17"
                      xrefstyle="template:Table %n"/>.

              </para>
            </listitem>
          </orderedlist>
        </para>

        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetServiceCapabilitiesRequest, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.17"
                xrefstyle="template:Table %n"/> will be marked as undefined.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.17">
            <title>Media2 Service Features Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"
                       colwidth="500*"/>
              <colspec colname="c2"
                       colwidth="500*"/>
              <colspec colname="c3"
                       colwidth="500*"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServiceCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-Media2_Video">
                  <entry>
                    Video
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. ProfileCapabilities. ConfigurationsSupported list contains "VideoEncoder"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities. ProfileCapabilities. ConfigurationsSupported list does not contain "VideoEncoder"
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_Audio">
                  <entry>
                    Audio
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. ProfileCapabilities. ConfigurationsSupported list contains "AudioEncoder"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities. ProfileCapabilities. ConfigurationsSupported list does not contain "AudioEncoder"
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_AudioOutput">
                  <entry>
                    Audio Output
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. ProfileCapabilities. ConfigurationsSupported list contains "AudioOutput"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities. ProfileCapabilities. ConfigurationsSupported list does not contain "AudioOutput"
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RealTimeStreaming"
                     xreflabel="Media2 Service Features Support Table, Real-time Streaming" >
                  <entry>
                    Real-time Streaming
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. StreamingCapabilities. RTSPStreaming = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped
                      Capabilities. StreamingCapabilities. RTSPStreaming or
                      Capabilities. StreamingCapabilities. RTSPStreaming = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RTPUDP">
                  <entry>
                    RTP/UDP
                  </entry>
                  <entry>
                    <emphasis role="bold">Mandatory functionality, if Real-time Streaming supported</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      -
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RTPRTSPHTTP">
                  <entry>
                    RTP/RTSP/HTTP
                  </entry>
                  <entry>
                    <emphasis role="bold">Mandatory functionality, if Real-time Streaming supported</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      -
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RTPRTSPTCP">
                  <entry>
                    RTP/RTSP/TCP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. StreamingCapabilities. RTP_RTSP_TCP = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped
                      Capabilities. StreamingCapabilities. RTP_RTSP_TCP or
                      Capabilities. StreamingCapabilities. RTP_RTSP_TCP = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RTPMulticastUDP">
                  <entry>
                    RTP-Multicast/UDP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. StreamingCapabilities. RTPMulticast = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped
                      Capabilities. StreamingCapabilities. RTPMulticast or
                      Capabilities. StreamingCapabilities. RTPMulticast = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_RTSPWebSocket">
                  <entry>
                    RTSP WebSocket
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. StreamingCapabilities contains RTSPWebSocketUri</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped
                      Capabilities. StreamingCapabilities. RTSPWebSocketUri
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_SnapshotUri">
                  <entry>
                    Snapshot Uri
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.SnapshotUri = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.SnapshotUri or Capabilities.SnapshotUri = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_OSD">
                  <entry>
                    OSD
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.OSD = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.OSD or Capabilities.OSD = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_VideoSourceMode">
                  <entry>
                    Video Source Mode
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. VideoSourceMode = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities. VideoSourceMode or Capabilities. VideoSourceMode = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_Analytics">
                  <entry>
                    Analytics
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. ProfileCapabilities. ConfigurationsSupported list contains "Analytics"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities. ProfileCapabilities. ConfigurationsSupported list does not contain "Analytics"
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Media2_Metadata">
                  <entry>
                    Metadata
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. ProfileCapabilities. ConfigurationsSupported list contains "Metadata"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Capabilities. ProfileCapabilities. ConfigurationsSupported list does not contain "Metadata"
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-Mask">
                  <entry>
                    Mask
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Mask = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Mask or Capabilities.Mask = false
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <!--Media2 Service – Video Encoding Support-->
        <section>
          <title>Media2 Service – Video Encoding Support</title>

          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Video</emphasis> feature according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>

          <para>
            Video encoding function support in Media2 Service is determined according to the following discovery procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetVideoEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetVideoEncoderConfigurationOptionsResponse with a list of supported codecs. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.18"
                        xrefstyle="template:Table %n"/>.

                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetVideoEncoderConfigurationOptionsResponse, H.264 and H.265 feature will be marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.18">
              <title>Media2 Service – Video Encoding Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetVideoEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-Media2_H265">
                    <entry>
                      H.265
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Encoding= "H265"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding="H265"
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Media2_H264">
                    <entry>
                      H.264
                    </entry>
                    <entry>
                      <emphasis role="bold">Options.Encoding= "H264"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding= "H264"
                      </emphasis>
                    </entry>
                  </row>


                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Media2 Service – Audio Encoding Support-->
        <section>
          <title>Media2 Service – Audio Encoding Support</title>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Audio</emphasis> feature according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>

          <para>
            Audio encoding function support in Media2 Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:	</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported audio codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioEncoderConfigurationOptionsResponse with a list of supported codecs or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.19"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return response for GetAudioEncoderConfigurationOptionsRequest, Media2 Audio encoding features (G.711 and AAC) will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.19">
              <title>Media2 Service – Audio Encoding Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-Media2_G711">
                    <entry>G.711</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Encoding= "PCMU"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding= "PCMU"
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Media2_AAC">
                    <entry>AAC</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Encoding= "MP4A-LATM" or "MPEG4-GENERIC"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding= "MP4A-LATM" and does not include Options.Encoding = "MPEG4-GENERIC"
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media2 Service – Audio Decoding Support</title>

          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Audio Output</emphasis> feature according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            Audio decoding support is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioDecoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported Audio codec’s for decoding by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioDecoderConfigurationOptionsResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.20"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetAudioDecoderConfigurationOptionsResponse, ONVIF Client assumes that G.711, and AAC Audio decoding function support is marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.20">
              <title>Media2 Service – Audio Outputs Decoder Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioDecoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-Media2_AudioOutputG711">
                    <entry>G.711</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Encoding= "PCMU"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding= "PCMU"
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Media2_AudioOutputAAC">
                    <entry>AAC</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Encoding= "MP4A-LATM" or "MPEG4-GENERIC"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Encoding= "MP4A-LATM" and does not include Options.Encoding= "MPEG4-GENERIC"
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--HTTPS streaming-->
        <section>
          <title>Media2 Service – RTP/RTSP/HTTPS support</title>

          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>

              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Real-time Streaming</emphasis> feature as defined in <xref linkend="tc.s-Media2_RealTimeStreaming" />.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            RTP/RTSP/HTTPS support is determined according to the following procedure.
          </para>
          <para xml:id="tc.s-Media2_RTPRTSPHTTPS"
                xreflabel="RTP/RTSP/HTTPS">
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  If DUT supports <emphasis role="bold">HTTPS</emphasis> feature as defined in <xref linkend="tc.s-HTTPS"/>, then RTP/RTSP/HTTPS feature is assumed as supported.
                </para>
              </listitem>



            </itemizedlist>
          </para>


        </section>
        <!--OSD Types-->
        <section>
          <title>Media2 Service – OSD Types support</title>

          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">OSD</emphasis> according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table5.17"
                        xrefstyle="template:Table %n"/>
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            OSD Types features supporting is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Video Source Configuration by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceConfigurationsList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoSourceConfList</emphasis> - Video Source Configurations list
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Video Source Configuration <emphasis role="italic">videoSorceConfig</emphasis> in <emphasis role="italic">videoSourceConfList</emphasis>
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetOSDOptions</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ConfigurationToken =: <emphasis role="italic">videoSorceConfig</emphasis>.token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">GetOSDOptionsResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              OSDOptions =: <emphasis role="italic">osdOptions</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks OSD Types features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table.OSDTypes"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>

            </orderedlist>


          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetOSDOptionsResponse, ONVIF Client assumes the following features as undefined:
            <itemizedlist>
              <listitem>
                <para>
                  Media2\OSD\Types\Text
                </para>
              </listitem>
              <listitem>
                <para>
                  Media2\OSD\Types\Image
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.table.OSDTypes">
              <title>Media2 Service – OSD Types Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetOSDOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-Media2_OSDText">
                    <entry>Text</entry>
                    <entry>
                      <emphasis role="bold">
                        Includes OSDOptions\Type = "Text" and MaximumNumberOfOSDs. @Total &gt; 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include OSDOptions\Type = "Text" or MaximumNumberOfOSDs. @Total = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Media2_OSDImage">
                    <entry>Image</entry>
                    <entry>
                      <emphasis role="bold">
                        Includes OSDOptions\Type = "Image" and MaximumNumberOfOSDs. @Total &gt; 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include OSDOptions\Type = "Image" or MaximumNumberOfOSDs. @Total = 0
                      </emphasis>
                    </entry>
                  </row>


                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Media2 Events Support-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.media2_events"
                 xreflabel="Section 5.5.6.6">
          <title>Media2 Events Support</title>
          <para>
            Media2 Events support under Media2 Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.media2_events.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.media2_events.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.media2_service.media2_events.table">
              <title>Media2 Events Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ProfileChangedEvent">
                    <entry>
                      Media/ProfileChanged
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Media/ ProfileChanged Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Media/ ProfileChanged Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ConfigurationChangedEvent">
                    <entry>
                      Media/ConfigurationChanged
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Media/ ConfigurationChanged Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Media/ ConfigurationChanged Event topic
                      </emphasis>
                    </entry>
                  </row>
                </tbody>

              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Event Service-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service"
               xreflabel="Section 5.5.7">
        <title>Event Service</title>
        <!--<para xml:id="tc.s-EventsService">
          Event Service shall be defined as supported as it is a mandatory feature to be supported by the DUT. The following procedure will be used as pre-requisite for other features support check.
        </para>-->
        <para>
          Event Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.22"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/events/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Event service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service_features"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.22">
            <title>Event Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-EventService">
                  <entry>
                    Event Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/events/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/events/wsdl" namespace</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"
                xreflabel="Section 5.5.7.1">
          <title>Get Event Properties</title>
          <para>
            The following discovery procedure will be performed for ONVIF Client to receive topic set and message content filter dialect list from the DUT.
            Received topic set will be used in event topics discovery procedures for different services. Received message content filter dialect list will be used in 
            <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter"/> 
            and in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect"/>.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service"/>,
                  otherwise this procedure will be skipped.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetEventProperties</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with a <emphasis role="bold">GetEventPropertiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        TopicNamespaceLocation list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        FixedTopicSet
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        TopicSet =: <emphasis role="italic">topicSet</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        TopicExpressionDialect list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MessageContentFilterDialect list := <emphasis role="italic">msgContentFilterDialectList</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MessageContentSchemaLocation list
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service_features"
                 xreflabel="Section 5.5.7.2">
          <title>Event service features</title>
          <para>
            Event capabilities support under Event Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetServiceCapabilitiesRequest message for Event Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetServiceCapabilitiesResponse
                  
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.21"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> Value of Capabilities.MaxPullPoints shall be saved to be used during Profiles support check.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.table5.21">
              <title>Event Service Features (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-PersistentNotificationStorage">
                    <entry>
                      Persistent Notification Storage
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. PersistentNotificationStorage = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. PersistentNotificationStorage or Capabilities. PersistentNotificationStorage = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-WSBasicNotification">
                    <entry>
                      WS Basic Notification
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. MaxNotificationProducers > 0 or skipped Capabilities. MaxNotificationProducers</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Capabilities. MaxNotificationProducers = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-MaxPullPoints">
                    <entry>
                      GetServiceCapabilities\MaxPullPoints capability
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Capabilities.MaxPullPoints</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Capabilities.MaxPullPoints
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EventBroker">
                    <entry>
                      Event Broker
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Capabilities.MaxEventBrokers with value &gt; 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Capabilities.MaxEventBrokers OR MaxEventBrokers &lt; = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EventBroker_MQTTProtocol">
                    <entry>
                      Protocols / mqtt
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. EventBrokerProtocols list contains "mqtt" value</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Capabilities. EventBrokerProtocols list does not contain "mqtt" value
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EventBroker_MQTTSProtocol">
                    <entry>
                      Protocols / mqtts
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. EventBrokerProtocols list contains "mqtts" value</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Capabilities. EventBrokerProtocols list does not contain "mqtts" value
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EventBroker_WSProtocol">
                    <entry>
                      Protocols / ws
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. EventBrokerProtocols list contains "ws" value</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Capabilities. EventBrokerProtocols list does not contain "ws" value
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EventBroker_WSSProtocol">
                    <entry>
                      Protocols / wss
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. EventBrokerProtocols list contains "wss" value</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Capabilities. EventBrokerProtocols list does not contain "wss" value
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter"
                 xreflabel="Section 5.5.7.3">
          <title>Event Service - Message Content Filter Support</title>
          <para>
            Message Content Filter function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>          
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  ONVIF Client checks Message Content Filter feature support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>

            </orderedlist>
          </para> 
          <para>
            <emphasis role="bold">Note:</emphasis> If Message Content Filter feature is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect"/>.
                </para>
              </listitem>              
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21">
              <title>Message Content Filter Feature (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-MessageContentFilter">
                    <entry>
                      Message Content Filter
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains at least one item with non empty value
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain at least one item with non empty value
                      </emphasis>
                    </entry>
                  </row>



                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect"
                 xreflabel="Section 5.5.7.4">
          <title>Event Service - ONVIF Message Content Filter Dialect Support</title>
          <para>
            ONVIF Message Content Filter Dialect function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that DUT supports Message Content Filter feature according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter" />, 
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks ONVIF Message Content Filter Dialect feature support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>          
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter_onvif_dialect.table5.21">
              <title>ONVIF Message Content Filter Dialect (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-MessageContentFilterDialect">
                    <entry>
                      ONVIF Message Content Filter Dialect
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.pull_point_notification"
                 xreflabel="Section 5.5.7.5">
          <title>Event Service - Pull-Point Notification Support</title>
          <para>
            Pull-Point Notification function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetServiceCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service_features"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.pull_point_notification.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>            
              <listitem>
                <para>
                  This procedure assumes that GetScopesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.devices_scopes_retrieval"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.pull_point_notification.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks Pull-Point Notification feature support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.pull_point_notification.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>          
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.event_service.pull_point_notification.table5.21">
              <title>Pull-Point Notification (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetServiceCapabilitiesResponse message and GetScopesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-PullPointNotification">
                    <entry>
                      Pull-Point Notification
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        (Capabilities.MaxPullPoints skipped AND <emphasis role="italic">scopesList</emphasis> contains item with value is equal to "onvif://www.onvif.org/Profile/Streaming") OR Capabilities.MaxPullPoints &gt; 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                       Capabilities.MaxPullPoints = 0 OR (<emphasis role="italic">scopesList</emphasis> does not contain item with value is equal to "onvif://www.onvif.org/Profile/Streaming" AND Capabilities.MaxPullPoints skipped)
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>


      </section>
      <!--Device IO Service-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"
               xreflabel="Section 5.5.8">
        <title>Device IO Service</title>
        <para>
          Device IO Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.table5.22"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/deviceIO/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Device IO service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.table5.22">
            <title>Device IO Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-DeviceIoService">
                  <entry>
                    Device IO Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/deviceIO/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/deviceIO/wsdl" namespace</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features"
                 xreflabel="Section 5.5.8.1">
          <title>Device IO Features Support</title>
          <para>
            Device IO capabilities support under Device IO Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Device IO Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED, the following feature discovery procedures will be skipped and related features will be marked as UNDEFINED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"/>.
                </para>
              </listitem>
            </itemizedlist>.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If Relay Outputs feature is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features.table">
              <title>Device IO Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-RelayOutputs">
                    <entry>
                      Relay Outputs
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.RelayOutputs > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.RelayOutputs or <emphasis role="italic">cap</emphasis>.RelayOutputs = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DigitalInputs">
                    <entry>
                      Digital Inputs
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.DigitalInputs > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.DigitalInputs or <emphasis role="italic">cap</emphasis>.DigitalInputs = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-SerialPorts">
                    <entry>
                      Serial Ports
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SerialPorts > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.SerialPorts or <emphasis role="italic">cap</emphasis>.SerialPorts = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DigitalInputOptions">
                    <entry>
                      Digital Input Options
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.DigitalInputOptions = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.DigitalInputOptions or <emphasis role="italic">cap</emphasis>.DigitalInputOptions = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"
                 xreflabel="Section 5.5.8.2">
          <title>Device IO Relay Output Options Support</title>
          <para>
            Device IO Relay Output Options support in Device IO Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Outputs is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetRelayOutputOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RelayOutputToken skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.2">
                <para>
                  The DUT responds with <emphasis role="bold">GetRelayOutputOptionsResponse</emphasis> message or SOAP 1.2 fault.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetRelayOutputOptions request,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED, the following feature discovery procedures will be skipped and related features will be marked as UNDEFUNED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"/>
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If Relay Outputs Options feature is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"/>
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.table">
              <title>Device IO Service – Relay Output Options Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-RelayOutputOptions">
                    <entry>
                      Relay Output Options
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns GetRelayOutputOptionsResponse Response for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.2"/>.
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions.2"/>.
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs"
                 xreflabel="Section 5.5.8.3">
          <title>Device IO Relay Outputs Features Support</title>
          <para>
            Device IO Relay Output features support is defined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Outputs is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.features"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Output Options is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetRelayOutputOptionsResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputsoptions"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetRelayOutputs</emphasis> request to retrieve a list of all available relay outputs and their settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetRelayOutputsResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RelayOutputs list =: <emphasis role="italic">relayOutputsList</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Relay Output (<emphasis role="italic">relayOutput</emphasis>) from <emphasis role="italic">relayOutputsList</emphasis> do the following:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                              xrefstyle="template:Table %n"/>.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Relay Output supports Monostable Mode:
                        <orderedlist numeration="arabic"
                                     inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <!--<listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">GetRelayOutputOptions</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutputToken := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>-->
                          <!--<listitem>
                            <para>
                              The DUT sends the <emphasis role="bold">GetRelayOutputOptionsResponse</emphasis> message with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutputOptions list =: <emphasis role="italic">relayOutputOptionsList</emphasis>
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>-->
                          <!--<listitem>
                            <para>
                              If <emphasis role="italic">relayOutputOptionsList</emphasis>[0] does not contain DelayTimes element, then features listed in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2" xrefstyle="template:Table %n"/> will be marked as UNDEFINED for this Relay Output.
                            </para>
                          </listitem>-->
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Monostable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := RelayOutputOptions[0].DelayTimes[0]  from GetRelayOutputOptionsResponse, where RelayOutputOptions[0] is RelayOutputOptions with token = <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := closed
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_closed"
                                    xreflabel="3.2.2">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Monostable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := RelayOutputOptions[0].DelayTimes[0]  from GetRelayOutputOptionsResponse, where RelayOutputOptions[0] is RelayOutputOptions with token = <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := open
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_open"
                                    xreflabel="3.2.4">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If for both steps and SOAP 1.2 fault was returned features listed in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/> will be marked as UNDEFINED for this Relay Output, otherwise ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                                    xrefstyle="template:Table %n"/>.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Relay Output supports Bistable Mode:
                        <orderedlist numeration="arabic"
                                     inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Bistable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := <emphasis role="italic">relayOutput</emphasis>.Properties.DelayTime
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := closed
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_closed"
                                    xreflabel="3.3.2">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Bistable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := <emphasis role="italic">relayOutput</emphasis>.Properties.DelayTime
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := open
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_open"
                                    xreflabel="3.3.4">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If for both steps and SOAP 1.2 fault was returned features listed in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/> will be marked as UNDEFINED for this Relay Output, otherwise ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/>.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no RelayOutputOptions in GetRelayOutputOptionsResponse message,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1"
                  xrefstyle="template:Table %n"/>,
            <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/>,
            and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no DelayTimes element in RelayOutputOptions with supporting of Monostable mode in GetRelayOutputOptionsResponse message,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for SetRelayOutputSettings request,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/> and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table1">
              <title>Relay Outputs Features - Modes (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-MonostableMode">
                    <entry>
                      Monostable Mode
                    </entry>
                    <entry>
                      <emphasis role="bold">RelayOutputOptions.Mode contains Monostable</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        RelayOutputOptions.Mode does not contain Monostable
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-BistableMode">
                    <entry>
                      Bistable Mode
                    </entry>
                    <entry>
                      <emphasis role="bold">RelayOutputOptions.Mode contains Bistable</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        RelayOutputOptions.Mode does not contain Bistable
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2">
              <title>Relay Outputs Features - Idle States - Monostable (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ClosedIdleStateMonostable">
                    <entry>
                      Monostable Mode\Closed Idle State
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_closed"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_closed"/>
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-OpenIdleStateMonostable">
                    <entry>
                      Monostable Mode\Open Idle State
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_open"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Monostable_open"/>
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table3">
              <title>Relay Outputs Features - Idle States - Bistable (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ClosedIdleStateBistable">
                    <entry>
                      Bistable Mode\Closed Idle State
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_closed"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_closed"/>
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-OpenIdleStateBistable">
                    <entry>
                      Bistable Mode\Open Idle State
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_open"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.Bistable_open"/>
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--PTZ Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service">
        <title>PTZ Service Support</title>
        <para>
          PTZ Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:	</emphasis>
          ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.table5.24"
                xrefstyle="template:Table %n"/>.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver20/ptz/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not support PTZ Service, all features from <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features"/>,
          <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.ptz_nodes_features"/>, and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/> will be marked as unsupported.
          Procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features"/>, <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.ptz_nodes_features"/>,
          and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/> will be skipped.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.table5.24">
            <title>PTZ Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-PTZService">
                  <entry>
                    PTZ Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver20/ptz/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver20/ptz/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features"
                 xreflabel="Section 5.5.8.1">
          <title>PTZ Service Features Support</title>
          <para>
            PTZ capabilities support under PTZ Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetServiceCapabilities request to retrieve PTZ Service capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetServiceCapabilitiesResponse message with PTZ Service capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetServiceCapabilities request, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.features.table">
              <title>PTZ Service Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-PTZGetCompatibleConfigurations">
                    <entry>
                      Get Compatible Configurations
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. GetCompatibleConfigurations = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. GetCompatibleConfigurations or Capabilities. GetCompatibleConfigurations = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZMoveStatus">
                    <entry>
                      Move Status
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities.MoveStatus = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities.MoveStatus or Capabilities.MoveStatus = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZStatusPosition">
                    <entry>
                      Status Position
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities.StatusPosition = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities.StatusPosition or Capabilities.StatusPosition = false
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.ptz_nodes_features"
                 xreflabel="Section 5.5.8.2">
          <title>PTZ Nodes Features Support</title>
          <para>
            PTZ Nodes features support is defined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetNodes request to retrieve PTZ Nodes capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetNodesResponse message with PTZ Nodes capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_nodes_features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node with Home Position support ONVIF Client checks features support as defined
                  in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/>. For all others PTZ Nodes procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/> will be skipped and all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/> will be marked as unsupported.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetNodes request or the DUT returns GetNodesResponse message with empty PTZNode list,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_nodes_features.table"
                  xrefstyle="template:Table %n"/>
            and <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"/> will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_nodes_features.table">
              <title>PTZ Nodes Features (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      Current PTZNode from GetNodesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-PTZContinuousPanTilt">
                    <entry>
                      Continuous Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ContinuousPanTiltVelocity Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ContinuousPanTiltVelocity Space element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZContinuousZoom">
                    <entry>
                      Continuous Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ContinuousZoomVelocity Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ContinuousZoomVelocity Space element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZContinious">
                    <entry>
                      Continuous movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZAbsolutePanTilt">
                    <entry>
                      Absolute Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. AbsolutePanTiltPositionSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. AbsolutePanTiltPositionSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZAbsoluteZoom">
                    <entry>
                      Absolute Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. AbsoluteZoomPositionSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. AbsoluteZoomPositionSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZAbsolute">
                    <entry>
                      Absolute movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Absolute Pan/Tilt movement or Absolute Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Absolute Pan/Tilt movement and Absolute Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZRelativePanTilt">
                    <entry>
                      Relative Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. RelativePanTiltTranlation Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. RelativePanTiltTranlationSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZRelativeZoom">
                    <entry>
                      Relative Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. RelativeZoomTranlationSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. RelativeZoomTranlationSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZRelative">
                    <entry>
                      Relative movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Relative Pan/Tilt movement or Relative Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Relative Pan/Tilt movement and Relative Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZSpeed">
                    <entry>
                      Speed configuration function
                    </entry>
                    <entry>
                      <emphasis role="bold">Speed configuration function for Pan/Tilt movement or Speed configuration function for Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Speed configuration function for Pan/Tilt movement and Speed configuration function for Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZSpeedPanTilt">
                    <entry>
                      Speed configuration function for Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. PanTiltSpeedSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. PanTiltSpeedSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZSpeedZoom">
                    <entry>
                      Speed configuration function for Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ZoomSpeedSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ZoomSpeedSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZPresets">
                    <entry>
                      Preset position
                    </entry>
                    <entry>
                      <emphasis role="bold">MaximumNumberOfPresets > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        MaximumNumberOfPresets = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZAuxiliary">
                    <entry>
                      Auxiliary operation
                    </entry>
                    <entry>
                      <emphasis role="bold">AuxiliaryCommands element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        AuxiliaryCommands element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZHome">
                    <entry>
                      Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">HomeSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        HomeSupported = false
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position"
                 xreflabel="Section 5.5.8.3">
          <title>Fixed/Configurable Home Position Support for PTZ Node</title>
          <para>
            In case the PTZ Node supports Home Position function, the PTZ Node shall support either Fixed or Configurable Home Position. The following defines the discovery procedure to determine which Home Position function is supported by the PTZ Node.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that PTZ Node was recieved in GetNodesResponse message via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.ptz_nodes_features"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  If FixedHomePosition attribute is defined in GetNodesResponse message for this PTZ Node, ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position.table1"
                        xrefstyle="template:Table %n"/> and skips other steps of this procedure.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetConfigurations request to retrieve a PTZ Configurations list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetConfigurationsResponse message with the list of PTZConfiguration that contains PTZNode. ONVIF Client identifies first PTZConfiguration which has the corresponding current PTZ Node.
                </para>
              </listitem>
              <listitem>
                <para>
                  If DUT supports Media2 Service according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"/>, ONVIF Client either selects or creates Media Profile anew along with the identified PTZConfiguration (refer to <xref linkend="Annex_HelperMediaProfileConfiguration"/> for the details) and goes to the step <xref linkend="tc.s-PTZNodeHomePosition.7"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If DUT supports Media Service according to <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service"/>, ONVIF Client either selects or creates Media Profile anew along with the identified PTZConfiguration (refer to <xref linkend="Annex_HelperSelectionCreationOfMediaProfileThatContainsPTZConfiguration"/> for the details) and goes to the step <xref linkend="tc.s-PTZNodeHomePosition.7"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Otherwise Configurable Home Position and Fixed Home Position features will be marked as undefined.
                </para>
              </listitem>
              <listitem xml:id="tc.s-PTZNodeHomePosition.7">
                <para>
                  ONVIF Client invokes SetHomePosition request (ProfileToken = selected or newly created profile token) message to check Configurable Home Position is supported by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position.table2"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores Media Profiles setting in case it changes some of the Media Profiles configuration.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position.table1">
              <title>Fixed/Configurable Home Position Support with FixedHomePosition Attribute (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      Current PTZNode from GetNodesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node with Home Position support)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-PTZConfigurableHome">
                    <entry>
                      Configurable Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = false</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = true</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZFixedHome">
                    <entry>
                      Fixed Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = false</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.ptz_service.home_position.table2">
              <title>Fixed/Configurable Home Position Support without FixedHomePosition Attribute (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      SetHomePositionResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node with Home Position support)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-PTZConfigurableHome2">
                    <entry>
                      Configurable Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SetHomePositionResponse </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP fault</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PTZFixedHome2">
                    <entry>
                      Fixed Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP fault</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SetHomePositionResponse</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Imaging Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service"
               xreflabel="Section 5.5.10">
        <title>Imaging Service Support</title>
        <para>
          Imaging Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver20/imaging/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Imaging service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.table">
            <title>Imaging Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-ImagingService">
                  <entry>
                    Imaging Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver20/imaging/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver20/imaging/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration"
                 xreflabel="Section 5.5.10.1">
          <title>IrCutfilterConfiguration Feature Support</title>
          <para>
            IrCutfilterConfiguration function support in Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Imaging Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"/> or
                  Media Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Video Sources by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceTokensList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoSorceTokenList</emphasis> - a list of Video Source tokens
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Video Source token <emphasis role="italic">videoSorceToken</emphasis> in <emphasis role="italic">videoSorceTokenList</emphasis>
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.IrCutfilterConfiguration.focus.2">
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetOptions</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              VideoSourceToken =: <emphasis role="italic">videoSorceToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or with <emphasis role="bold">GetOptionsResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ImagingOptions =: <emphasis role="italic">imagingOptions</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">imagingOptions</emphasis>.IrCutFilterModes list contains at least two items and one of them is equal to OFF, skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or <emphasis role="bold">GetMoveOptionsResponse</emphasis>,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="italic">videoSorceTokenList</emphasis> list or <emphasis role="italic">videoSorceTokenList</emphasis> list is empty,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.IrCutfilterConfiguration.table">
              <title>IrCutfilter Configuration Function Support in Imaging Service (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-IrCutfilterConfiguration">
                    <entry>
                      IrCutfilter Configuration
                    </entry>
                    <entry>
                      <emphasis role="bold">For at least one GetOptionsResponse message at least two IrCutFilterModes elements are present in GetOptionsResponse. ImagingOptions and one of them equal to OFF</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">There are no GetOptionsResponse messages with at least two IrCutFilterModes elements in GetOptionsResponse. ImagingOptions with one of them equal to OFF</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.events"
                 xreflabel="Section 5.5.10.2">
          <title>Imaging Events Support</title>
          <para>
            Imaging Events support under Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.events.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.events.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.events.table">
              <title>Imaging Events Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ImageTooBlurry">
                    <entry>
                      Image Too Blurry
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:VideoSource/ImageTooBlurry/ImagingService or tns1:VideoSource/ImageTooBlurry/AnalyticsService or tns1:VideoSource/ImageTooBlurry/RecordingService Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:VideoSource/ImageTooBlurry/ImagingService and tns1:VideoSource/ImageTooBlurry/AnalyticsService and tns1:VideoSource/ImageTooBlurry/RecordingService Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ImageTooDark">
                    <entry>
                      Image Too Dark
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/ImageTooDark/ImagingService
                        or
                        tns1:VideoSource/ImageTooDark/AnalyticsService
                        or
                        tns1:VideoSource/ImageTooDark/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/ImageTooDark/ImagingService
                        and
                        tns1:VideoSource/ImageTooDark/AnalyticsService
                        and
                        tns1:VideoSource/ImageTooDark/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ImageTooBright">
                    <entry>
                      Image Too Bright
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/ImageTooBright/ImagingService
                        or
                        tns1:VideoSource/ImageTooBright/AnalyticsService
                        or
                        tns1:VideoSource/ImageTooBright/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/ImageTooBright/ImagingService
                        and
                        tns1:VideoSource/ImageTooBright/AnalyticsService
                        and
                        tns1:VideoSource/ImageTooBright/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-GlobalSceneChange">
                    <entry>
                      Global Scene Change
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/GlobalSceneChange/ImagingService
                        or
                        tns1:VideoSource/GlobalSceneChange/AnalyticsService
                        or
                        tns1:VideoSource/GlobalSceneChange/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/GlobalSceneChange/ImagingService
                        and
                        tns1:VideoSource/GlobalSceneChange/AnalyticsService
                        and
                        tns1:VideoSource/GlobalSceneChange/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-MotionAlarm">
                    <entry>
                      Motion Alarm
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/MotionAlarm event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/MotionAlarm event topic
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Focus Control-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus"
                 xreflabel="Section 5.5.10.3">
          <title>Focus Control Function Support</title>
          <para>
            Focus Control function support in Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Imaging Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service"/> or
                  Media Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.media_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Video Sources by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceTokensList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoSorceTokenList</emphasis> - a list of Video Source tokens
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Video Source token <emphasis role="italic">videoSorceToken</emphasis> in <emphasis role="italic">videoSorceTokenList</emphasis>
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.2">
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetMoveOptions</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              VideoSourceToken =: <emphasis role="italic">videoSorceToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or with <emphasis role="bold">GetMoveOptionsResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              MoveOptions =: <emphasis role="italic">moveOptions</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">moveOptions</emphasis> contains <emphasis role="bold">MoveOptions/Absolute</emphasis> or <emphasis role="bold">MoveOptions/Relative</emphasis> or <emphasis role="bold">MoveOptions/Continuous</emphasis>, skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or <emphasis role="bold">GetMoveOptionsResponse</emphasis>,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="italic">videoSorceTokenList</emphasis> list or <emphasis role="italic">videoSorceTokenList</emphasis> list is empty,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.imaging_service.focus.table">
              <title>Focus Control (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetMoveOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-FocusControl">
                    <entry>
                      Focus Control
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains MoveOptions\Absolute or MoveOptions\Relative or MoveOptions\Continuous</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain MoveOptions\Absolute and MoveOptions\Relative and MoveOptions\Continuous</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Analytics Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service" xreflabel="Section 5.5.11">
        <title>Analytics Service Support</title>
        <para>
          Analytics Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:	</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.31"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver20/analytics/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Analytics Service  is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.features"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.supported_rules"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.supported_metadata"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.supported_metadata"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.31">
            <title>Analytics Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-AnalyticsService">
                  <entry>
                    Analytics Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver20/analytics/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver20/analytics/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section  xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.features"
                 xreflabel="Section 5.5.11.1">
          <title>Analytics Features Support</title>
          <para>
            Rule Engine support under Analytics Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetServiceCapabilitiesRequest message for Analytics Service capabilities support by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetServiceCapabilitiesResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.32"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then Rule Engine feature will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.32">
              <title>Analytics Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-RuleEngine">
                    <entry>
                      Rule Engine
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities.RuleSupport = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities. RuleSupport or Capabilities.RuleSupport = false</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RuleOptions">
                    <entry>
                      Rule Options
                    </entry>
                    <entry>
                      <emphasis role="bold">RuleOptionsSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities. RuleOptionsSupported or Capabilities. RuleOptionsSupported = false</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AnalyticsModules">
                    <entry>
                      Analytics Modules
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. AnalyticsModuleSupport = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities. AnalyticsModuleSupport or Capabilities. AnalyticsModuleSupport = false</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AnalyticsModuleOptions">
                    <entry>
                      Analytics Module Options
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. AnalyticsModuleOptionsSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities. AnalyticsModuleOptionsSupported or Capabilities. AnalyticsModuleOptionsSupported = false</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-SupportedMetadata">
                    <entry>
                      Supported Metadata
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities.SupportedMetadata = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities.SupportedMetadata or Capabilities.SupportedMetadata = false</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ImageSending">
                    <entry>
                      Image Sending
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities contains non-empty @ImageSendingType</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities.@ImageSendingType or @ImageSendingType has empty list value</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EmbeddedImageSendingType">
                    <entry>
                      Embedded Image Sending Type
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities contains @ImageSendingType with "Embedded" value in the list</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities.@ImageSendingType or @ImageSendingType does not contain "Embedded" value</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LocalStorageImageSendingType">
                    <entry>
                      Local Storage Image Sending Type
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities contains @ImageSendingType with "LocalStorage" value in the list</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities.ImageSendingType or @ImageSendingType does not contain "LocalStorage" value</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RemoteStorageImageSendingType">
                    <entry>
                      Remote Storage Image Sending Type
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities contains @ImageSendingType with "RemoteStorage" value in the list</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Skipped Capabilities.ImageSendingType or @ImageSendingType does not contain "RemoteStorage" value</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Supported Rules-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.supported_rules"
                 xreflabel="Section 5.5.11.2">
          <title>Supported Rules</title>
          <para>
            Supported Rules support under Analytics Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Rule Engine</emphasis> feature according to <xref linkend ="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.32"
                        xrefstyle="template:Table %n"/>, otherwise all features defined in <xref linkend ="tc.discovery_procedure.getservices.analytics_service.table.SupportedRules"
                  xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT supports <emphasis role="bold">Media2 Service</emphasis> feature according to <xref linkend ="tc.discovery_procedure.getservices_getservicecapabilities.media2_service"/>,
                  otherwise all features defined in <xref linkend ="tc.discovery_procedure.getservices.analytics_service.table.SupportedRules"
                  xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Analytics Configurations by following the procedure mentioned in <xref linkend="Annex_HelperGetAnalyticsConfigurationsList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">analyticsConfList</emphasis> - a list of Analytics configurations
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Analytics Configuration <emphasis role="italic">analyticsConf</emphasis> in <emphasis role="italic">analyticsConfList</emphasis> repeat the following steps:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetSupportedRules</emphasis> request with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ConfigurationToken := <emphasis role="italic">analyticsConf</emphasis>.token
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        DUT responds with <emphasis role="bold">GetSupportedRulesResponse</emphasis> message with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              SupportedRules =: <emphasis role="italic">supportedRules1</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <emphasis role="italic">supportedRules</emphasis> := <emphasis role="italic">supportedRules</emphasis> + <emphasis role="italic">supportedRules1</emphasis>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices.analytics_service.table.SupportedRules"
                              xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetSupportedRulesResponse then all features defined in <xref linkend ="tc.discovery_procedure.getservices.analytics_service.table.SupportedRules"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices.analytics_service.table.SupportedRules">
              <title>Supported Rules (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetSupportedRulesResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-MotionRegionDetectorRule">
                    <entry>
                      Motion Region Detector Rule
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains RuleDescription element with Name value is equal to tt:MotionRegionDetector</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain RuleDescription element with Name value is equal to tt:MotionRegionDetector</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-FaceRecognitionRule">
                    <entry>
                      Face Recognition Rule
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains RuleDescription element with Name value is equal to tt:FaceRecognition</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain RuleDescription element with Name value is equal to tt:FaceRecognition</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LicensePlateRecognitionRule">
                    <entry>
                      License Plate Recognition Rule
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains RuleDescription element with Name value is equal to tt:LicensePlateRecognition</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain RuleDescription element with Name value is equal to tt:LicensePlateRecognition</emphasis>
                    </entry>
                  </row>
                <row xml:id="tc.s-LineCrossingCountingRule">
                    <entry>
                      Line Crossing Counting Rule
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains RuleDescription element with Name value is equal to tt:LineCounting</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain RuleDescription element with Name value is equal to tt:LineCounting</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Analytics Service - Supported Metadata-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.supported_metadata"
                 xreflabel="Section 5.5.11.3">
          <title>Analytics Service - Supported Metadata</title>
          <para>
            Supported Metadata supporting under Analytics Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Analytics Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices.analytics_service.table.MetadataTypes"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Metadata Supported is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.analytics_service.table5.32" xrefstyle="template:Table %n"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices.analytics_service.table.MetadataTypes"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetSupportedMetadata</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Type skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  DUT responds with <emphasis role="bold">GetSupportedMetadataResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        AnalyticsModule list =: <emphasis role="italic">analyticsModuleList</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>



            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetSupportedMetadataResponse then the following features will be marked as undefined:
            <itemizedlist>
              <listitem>
                <para>
                  Object Classification
                </para>
              </listitem>
              <listitem>
                <para>
                  Vehicle Info
                </para>
              </listitem>
              <listitem>
                <para>
                  Geo Location
                </para>
              </listitem>
              <listitem>
                <para>
                  Human Face
                </para>
              </listitem>
              <listitem>
                <para>
                  Human Body
                </para>
              </listitem>
              <listitem>
                <para>
                  License Plate Info
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices.analytics_service.table.MetadataTypes">
              <title>Supported Metadata (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetSupportedMetadataResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ObjectClassification">
                    <entry>
                      Object Classification
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule element with SampleFrame.Object. Appearance.Class.Type</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule element with SampleFrame.Object. Appearance.Class.Type</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-VehicleInfo">
                    <entry>
                      Vehicle Info
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule.SampleFrame.Object.Appearance with VehicleInfo element</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule.SampleFrame.Object.Appearance with VehicleInfo element</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-HumanFace">
                    <entry>
                      Human Face
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule.SampleFrame.Object.Appearance with HumanFace element</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule.SampleFrame.Object.Appearance with HumanFace element</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-HumanBody">
                    <entry>
                      Human Body
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule.SampleFrame.Object.Appearance with HumanBody element</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule.SampleFrame.Object.Appearance with HumanBody element</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LicensePlateInfo">
                    <entry>
                      License Plate Info
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule.SampleFrame.Object.Appearance with LicensePlateInfo element</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule.SampleFrame.Object.Appearance with LicensePlateInfo element</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-GeoLocation">
                    <entry>
                      Geo Location
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AnalyticsModule element with SampleFrame.Object. Appearance.GeoLocation element</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain AnalyticsModule element with SampleFrame.Object. Appearance with GeoLocation element</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Recording Control Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_control_service">
        <title>Recording Control Service Support</title>
        <para>
          Recording Control Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_control_service.table5.33"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/recording/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Recording Control service is not supported, the following feature discovery (Dynamic Recordings, Dynamic Tracks and Audio Recording features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_control_service.table5.33">
            <title>Recording Control Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-RecordingControlService">
                  <entry>
                    Recording Control Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/recording/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/recording/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <para>
          <emphasis role="bold">Recording Control features support</emphasis>
        </para>
        <para>
          Dynamic Recordings, Dynamic Tracks, Audio Recording, and Recording Options support under Recording Control Service is determined according to the following procedure in conjunction with the above procedure.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist numeration="arabic"
                       inheritnum="inherit">
            <?dbfo label-width="2.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message to check Dynamic Recording capability support by the DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetServiceCapabilitiesResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_control_service.table5.34"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then Dynamic Recordings feature, Dynamic Tracks feature, Audio Recording feature, Recording Options, Metadata Recording feature, JPEG, H.264, and MPEG4 will be marked as undefined.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_control_service.table5.34">
            <title>Recording Control Features Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServiceCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-DynamicRecordings">
                  <entry>
                    Dynamic Recordings
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. DynamicRecordings = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities. DynamicRecordings or Capabilities. DynamicRecordings = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-DynamicTracks">
                  <entry>
                    Dynamic Tracks
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.DynamicTracks = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities. DynamicTracks or Capabilities. DynamicTracks = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-AudioRecording">
                  <entry>
                    Audio Recording
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Encoding with at least one audio codec (AAC, G711, or G726)</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Encoding with at least one audio codec (AAC, G711, or G726)
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-RecordingOptions">
                  <entry>
                    Recording Options
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Options = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Options or Capabilities.Options = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-RecordingConfigDeleteTrackDataEvent">
                  <entry>
                    tns1:RecordingConfig/DeleteTrackData
                  </entry>
                  <entry>
                    <emphasis role="bold">GetEventProperties contains tns1:RecordingConfig/DeleteTrackData topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      GetEventProperties doesn’t contain tns1:RecordingConfig/DeleteTrackData topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-MetadataRecording">
                  <entry>
                    Metadata Recording
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities. MetadataRecording = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities. MetadataRecording or Capabilities. MetadataRecording = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-EncodingJPEG">
                  <entry>
                    JPEG
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Encoding with JPEG</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Encoding with JPEG
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-EncodingH264">
                  <entry>
                    H.264
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Encoding with H264</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Encoding with H264
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-EncodingMPEG4">
                  <entry>
                    MPEG4
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Encoding with MPEG4</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Encoding with MPEG4
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>


      </section>
      <!--Recording Search Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service"
               xreflabel="Section 5.5.13">
        <title>Recording Search Service Support</title>
        <para>
          Recording Search Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist numeration="arabic"
                       inheritnum="inherit">
            <?dbfo label-width="2.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/search/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Recording Search service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.table">
            <title>Recording Search Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-RecordingSearchService">
                  <entry>
                    Recording Search Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/search/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/search/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata"
                 xreflabel="Section 5.5.13.1">
          <title>Metadata Search Support</title>
          <para>
            Metadata Search support under Recording Search Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Recording Search Service Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Recording Search Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.metadata.table">
              <title>Metadata Search Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-MetadataSearch">
                    <entry>
                      Metadata Search
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.MetadataSearch = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.MetadataSearch or <emphasis role="italic">cap</emphasis>.MetadataSearch = false
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz"
                 xreflabel="Section 5.5.13.2">
          <title>PTZ Position Search Support</title>
          <para>
            PTZ Position Search support under Recording Search Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Recording Search Service Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that all pre-requisite defined in <xref linkend="Annex_HelperRecordingEnvironmentPreRequisite"/> are fulfilled, otherwise states of the features listed in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/> could not be defined correctly.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetRecordingInformation</emphasis> requiest with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RecordingToken := <emphasis role="italic">recordingToken</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetRecordingInformationResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RecordingInformation =: <emphasis role="italic">recordingInformation</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">FindPTZPosition</emphasis> requiest with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        If <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              StartPoint := <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              StartPoint := minimal value of DataFrom element in <emphasis role="italic">recordingInformation</emphasis>.Track list
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              EndPoint := <emphasis role="italic">recordingInformation</emphasis>.LatestRecording
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              EndPoint is skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Scope is empty element
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.PanTilt.x := -1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.PanTilt.y := -1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.Zoom is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.PanTilt.x := 1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.PanTilt.y := 1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.Zoom is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.EnterOrExit := false
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MaxMatches is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        KeepAliveTime := "PT3S"
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with SOAP 1.2 fault or <emphasis role="bold">FindPTZPositionResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        SearchToken =: <emphasis role="italic">searchToken</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT returns <emphasis role="bold">FindPTZPositionResponse</emphasis> message:
                  <itemizedlist>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">EndSearch</emphasis> requiest with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              SearchToken := <emphasis role="italic">searchToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">EndSearchResponse</emphasis> message with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              Endpoint
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">recordingToken</emphasis> will be taken from 'Recording from tests' field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetRecordingInformationResponse then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording and there are no <emphasis role="italic">recordingInformation</emphasis>.Track items then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.recording_search_service.ptz.table">
              <title>PTZ Position Search Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      FindPTZPositionResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-PTZPositionSearch">
                    <entry>
                      PTZ Position Search
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns FindPTZPositionResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP 1.2 fault</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>

        </section>
      </section>
      <!--Replay Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.replay_service">
        <title>Replay Service Support</title>
        <para>
          Replay Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.replay_service.table5.38"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/replay/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Replay service is not supported, the following feature discovery (Reverse Replay features support) will be skipped.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.replay_service.table5.38">
            <title>Replay Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-ReplayService">
                  <entry>
                    Replay Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/replay/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/replay/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

        <para>
          <emphasis role="bold">Replay features support</emphasis>
        </para>
        <para>
          Reverse Replay and RTP/RTSP/TCP support under Replay Service is determined according to the following procedure in conjunction with the above procedure.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetServiceCapabilitiesRequest message to check Reverse Replay capability support by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetServiceCapabilitiesResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.replay_service.table5.39"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then Reverse Replay feature and RTP/RTSP/TCP feature will be marked as undefined.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.replay_service.table5.39">
            <title>Replay Control Features Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServiceCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-ReverseReplay">
                  <entry>
                    Reverse Replay
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.ReversePlayback = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.ReversePlayback or Capabilities.ReversePlayback = false</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.s-ReplayServiceRTPRTSPTCP">
                  <entry>
                    RTP/RTSP/TCP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.RTP_RTSP_TCP = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.RTP_RTSP_TCP or Capabilities.RTP_RTSP_TCP = false</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Receiver Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.receiver_service">
        <title>Receiver Service Support</title>
        <para>
          Receiver Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.table5.40"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/receiver/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.table5.40">
            <title>Receiver Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-ReceiverService">
                  <entry>
                    Receiver Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/receiver/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/receiver/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>


      </section>
      <!--Door Control Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service"
               xreflabel="Section 5.5.16">
        <title>Door Control Service Support</title>
        <para>
          Door Control Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/doorcontrol/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Door Control service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features"/>
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity"/>
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events"/>
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.table">
            <title>Door Control Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-DoorControlService">
                  <entry>
                    Door Control Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/doorcontrol/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/doorcontrol/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features"
                 xreflabel="Section 5.5.16.1">
          <title>Door Control Features Support</title>
          <para>
            Door Control capabilities support under Door Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Door Control Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Door Control Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features.table">
              <title>Door Control Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-DoorEntity">
                    <entry>
                      Door Entity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxDoors > 0 or <emphasis role="italic">cap</emphasis>. MaxDoors is skipped
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxDoors = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-MaxDoorsCapability">
                    <entry>
                      MaxDoors Capability
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis> contains @MaxDoors
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis> does not contain @MaxDoors
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorManagement">
                    <entry>
                      Door Management
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. DoorManagementSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. DoorManagementSupported or <emphasis role="italic">cap</emphasis>. DoorManagementSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ClientSuppliedTokenDoorControl">
                    <entry>
                      Client Supplied Token
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported or <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>

              </tgroup>
            </table>
          </para>
        </section>

        <!--Door Entity support section-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity"
                 xreflabel="Section 5.5.16.2">
          <title>Door Entity Features Support</title>
          <para>
            Door Entity Features support under Door Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Door Control Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Door Entity is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Doors with Door Info by following the procedure mentioned in <xref linkend="Annex_HelperGetCompleteDoorInfoList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">doorInfoList</emphasis> - Door Info list
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetDoorInfoListResponse message, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> Lock Down Door feature support means that both LockDownDoor and LockDownReleaseDoor command are expected to be supported by the DUT.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> Lock Open Door feature support means that both LockOpenDoor and LockOpenReleaseDoor command are expected to be supported by the DUT.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_entity.table">
              <title>Door Entity Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      All DoorInfos
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-AccessDoor">
                    <entry>
                      Access Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Access = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.Access = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LockDoor">
                    <entry>
                      Lock Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Lock = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.Lock = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-UnlockDoor">
                    <entry>
                      Unlock Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Unlock = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.Unlock = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoubleLockDoor">
                    <entry>
                      Double Lock Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.DoubleLock = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.DoubleLock = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-BlockDoor">
                    <entry>
                      Block Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Block = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.Block = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LockDownDoor">
                    <entry>
                      Lock Down Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.LockDown = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.LockDown = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LockOpenDoor">
                    <entry>
                      Lock Open Door
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.LockOpen = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.LockOpen = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorMonitor">
                    <entry>
                      Door Monitor
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.DoorMonitor = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.DoorMonitor = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LockMonitor">
                    <entry>
                      Lock Monitor
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.LockMonitor = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities.LockMonitor = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoubleLockMonitor">
                    <entry>
                      Double Lock Monitor
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities. DoubleLockMonitor = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities. DoubleLockMonitor = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorAlarm">
                    <entry>
                      Alarm
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Alarm = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities. Alarm = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorTamper">
                    <entry>
                      Tamper
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Tamper = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities. Tamper = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorFault">
                    <entry>
                      Fault
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Door with Capabilities.Fault = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no Doors with Capabilities. Fault = true
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Door Control Events support section-->
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events"
                 xreflabel="Section 5.5.16.3">
          <title>Door Control Events Support</title>
          <para>
            Door Control Events support under Door Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Door Control Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Door Entity is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.features"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>

            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service.door_control_events.table">
              <title>Door Control Events Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-DoorModeEvent">
                    <entry>
                      Door/State/DoorMode
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/DoorMode Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/DoorMode Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorPhysicalStateEvent">
                    <entry>
                      Door/State/DoorPhysicalState
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ DoorPhysicalState Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/ DoorPhysicalState Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-LockPhysicalStateEvent">
                    <entry>
                      Door/State/LockPhysicalState
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ LockPhysicalState Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/ LockPhysicalState Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoubleLockPhysicalStateEvent">
                    <entry>
                      Door/State/DoubleLockPhysicalState
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ DoubleLockPhysicalState Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/ DoubleLockPhysicalState Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorAlarmEvent">
                    <entry>
                      Door/State/DoorAlarm
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ DoorAlarm Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/DoorAlarm Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorTamperEvent">
                    <entry>
                      Door/State/DoorTamper
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ DoorTamper Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/DoorTamper Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorFaultEvent">
                    <entry>
                      Door/State/DoorFault
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Door/State/ DoorFault Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Door/State/DoorFault Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorChangedEvent">
                    <entry>
                      Configuration/Door/Changed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/Door/Changed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/Door/Changed Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DoorRemovedEvent">
                    <entry>
                      Configuration/Door/Removed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/Door/Removed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/Door/Removed Event topic
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Access Control Service Support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service"
               xreflabel="Section 5.5.17">
        <title>Access Control Service Support</title>
        <para>
          Access Control Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/accesscontrol/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Access Control service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.table">
            <title>Access Control Service Support (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.s-AccessControlService">
                  <entry>
                    Access Control Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/accesscontrol/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/accesscontrol/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features"
                 xreflabel="Section 5.5.17.1">
          <title>Access Control Service Features Support</title>
          <para>
            Access Control capabilities support under Access Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Access Control Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.door_control_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Access Control Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features.table">
              <title>Access Control Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-AccessPointEntity">
                    <entry>
                      Access Point Entity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxAccessPoints > 0 or <emphasis role="italic">cap</emphasis>. MaxAccessPoints is skipped
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxAccessPoints = 0
                      </emphasis>
                    </entry>
                  </row>
                <row xml:id="tc.s-MaxAccessPointsCapability">
                    <entry>
                      MaxAccessPoints Capability
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis> contains @MaxAccessPoints 
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis> does not contain @MaxAccessPoints 
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessPointManagement">
                    <entry>
                      Access Point Management
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. AccessPointManagementSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. AccessPointManagementSupported or <emphasis role="italic">cap</emphasis>. AccessPointManagementSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AreaManagement">
                    <entry>
                      Area Management
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. AreaManagementSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. AreaManagementSupported or <emphasis role="italic">cap</emphasis>. AreaManagementSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ClientSuppliedTokenAccessControl">
                    <entry>
                      Client Supplied Token (Area, Access Point)
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported or <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>

              </tgroup>
            </table>
          </para>
        </section>
        
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity"
                 xreflabel="Section 5.5.17.2">
          <title>Area Entity Support</title>
          <para>
            Area Entity support under Access Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Access Control Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a complete list of area info items by following the procedure mentioned in <xref linkend="Annex_HelperGetCompleteAreaInfoList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">areaInfoCompleteList</emphasis> - complete areas info list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">areasNumber</emphasis> - areas number
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT fails procedure described in <xref linkend="Annex_HelperGetCompleteAreaInfoList"/>, all features from <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.area_entity.table">
              <title>Area Entity Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAreaInfoListResponse messages
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-AreaEntity">
                    <entry>
                      Area Entity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">areasNumber</emphasis> &gt; 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">areasNumber</emphasis> = 0
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity"
                 xreflabel="Section 5.5.17.3">
          <title>Access Point Features Support</title>
          <para>
            Access Point Entity features support under Access Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Access Point Entity is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.features"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>              
              <listitem>
                <para>
                  ONVIF Client retrieves a complete list of access point info items by following the procedure mentioned in <xref linkend="Annex_HelperGetCompleteAccessPointInfoList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">accessPointInfoCompleteList</emphasis> - complete access points info list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        out <emphasis role="italic">accessPointsNumber</emphasis> - access points number
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT fails procedure described in <xref linkend="Annex_HelperGetCompleteAccessPointInfoList"/>, all features from <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity.table"
                  xrefstyle="template:Table %n"/> except Access Point Entity will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_point_entity.table">
              <title>Access Control Entity Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      All AccessPointInfos from <emphasis role="italic">accessPointInfoCompleteList</emphasis>
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  
                  <row xml:id="tc.s-EnableDisableAccessPoint">
                    <entry>
                      Enable/Disable Access Point
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities. DisableAccessPoint = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities. DisableAccessPoint = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Duress">
                    <entry>
                      Duress
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities.Duress = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities.Duress = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessTaken">
                    <entry>
                      Access Taken
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities.AccessTaken = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities.AccessTaken = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ExternalAuthorization">
                    <entry>
                      External Authorization
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities. ExternalAuthorization = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities. ExternalAuthorization = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AnonymousAccess">
                    <entry>
                      Anonymous Access
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities. AnonymousAccess = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities. AnonymousAccess = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-IdentifierAccess">
                    <entry>
                      Identifier Access
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities. IdentifierAccess = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities. IdentifierAccess = true
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Feedback">
                    <entry>
                      Feedback
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one AccessPointInfo with Capabilities. SupportedFeedbackTypes with non-empty list of values</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains no AccessPointInfo with Capabilities. SupportedFeedbackTypes or each SupportedFeedbackTypes list is empty
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_control_events"
                 xreflabel="Section 5.5.17.4">
          <title>Access Control Events Support</title>
          <para>
            Access Control Events support under Access Control Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.event_service.get_event_properties"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_control_events.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_control_events.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_control_service.access_control_events.table">
              <title>Access Control Events Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-AccessGrantedAnonymousEvent">
                    <entry>
                      AccessControl/AccessGranted/Anonymous
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessGranted/Anonymous Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessGranted/Anonymous Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessGrantedCredentialEvent">
                    <entry>
                      AccessControl/AccessGranted/Credential
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessGranted/Credential Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessGranted/Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessTakenAnonymousEvent">
                    <entry>
                      AccessControl/AccessTaken/Anonymous
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessTaken/Anonymous Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessTaken/Anonymous Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessTakenCredentialEvent">
                    <entry>
                      AccessControl/AccessTaken/Credential
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessTaken/Credential Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessTaken/Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessTakenIdentifierEvent">
                    <entry>
                      AccessControl/AccessTaken/Identifier
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessTaken/Identifier Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessTaken/Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessNotTakenAnonymousEvent">
                    <entry>
                      AccessControl/AccessNotTaken/Anonymous
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessNotTaken/Anonymous Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessNotTaken/Anonymous Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessNotTakenCredentialEvent">
                    <entry>
                      AccessControl/AccessNotTaken/Credential
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessNotTaken/Credential Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessNotTaken/Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessNotTakenIdentifierEvent">
                    <entry>
                      AccessControl/AccessNotTaken/Identifier
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/ AccessNotTaken/Identifier Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/ AccessNotTaken/Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessDeniedAnonymousEvent">
                    <entry>
                      AccessControl/Denied/Anonymous
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Denied/ Anonymous Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Denied/ Anonymous Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessDeniedCredentialEvent">
                    <entry>
                      AccessControl/Denied/Credential
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Denied/ Credential Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Denied/ Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessDeniedCredentialCredentialNotFoundCardEvent">
                    <entry>
                      AccessControl/Denied/CredentialNotFound/Card
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Denied/ CredentialNotFound/Card Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Denied/ CredentialNotFound/Card Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-DuressEvent">
                    <entry>
                      AccessControl/Duress
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Duress Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Duress Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RequestAnonymousEvent">
                    <entry>
                      AccessControl/Request/Anonymous
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Request/Anonymous Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Request/ Anonymous Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RequestCredentialEvent">
                    <entry>
                      AccessControl/Request/Credential
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Request/Credential Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Request/ Credential Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-RequestTimeoutEvent">
                    <entry>
                      AccessControl/Request/Timeout
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Request/ Timeout Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Request/ Timeout Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessPointStateEnabledEvent">
                    <entry>
                      AccessPoint/State/Enabled
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessPoint/State/ Enabled Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessPoint/State/Enabled Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessPointChangedEvent">
                    <entry>
                      Configuration/AccessPoint/Changed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/AccessPoint/Changed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/AccessPoint/Changed Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessPointRemovedEvent">
                    <entry>
                      Configuration/AccessPoint/Removed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/ AccessPoint/Removed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/AccessPoint/Removed Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AreaChangedEvent">
                    <entry>
                      Configuration/Area/Changed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/Area/ Changed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/Area/ Changed Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AreaRemovedEvent">
                    <entry>
                      Configuration/Area/Removed
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:Configuration/Area/ Removed Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:Configuration/Area/ Removed Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessDeniedCredentialCredentialNotFoundEvent">
                    <entry>
                      AccessControl/Denied/CredentialNotFound
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Denied/ CredentialNotFound Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Denied/ CredentialNotFound Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessGrantedIdentifierEvent">
                    <entry>
                      AccessControl/AccessGranted/Identifier
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/AccessGranted/ Identifier Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/AccessGranted/ Identifier Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-AccessDeniedIdentifierEvent">
                    <entry>
                      AccessControl/Denied/Identifier
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:AccessControl/Denied/ Identifier Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:AccessControl/Denied/ Identifier Event topic
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>        
      </section>
      <!--Security Configuration Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service"
               xreflabel="Section 5.5.18">
        <title>Security Configuration Service Support</title>
        <para>
          Security Configuration Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/advancedsecurity/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Security Configuration Service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.table">
            <title>Security Configuration Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-AdvancedSecurity">
                  <entry>
                    Security Configuration Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/advancedsecurity/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/advancedsecurity/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features"
                 xreflabel="Section 5.5.18.1">
          <title>Security Configuration Features Support</title>
          <para>
            Keystore, TLS Server, and 802.1X configuration capabilities support under Security Configuration Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Security Configuration Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Security Configuration Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.advance_security_service.features.table">
              <title>Security Configuration Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-RSAKeyPairGeneration">
                    <entry>
                      RSA Key Pair Generation
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. RSAKeyPairGeneration = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. RSAKeyPairGeneration or Capabilities. KeystoreCapabilities. RSAKeyPairGeneration = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PKCS10ExternalCertificationWithRSA">
                    <entry>
                      PKCS10 External Certification with RSA
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. PKCS10ExternalCertification WithRSA = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. PKCS10ExternalCertification WithRSA or Capabilities. KeystoreCapabilities. PKCS10ExternalCertification WithRSA = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-SelfSignedCertificateCreationWithRSA">
                    <entry>
                      Self-Signed Certificate Creation with RSA
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. SelfSignedCertificate CreationWithRSA = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. SelfSignedCertificateCreation WithRSA or Capabilities. KeystoreCapabilities. SelfSignedCertificateCreation WithRSA = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PassphraseManagement">
                    <entry>
                      Passphrase Management
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. MaximumNumberOf Passphrases > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. MaximumNumberOf Passphrases or Capabilities. KeystoreCapabilities. MaximumNumberOf Passphrases = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PKCS8RSAKeyPairUpload">
                    <entry>
                      PKCS8 Container Upload
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. PKCS8RSAKeyPairUpload = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. PKCS8RSAKeyPairUpload or Capabilities. KeystoreCapabilities. PKCS8RSAKeyPairUpload = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PKCS12CertificateWithRSAPrivateKeyUpload">
                    <entry>
                      PKCS12 Container Upload
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. PKCS12CertificateWithRSA PrivateKeyUpload = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. PKCS12CertificateWithRSA PrivateKeyUpload or Capabilities. KeystoreCapabilities. PKCS12CertificateWithRSA PrivateKeyUpload = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-CRLs">
                    <entry>
                      CRLs
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. MaximumNumberOfCRLs > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. MaximumNumberOfCRLs or Capabilities. KeystoreCapabilities. MaximumNumberOfCRLs = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-CertificationPathValidationPolicies">
                    <entry>
                      Certification path validation policies
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. MaximumNumber OfCertificationPath ValidationPolicies > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. MaximumNumber OfCertificationPath ValidationPolicies or Capabilities. KeystoreCapabilities. MaximumNumber OfCertificationPath ValidationPolicies = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-TLSWebClientAuthExtKeyUsage">
                    <entry>
                      TLS WWW client auth extended key usage extension
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. EnforceTLSWebClientAuth ExtKeyUsage = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. EnforceTLSWebClientAuth ExtKeyUsage or Capabilities. KeystoreCapabilities. EnforceTLSWebClientAuth ExtKeyUsage = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-NoPrivateKeySharing">
                    <entry>
                      No Private Key Sharing
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. KeystoreCapabilities. NoPrivateKeySharing = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. KeystoreCapabilities. NoPrivateKeySharing or Capabilities. KeystoreCapabilities. NoPrivateKeySharing = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-TLSServerSupport">
                    <entry>
                      TLS Server Support
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. TLSServerCapabilities. TLSServerSupported list is not empty</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. TLSServerCapabilities. TLSServerSupported or empty Capabilities. TLSServerCapabilities. TLSServerSupported list
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-TLSClientAuthentication">
                    <entry>
                      TLS client authentication
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. TLSServerCapabilities. TLSClientAuthSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. TLSServerCapabilities. TLSClientAuthSupported or Capabilities. TLSServerCapabilities. TLSClientAuthSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-EnabledTLSVersions">
                    <entry>
                      Enabled TLS Versions
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. TLSServerCapabilities. EnabledVersionsSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. TLSServerCapabilities. EnabledVersionsSupported or Capabilities. TLSServerCapabilities. EnabledVersionsSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Credential Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.credential_service"
               xreflabel="Section 5.5.19">
        <title>Credential Service Support</title>
        <para>
          Credential Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/credential/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Credential service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.table">
            <title>Credential Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-Credential">
                  <entry>
                    Credential Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/credential/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/credential/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features"
                 xreflabel="Section 5.5.19.1">
          <title>Credential Features Support</title>
          <para>
            Credential capabilities support under Credential Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Credential Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Credential Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.credential_service.features.table">
              <title>Credential Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-CredentialEntity">
                    <entry>
                      Credential Entity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxCredentials > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MaxCredentials = 0
                      </emphasis>
                    </entry>
                  </row>            
                  
                  <row xml:id="tc.s-PtCard">
                    <entry>
                      pt:Card
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:Card
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:Card
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PtPIN">
                    <entry>
                      pt:PIN
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:PIN
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:PIN
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PtFingerprint">
                    <entry>
                      pt:Fingerprint
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:Fingerprint
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:Fingerprint
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PtFace">
                    <entry>
                      pt:Face
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:Face
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:Face
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PtIris">
                    <entry>
                      pt:Iris
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:Iris
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:Iris
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-PtVein">
                    <entry>
                      pt:Vein
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType contains pt:Vein
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SupportedIdentifierType does not contain pt:Vein
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-CredentialValidity">
                    <entry>
                      Credential Validity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. CredentialValiditySupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. CredentialValiditySupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-CredentialAccessProfileValidity">
                    <entry>
                      Credential Access Profile Validity
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.CredentialAccessProfile ValiditySupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.CredentialAccessProfile ValiditySupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ValiditySupportsTimeValue">
                    <entry>
                      Validity Supports Time Value
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.ValiditySupportsTimeValue = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.ValiditySupportsTimeValue = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ResetAntipassbackViolation">
                    <entry>
                      Reset Antipassback Violation
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ResetAntipassbackSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ResetAntipassbackSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ptExemptFromAuthentication">
                    <entry>
                      pt:ExemptFromAuthentication
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.Extension. SupportedExemptionType = pt:ExemptFromAuthentication
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.Extension does not contain SupportedExemptionType with value = pt:ExemptFromAuthentication
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ClientSuppliedTokenCredential">
                    <entry>
                      Client Supplied Token (Credential)
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported or <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Whitelist">
                    <entry>
                      Whitelist
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.MaxWhitelistedItems > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.MaxWhitelistedItems or <emphasis role="italic">cap</emphasis>.MaxWhitelistedItems = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-Blacklist">
                    <entry>
                      Blacklist
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.MaxBlacklistedItems > 0
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>.MaxBlacklistedItems or <emphasis role="italic">cap</emphasis>.MaxBlacklistedItems = 0
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Access Rules Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service"
               xreflabel="Section 5.5.20">
        <title>Access Rules Service Support</title>
        <para>
          Access Rules Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/accessrules/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Credential service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.table">
            <title>Access Rules Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-AccessRulesService">
                  <entry>
                    Access Rules Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/accessrules/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/accessrules/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features"
                 xreflabel="Section 5.5.20.1">
          <title>Access Rules Features Support</title>
          <para>
            Access Rules capabilities support under Access Rules Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Access Rules Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Access Rules Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.access_rules_service.features.table">
              <title>Access Rules Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.s-MultipleSchedulesAccessPoint">
                    <entry>
                      Multiple Schedules per Access Point
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MultipleSchedulesPer AccessPointSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. MultipleSchedulesPer AccessPointSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ClientSuppliedTokenAccessRules">
                    <entry>
                      Access Rules Service\Client Supplied Token
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported or <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Schedule Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service"
               xreflabel="Section 5.5.21">
        <title>Schedule Service Support</title>
        <para>
          Schedule Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/schedule/wsdl" namespace, ONVIF Client will use service with the latest version.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Schedule service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.table">
            <title>Schedule Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.s-Schedule">
                  <entry>
                    Schedule Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/schedule/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/schedule/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features"
                 xreflabel="Section 5.5.21.1">
          <title>Schedule Features Support</title>
          <para>
            Schedule capabilities support under Schedule Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Schedule Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetServiceCapabilities</emphasis> request for Schedule Service.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with <emphasis role="bold">GetServiceCapabilitiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        Capabilities =: <emphasis role="italic">cap</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetServiceCapabilitiesResponse, then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.schedule_service.features.table">
              <title>Schedule Features Support (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetServiceCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.s-ExtendedRecurrence">
                    <entry>
                      Extended Recurrence
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ExtendedRecurrenceSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ExtendedRecurrenceSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-SpecialDays">
                    <entry>
                      Special Days
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SpecialDaysSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.SpecialDaysSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-StateReporting">
                    <entry>
                      State Reporting
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.StateReportingSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>.StateReportingSupported = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.s-ClientSuppliedTokenSchedule">
                    <entry>
                      Schedule Service\Client Supplied Token
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = true
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported or <emphasis role="italic">cap</emphasis>. ClientSuppliedTokenSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Provisioning Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.provisioning_service">
        <title>Provisioning Service Support</title>
        <para>
          Provisioning Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.provisioning_service.table5.56"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/provisioning/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.provisioning_service.table5.56">
            <title>Provisioning Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row>
                  <entry>
                    Provisioning Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/provisioning/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/provisioning/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Thermal Service support-->
      <section xml:id="tc.discovery_procedure.getservices_getservicecapabilities.thermal_service">
        <title>Thermal Service Support</title>
        <para>
          Thermal Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetServicesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.thermal_service.table5.57"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetServicesResponse contains several services with "http://www.onvif.org/ver10/thermal/wsdl" namespace ONVIF Client will use service with the latest version.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getservices_getservicecapabilities.thermal_service.table5.57">
            <title>Thermal Service (GetServices)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetServicesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row>
                  <entry>
                    Thermal Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes service with "http://www.onvif.org/ver10/thermal/wsdl" namespace</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include service with "http://www.onvif.org/ver10/thermal/wsdl" namespace</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
    </section>
    <!-- Discovery Procedure (GetCapabilities) -->
    <section xml:id="tc.discovery_procedure.getcapabilities">
      <title>Discovery Procedure (GetCapabilities)</title>
      <para>
        If only GetCapabilities is supported by the DUT, then GetCapabilities command will be used for feature discovery procedure. The following provides with the functionality discovery procedure for this case.
      </para>
      <!--Device Service Capabilities configuration functionality in Device Management Service-->
      <section xml:id="tc.discovery_procedure.getcapabilities.device_service_capabilities_in_device_management_service">
        <title>Device Service Capabilities Configuration Functionality in Device Management Service</title>
        <para>
          There are various network configuration functions defined in [ONVIF Core] as a part of ONVIF Device Management Service. The following provides with the functionality discovery procedure which is related to network configuration.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_service_capabilities_in_device_management_service.table5.57"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> Absence of Capabilities.Device or Capabilities.Device.Network element in GetCapabilitiesResponse will be regarded as no support for the following functionalities:
          <itemizedlist>
            <listitem>
              <para>
                ZeroConfiguration
              </para>
            </listitem>
            <listitem>
              <para>
                IPv6
              </para>
            </listitem>
            <listitem>
              <para>
                IP Filter
              </para>
            </listitem>
            <listitem>
              <para>
                Dynamic DNS
              </para>
            </listitem>
            <listitem>
              <para>
                DHCPv6
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> Absence of Capabilities.Device or Capabilities.Device.System or Capabilities.Device.Security element in GetCapabilitiesResponse will be regarded as no support for the following functionalities:
          <itemizedlist>
            <listitem>
              <para>
                BYE Message
              </para>
            </listitem>
            <listitem>
              <para>
                System logging
              </para>
            </listitem>
            <listitem>
              <para>
                HttpFirmwareUpgrade
              </para>
            </listitem>
            <listitem>
              <para>
                TLS1.0
              </para>
            </listitem>
            <listitem>
              <para>
                TLS1.1
              </para>
            </listitem>
            <listitem>
              <para>
                TLS1.2
              </para>
            </listitem>          
          
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> Absence of Capabilities.Device or Capabilities.Device.System element in GetCapabilitiesResponse will be regarded as no support for the following functionalities:
          <itemizedlist>            
            <listitem>
              <para>
                User Configuration 
              </para>
            </listitem>
          <listitem>
              <para>
                Network Configuration 
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> Since the DUT does not support GetServices feature, the following functionalities are defined as not supported:
          <itemizedlist>
            <listitem xml:id="tc.c-MaxUsers">
              <para>
                Maximum Users
              </para>
            </listitem>
            <listitem xml:id="tc.c-MaximumUsernameLength">
              <para>
                Maximum Username Length
              </para>
            </listitem>
            <listitem xml:id="tc.c-MaximumPasswordLength">
              <para>
                Maximum Password Length
              </para>
            </listitem>
            <listitem xml:id="tc.c-DefaultAccessPolicy">
              <para>
                DefaultAccessPolicy
              </para>
            </listitem>
            <listitem xml:id="tc.c-AuxiliaryCommands">
              <para>
                Auxiliary Commands support
              </para>
            </listitem>
          </itemizedlist>
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.device_service_capabilities_in_device_management_service.table5.57">
            <title>Device Service Capabilities Configuration Functionality in Device Management Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-IPv6">
                  <entry>
                    IPv6
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Network. IPVersion6 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Network. IPVersion6 or Capabilities.Device.Network. IPVersion6 = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-ZeroConfiguration">
                  <entry>
                    Zero Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Network. ZeroConfiguration = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Network. ZeroConfiguration or Capabilities.Device.Network. ZeroConfiguration = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DynamicDNS">
                  <entry>
                    Dynamic DNS
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Network. DynDNS = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Network. DynDNS or Capabilities.Device.Network. DynDNS = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-IPFilter">
                  <entry>
                    IP Filter
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Network. IPFilter = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device. Network.IPFilter or Capabilities.Device.Network. IPFilter = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DHCPv6">
                  <entry>
                    Stateful IPv6 DHCP
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Network. DHCPv6 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device. Network.DHCPv6 or Capabilities.Device.Network. DHCPv6 = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RemoteUserHandling">
                  <entry>
                    Remote User Handling
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Security. Extension.Extension. RemoteUserHandling = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device. Security. Extension.Extension. RemoteUserHandling or Capabilities.Security. Extension.Extension. RemoteUserHandling = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-TLS10">
                  <entry>
                    TLS1.0
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.Security. Extension.TLS1.0 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Security. Extension or Capabilities.Device.Security. Extension.TLS1.0 = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-TLS11">
                  <entry>
                    TLS1.1
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device. Security.TLS1.1 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Security or Capabilities.Device.Security. TLS1.1 = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-TLS12">
                  <entry>
                    TLS1.2
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device. Security.TLS1.2 = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device.Security or Capabilities.Device.Security. TLS1.2 = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-Discovery">
                  <entry>
                    Discovery
                  </entry>
                  <entry>
                    <emphasis role="bold">Mandatory functionality</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      -
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-BYE">
                  <entry>
                    Bye Message
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.System. DiscoveryBye = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device. System.DiscoveryBye or Capabilities.Device.System. DiscoveryBye = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-SystemLogging">
                  <entry>
                    System logging
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.System. SystemLogging = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.Device. System.SystemLogging or Capabilities.Device.System. SystemLogging = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-HttpFirmwareUpgrade">
                  <entry>
                    Http Firmware Upgrade
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. Extension. HttpFirmwareUpgrade = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.System. Extension. HttpFirmwareUpgrade or Capabilities. System. Extension. HttpFirmwareUpgrade = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-HttpSystemBackup">
                  <entry>
                    Http System Backup
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. Extension.HttpSystemBackup = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.System. Extension.HttpSystemBackup or Capabilities.System.Extension. HttpSystemBackup = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-HttpSystemLogging">
                  <entry>
                    Http System Logging
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. Extension.HttpSystemLogging = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.System. Extension.HttpSystemLogging or Capabilities.System.Extension. HttpSystemLogging = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-HttpSupportInformation">
                  <entry>
                    Http Support Information
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.System. Extension. HttpSupportInformation = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Skipped Capabilities.System. Extension. HttpSupportInformation or Capabilities.System.Extension. HttpSupportInformation = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-UserConfiguration">
                  <entry>
                    User Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Mandatory functionality</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-NetworkConfiguration">
                  <entry>
                    Network Configuration
                  </entry>
                  <entry>
                    <emphasis role="bold">Mandatory functionality</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">- </emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
      </section>
      <!-- Discovery Types Support -->
      <section xml:id="tc.discovery_procedure.getcapabilities.discovery_types_support">
        <title>Discovery Types Support</title>
        <para>
          From the first version of ONVIF Core Specification document, Device Type that is required for Discovery functionality was "dn:NetworkVideoTransmitter". 
          Device Type was modified in the later version of [ONVIF Network Interface Specs] to "tds:Device". 
          Which Device Type shall be used by DUT is defined in the scope of [ONVIF Profile S], [ONVIF Profile G] and [ONVIF Profile C].The following procedure discovers which Types are supported by DUT.
        </para>        
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes Unicast Probe request (empty Types, empty Scopes) to get ProbeMatches response.
              </para>
            </listitem>
            <listitem>
              <para>
                <!--link with table name as hot text:-->
                <!--ONVIF Client receives ProbeMatch and checks features support as defined in <link endterm="tc.discovery_procedure.getcapabilities.table.5.2.title" linkend="tc.discovery_procedure.getcapabilities.feature_support_criteria.table.5.2"></link>.-->
                <!--xref generates hot text:-->
                ONVIF Client receives ProbeMatch and checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.feature_support_criteria.table.5.2"
                    xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If DUT does not return ProbeMatch or ProbeMatch &lt;d:Types&gt; does not contain neither "dn:NetworkVideoTransmitter" nor "tds:Device", the following features will be marked as undefined:
          <itemizedlist>
            <listitem>
              <para>
                WS-Discovery\Types\tds:Device
              </para>
            </listitem>
            <listitem>
              <para>
                WS-Discovery\Types\dn:NetworkVideoTransmitter
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.feature_support_criteria.table.5.2">
            <title xml:id="tc.discovery_procedure.getcapabilities.table.5.2.title">Discovery Types</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    &lt;d:Types&gt; in ProbeMatch response
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-DiscoveryTypesTdsDevice">
                  <entry>
                    tds:Device
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains "tds:Device"</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not contain "tds:Device"</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DiscoveryTypesDnNetworkVideoTransmitter">
                  <entry>
                    dn:NetworkVideoTransmitter
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains "dn:NetworkVideoTransmitter</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not contain "dn:NetworkVideoTransmitter"</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
      </section>
      <!--HTTPS support-->
      <section xml:id="tc.discovery_procedure.getcapabilities_https"
               xreflabel="Section 5.6.2">
        <title>HTTPS Support</title>
        <para>
          The following is the procedure to determine the function support.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis> ONVIF Client and DUT
          <itemizedlist>
            <listitem>
              <para>
                If DUT supports HTTPS, then HTTPS is configured on the DUT.
              </para>
            </listitem>
          </itemizedlist>
        </para>

        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <itemizedlist>

            <listitem>
              <para>
                ONVIF Client invokes GetNetworkProtocols request message to retrieve network protocols supported by DUT.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetNetworkProtocolsResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities_https.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return GetNetworkProtocolsResponse, ONVIF Client assumes that RTP/RTSP/HTTPS function support is marked as undefined.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities_https.table">
            <title>HTTPS Support (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetNetworkProtocolsResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-HTTPS">
                  <entry>HTTPS</entry>
                  <entry>
                    <emphasis role="bold">
                      Includes NetworkProtocols element with Name = HTTPS and with Enabled=true
                      or DUT supports TLS Server feature

                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include NetworkProtocols element with Name = HTTPS
                      or
                      includes NetworkProtocols element with Name = HTTPS and with Enabled=false
                    </emphasis>
                  </entry>
                </row>


              </tbody>
            </tgroup>
          </table>
        </para>
      </section>
      <!--Security (HTTP digest authentication) support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.security_support">
        <title>Security (HTTP Digest Authentication) Support</title>
        <para xml:id="tc.c-WSU">
          In the first version of [ONVIF Core], WS-UsernameToken support was the only method defined as a mandatory feature for user authentication. This has been changed in the later version of [ONVIF Core] where it also defines the HTTP digest authentication support as a mandatory feature.
        </para>
        <para>
          The following discovery procedure will be performed for ONVIF Client to determine which user authentication function will be used in conformance testing.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes request message for command with security support without any user authentication (no WS-Security and no HTTP digest authentication) to check HTTP digest authentication support.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.security_support.table5.58"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> The command which is being used for this discovery procedure should be provided before performing the steps.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If HTTP digest authentication is assumed as supported, the HTTP digest authentication scheme will be used in the following feature discovery procedure whenever necessary as well as in conformance testing.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.security_support.table5.58">
            <title>HTTP Digest Authentication (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    Command with security support response message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-Digest">
                  <entry>
                    HTTP digest
                  </entry>
                  <entry>
                    <emphasis role="bold">HTTP 401 Unauthorized error</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Not HTTP 401 Unauthorized error</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--NTP support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.ntp">
        <title>NTP Support</title>
        <para>
          Whether the DUT supports NTP functionality is determined by the following discovery procedure.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetNTPRequest.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.ntp.table5.59"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> In any other case than the above, NTP function support will be marked as undefined.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.ntp.table5.59">
            <title>NTP Functionality (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetNTPResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-NTP">
                  <entry>
                    NTP
                  </entry>
                  <entry>
                    <emphasis role="bold">DUT returns GetNTP Response</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">DUT returns any SOAP fault</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--I/O functionality in Device Management Service-->
      <section xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service">
        <title>I/O Functionality in Device Management Service</title>
        <para>
          I/O related functionality support can be retrieved by checking correspondent element of GetCapabilitiesResponse. The following is the procedure to determine the function support.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client invokes GetCapabilitiesRequest to check I/O functionality support.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives GetCapabilitiesResponse and checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.table5.60"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes GetRelayOutputsRequest message to retrieve a relay output list.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT returns GetRelayOutputsResponse with a list of relay outputs.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Bistable", Properties.DelayTime = "PT30S", Properties.IdleState = "open").
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.6">
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Bistable", Properties.DelayTime = "PT30S", Properties.IdleState = "closed").
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.8">
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.9">
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Monostable", Properties.DelayTime = "PT30S", Properties.IdleState = "open").
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.11">
              <para>
                ONVIF Client invokes SetRelayOutputSettingsRequest message (RelayOutputToken = "[first token from GetRelayOutputsResponse]", Properties.Mode = "Monostable", Properties.DelayTime = "PT30S", Properties.IdleState = "closed").
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client receives SetRelayOutputSettingsResponse.
              </para>
            </listitem>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.table5.61"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> Absence of Capabilities.Device.IO element in the GetCapabilitiesResponse will be defined as absence of Capabilities.Device.IO.RelayOutputs.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Capabilities.Device element is not included in the GetCapabilitiesResponse, Relay Outputs feature will be marked as unsupported.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If DUT does not return GetRelayOutputsResponse or a list of relay outputs in the GetRelayOutputsResponse is empty, Relay Outputs features will be marked as undefined.
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If GetCapabilities command is not supported by the DUT, I/O feature for Device Management Service will be defined as unsupported.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.table5.60">
            <title>Relay Outputs in Device Management Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-DeviceIORelayOutputs">
                  <entry>
                    RelayOutputs
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Device.IO. RelayOutputs > 0</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Skipped Capabilities.Device.IO. RelayOutputs or Capabilities. Device.IO.RelayOutputs = 0</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.io_in_device_management_service.table5.61">
            <title>Relay Outputs Mode and Idle State in Device Management Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    SetRelayOutputSettingsResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-DeviceIORelayOutputsBistableOpen">
                  <entry>
                    Bistable Mode/Open Idle State
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.6"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.6"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceIORelayOutputsBistableClosed">
                  <entry>
                    Bistable Mode/Closed Idle State
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.8"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.8"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceIORelayOutputsBistable">
                  <entry>
                    Bistable Mode
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.6"/> or <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.8"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.6"/> and <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.8"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceIORelayOutputsMonostableOpen">
                  <entry>
                    Monostable Mode/Open Idle State
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.9"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.9"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceIORelayOutputsMonostableClosed">
                  <entry>
                    Monostable Mode/Closed Idle State
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.11"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.11"/>.
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceIORelayOutputsMonostable">
                  <entry>
                    Monostable Mode
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns SetRelayOutputSettings Response for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.9"/> or <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.11"/>.
                    </emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.9"/> and <xref linkend="tc.discovery_procedure.getcapabilities.io_in_device_management_service.11"/>.
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Monitoring Events support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.monitoring_events">
        <title>Monitoring Events Support</title>
        <para>
          Monitoring Events support under Device Control Service is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.monitoring_events.table5.62"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not return Event Service or GetEventPropertiesResponse message, then the following features will be marked as undefined:
          <itemizedlist>
            <listitem>
              <para>
                Monitoring/ProcessorUsage
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastReset
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastReboot
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/OperatingTime/LastClockSynchronization
              </para>
            </listitem>
            <listitem>
              <para>
                Monitoring/Backup/Last
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/TemperatureCritical
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/FanFailure
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/PowerSupplyFailure
              </para>
            </listitem>
            <listitem>
              <para>
                Device/HardwareFailure/StorageFailure
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.monitoring_events.table5.62">
            <title>Monitoring Events Support (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetEventPropertiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-MonitoringProcessorUsageEvent">
                  <entry>
                    Monitoring/ProcessorUsage
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ ProcessorUsage Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ ProcessorUsage Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-MonitoringOperatingTimeLastResetEvent">
                  <entry>
                    Monitoring/OperatingTime/LastReset
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastReset Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastReset Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-MonitoringOperatingTimeLastRebootEvent">
                  <entry>
                    Monitoring/OperatingTime/LastReboot
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastReboot Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastReboot Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-MonitoringOperatingTimeLastClockSynchronizationEvent">
                  <entry>
                    Monitoring/OperatingTime/LastClockSynchronization
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Monitoring/ OperatingTime/LastClockSynchronization Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Monitoring/ OperatingTime/LastClockSynchronization Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-MonitoringBackupLastEvent">
                  <entry>
                    Monitoring/Backup/Last
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns:Monitoring/Backup/Last Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns:Monitoring/Backup/Last Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceHardwareFailureTemperatureCriticalEvent">
                  <entry>
                    Device/HardwareFailure/TemperatureCritical
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/TemperatureCritical Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/TemperatureCritical Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceHardwareFailureFanFailureEvent">
                  <entry>
                    Device/HardwareFailure/FanFailure
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/FanFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/FanFailure Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceHardwareFailurePowerSupplyFailureEvent">
                  <entry>
                    Device/HardwareFailure/PowerSupplyFailure
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/PowerSupplyFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/PowerSupplyFailure Event topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DeviceHardwareFailureStorageFailureEvent">
                  <entry>
                    Device/HardwareFailure/StorageFailure
                  </entry>
                  <entry>
                    <emphasis role="bold">Contains tns1:Device/HardwareFailure/StorageFailure Event topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not contain tns1:Device/HardwareFailure/StorageFailure Event topic
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
      </section>
      <!--Media Service – General-->
      <section xml:id="tc.discovery_procedure.getcapabilities.media_service"
               xreflabel="Section 5.6.6">
        <title>Media Service – General</title>
        <para>
          Media Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.63"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Media service is not supported, the following feature discovery (Media Service features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.63">
            <title>Media Service – General (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3"
                         align="center">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-MediaService">
                  <entry>
                    Media Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Media element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.Media element</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.media_service.video_encoding">
          <title>Media Service – Video Encoding Support</title>
          <para>
            Video encoding function support in Media Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetVideoEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetVideoEncoderConfigurationOptionsResponse with a list of supported codecs. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.64"
                        xrefstyle="template:Table %n"/>.

                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetVideoEncoderConfigurationOptionsResponse, MPEG4 and H.264 feature will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.64">
              <title>Media Service – Video Encoding Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetVideoEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-JPEG">
                    <entry>
                      JPEG
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-MPEG4">
                    <entry>
                      MPEG-4
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.MPEG4</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.MPEG4
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-H264">
                    <entry>
                      H.264
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.H264</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.H264
                      </emphasis>
                    </entry>
                  </row>


                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.media_service.audio_encoding">
          <title>Media Service – Audio Encoding Support</title>
          <para>
            Audio encoding function support in Media Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:	</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioEncoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported audio codecs.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioEncoderConfigurationOptionsResponse with a list of supported codecs or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.65"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetAudioEncoderConfigurationOptionsRequest, Audio encoding feature will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.65">
              <title>Media Service – Audio Encoding Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioEncoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-Audio">
                    <entry>Audio encoding</entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioEncoderConfiguration OptionsResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-G711">
                    <entry>G.711</entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioEncoderConfiguration OptionsResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-G726">
                    <entry>G.726</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Options.Encoding = "G726"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Options.Encoding = "G726"
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-AAC">
                    <entry>AAC</entry>
                    <entry>
                      <emphasis role="bold">Includes Options.Options.Encoding = "AAC"</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.Options.Encoding = "AAC"
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>

        <section xml:id="tc.discovery_procedure.getcapabilities.media_service.RTS">
          <title>Media Service – Real-Time Streaming</title>
          <para xml:id="tc.c-RTSS">
            Since the DUT does not support GetServices feature Real-time streaming feature will be defined as supported.
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.media_service.RTS_Setup">
          <title>Media Service – Supported Real-Time Streaming Setup</title>
          <para>
            Which Real-time streaming Setup features is supported under Real-time Streaming is determined according to the following procedure.
          </para>

          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetCapabilitiesRequest message to check Multicast streaming capability support by the DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetCapabilitiesResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.66"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If DUT does not return GetCapabilitiesResponse then RTP Multicast streaming (UDP) and RTP/RTSP/TCP Setup features will be marked as undefined.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.66">
              <title>Media Service – Supported Real-time Streaming Setup (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-RTPUDP">
                    <entry>
                      RTP/UDP
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-RTPRTSPHTTP">
                    <entry>
                      RTP/RTSP/HTTP
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory functionality</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-RTPRTSPTCP">
                    <entry>
                      RTP/RTSP/TCP
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. Media.StreamingCapabilities. RTP_RTSP_TCP = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. Media.StreamingCapabilities. RTP_RTSP_TCP or Capabilities. StreamingCapabilities. RTP_RTSP_TCP = false
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-RTPMulticastUDP">
                    <entry>
                      RTP-Multicast/UDP
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. Media.StreamingCapabilities. RTPMulticast = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Skipped Capabilities. Media.StreamingCapabilities. RTPMulticast or Capabilities. Media.StreamingCapabilities. RTPMulticast = false
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media Service - GetSnapshotUri</title>
          <para>
            GetSnapshotUri function support is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetProfilesRequest message to retrieve existing Media Profiles list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetProfilesResponse with the list of existing Media Profiles.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client looks for ready-to-use profile (a profile with VideoSourceConfiguration and VideoEncoderConfiguration in the GetProfilesResponse. If there are no ready-to-use profiles found in the GetProfilesResponse, ONVIF Client marks GetSnapshotUri support by DUT as undefined.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetSnapshotUriRequest (ProfileToken = found ready-to-use profile token) message to get Snapshot URI.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetSnapshotUriResponse or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.67"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If no GetProfilesResonse is returned by the DUT, GetSnapshotUri function support by the DUT is marked as undefined.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If no GetSnapshotUriResponse is returned by the DUT, GetSnapshotUri function support by the DUT is marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.67">
              <title>Media Service – GetSnapshotUri (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetSnapshotUriResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-SnapshotUri">
                    <entry>
                      GetSnapshotUri
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetSnapshotUriResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns any SOAP fault</emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section>
          <title>Media Service – Audio Outputs Support</title>
          <para>
            Audio outputs support in conjunction with its Audio decoding function is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioOutputsRequest message to retrieve Audio outputs list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioOutputsResponse or SOAP fault. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.68"
                        xrefstyle="template:Table %n"/>. Go to the next feature definition.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetAudioDecoderConfigurationOptionsRequest (no ConfigurationToken, no ProfileToken) message to retrieve all supported Audio codec’s for decoding by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetAudioDecoderConfigurationOptionsResponse. ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service.table5.69"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetAudioDecoderConfigurationOptionsResponse, ONVIF Client assumes that G.711, G.726 and AAC Audio decoding function support is marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.68">
              <title>Media Service – Audio Outputs Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioOutputsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-AudioOutput">
                    <entry>
                      Audio output
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns GetAudioOutputsResponse and there are at least one AudioOutput on the list</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault or GetAudioOutputsResponse and there are no AudioOutput on the list
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.media_service.table5.69">
              <title>Media Service – Audio Outputs Decoding Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetAudioDecoderConfigurationOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-AudioOutputG711">
                    <entry>
                      G.711
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.G711DecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.G711DecOptions
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-AudioOutputG726">
                    <entry>
                      G.726
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.G726DecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.G726DecOptions
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-AudioOutputAAC">
                    <entry>
                      AAC
                    </entry>
                    <entry>
                      <emphasis role="bold">Includes Options.AACDecOptions</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not include Options.AACDecOptions
                      </emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>

      </section>
      <!--Media2 Service support-->
      <section xml:id="tc.c-Media2Service">
        <title>Media2 Service Support</title>
        <para xml:id="tc.c-Media2">
          Since the DUT does not support GetServices feature Media2 Service feature will be defined as not supported.
        </para>
      </section>
      <!--Event Service-->
      <!--<section xml:id="tc.discovery_procedure.getcapabilities.event_service"
               xreflabel="Section 5.6.8">
        <title>Event Service - general</title>
        <para xml:id="tc.c-EventsService">
          Event Service shall be defined as supported as it is a mandatory feature to be supported by the DUT. The following procedure will be used as pre-requisite for other features support check.
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>

            <listitem>
              <para>
                ONVIF Client invokes <emphasis role="bold">GetEventProperties</emphasis> message.
              </para>
            </listitem>
            <listitem>
              <para>
                The DUT responds with a <emphasis role="bold">GetEventPropertiesResponse</emphasis> message with parameters
                <itemizedlist>
                  <listitem>
                    <para>
                      TopicNamespaceLocation list
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      FixedTopicSet
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      TopicSet =: <emphasis role="italic">topicSet</emphasis>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      TopicExpressionDialect list
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      MessageContentFilterDialect list := <emphasis role="italic">msgContentFilterDialectList</emphasis>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      MessageContentSchemaLocation list
                    </para>
                  </listitem>
                </itemizedlist>
              </para>
            </listitem>
          </orderedlist>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service_features"
                 xreflabel="Section 5.6.8.1">
          <title>Event service features</title>
          <para>
            Since the DUT does not support GetServices feature, Event Service sub-features will be defined as described below:
            <itemizedlist>
              <listitem xml:id="tc.c-PersistentNotificationStorage">
                <para>
                  Persistent Notification Storage under Event Service is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-WSBasicNotification">
                <para>
                  WS Basic Notification under Event Service is supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-MaxPullPoints">
                <para>
                  GetServiceCapabilities\MaxPullPoints capability is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-EventBroker">
                <para>
                  Event Broker is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-mqttEventBrokerProtocol">
                <para>
                  Protocols / mqtt is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-mqttsEventBrokerProtocol">
                <para>
                  Protocols / mqtts is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-wsEventBrokerProtocol">
                <para>
                  Protocols / ws is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-wssEventBrokerProtocol">
                <para>
                  Protocols / wss is not supported by the DUT.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter"
                 xreflabel="Section 5.6.8.2">
          <title>Event Service - Message Content Filter support</title>
          <para>
            Message Content Filter function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  ONVIF Client checks Message Content Filter feature support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetEventPropertiesResponse, ONVIF Client assumes Message Content Filter feature as undefined.

          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21">
              <title>Message Content Filter Feature (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.с-MessageContentFilter">
                    <entry>
                      Message Content Filter
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains at least one item with non empty value
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain at least one item with non empty value
                      </emphasis>
                    </entry>
                  </row>



                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect"
                 xreflabel="Section 5.6.8.3">
          <title>Event Service - ONVIF Message Content Filter Dialect Support</title>
          <para>
            ONVIF Message Content Filter Dialect function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  DUT supports Message Content Filter feature according to <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter" />.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  ONVIF Client checks ONVIF Message Content Filter Dialect feature support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>

            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return GetEventPropertiesResponse, ONVIF Client assumes ONVIF Message Content Filter Dialect feature as undefined.

          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect.table5.21">
              <title>ONVIF Message Content Filter Dialect (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.с-MessageContentFilterDialect">
                    <entry>
                      ONVIF Message Content Filter Dialect
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                  </row>



                </tbody>
              </tgroup>
            </table>
          </para>
        </section>

      </section>-->
      <section xml:id="tc.discovery_procedure.getcapabilities.event_service"
               xreflabel="Section 5.6.9">
        <title>Event Service</title>
        <!--<para xml:id="tc.c-EventsService">
          Event Service shall be defined as supported as it is a mandatory feature to be supported by the DUT. The following procedure will be used as pre-requisite for other features support check.
        </para>-->
        <para>
          Event Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.table5.22"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>       
        <para>
          <emphasis role="bold">Note:</emphasis> If Event service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.event_service.get_event_properties"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.event_service_features"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.event_service.table5.22">
            <title>Event Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-EventService">
                  <entry>
                    Event Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Events element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.Events element</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.get_event_properties"
                xreflabel="Section 5.6.9.1">
          <title>Get Event Properties</title>
          <para>
            The following discovery procedure will be performed for ONVIF Client to receive topic set and message content filter dialect list from the DUT.
            Received topic set will be used in event topics discovery procedures for different services. Received message content filter dialect list will be used in 
            <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter"/> 
            and in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect"/>.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise this procedure will be skipped.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetEventProperties</emphasis> message.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with a <emphasis role="bold">GetEventPropertiesResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        TopicNamespaceLocation list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        FixedTopicSet
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        TopicSet =: <emphasis role="italic">topicSet</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        TopicExpressionDialect list
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MessageContentFilterDialect list := <emphasis role="italic">msgContentFilterDialectList</emphasis>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MessageContentSchemaLocation list
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
        </section>
          <section xml:id="tc.discovery_procedure.getcapabilities.event_service_features"
                 xreflabel="Section 5.6.9.2">
          <title>Event service features</title>
            <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise this procedure will be skipped.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            Since the DUT does not support GetServices feature, Event Service sub-features will be defined as described below:
            <itemizedlist>
              <listitem xml:id="tc.c-PersistentNotificationStorage">
                <para>
                  Persistent Notification Storage under Event Service is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-WSBasicNotification">
                <para>
                  WS Basic Notification under Event Service is supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-MaxPullPoints">
                <para>
                  GetServiceCapabilities\MaxPullPoints capability is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-EventBroker">
                <para>
                  Event Broker is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-mqttEventBrokerProtocol">
                <para>
                  Protocols / mqtt is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-mqttsEventBrokerProtocol">
                <para>
                  Protocols / mqtts is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-wsEventBrokerProtocol">
                <para>
                  Protocols / ws is not supported by the DUT.
                </para>
              </listitem>
              <listitem xml:id="tc.c-wssEventBrokerProtocol">
                <para>
                  Protocols / wss is not supported by the DUT.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter"
                 xreflabel="Section 5.6.9.3">
          <title>Event Service - Message Content Filter Support</title>
          <para>
            Message Content Filter function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.get_event_properties"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>          
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>

              <listitem>
                <para>
                  ONVIF Client checks Message Content Filter feature support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>

            </orderedlist>
          </para> 
          <para>
            <emphasis role="bold">Note:</emphasis> If Message Content Filter feature is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect"/>.
                </para>
              </listitem>              
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21">
              <title>Message Content Filter Feature (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-MessageContentFilter">
                    <entry>
                      Message Content Filter
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains at least one item with non empty value
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain at least one item with non empty value
                      </emphasis>
                    </entry>
                  </row>



                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect"
                 xreflabel="Section 5.6.9.4">
          <title>Event Service - ONVIF Message Content Filter Dialect Support</title>
          <para>
            ONVIF Message Content Filter Dialect function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.get_event_properties"/>, otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that DUT supports Message Content Filter feature according to <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter" />, 
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks ONVIF Message Content Filter Dialect feature support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>          
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.event_service.message_content_filter_onvif_dialect.table5.21">
              <title>ONVIF Message Content Filter Dialect (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetEventPropertiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-MessageContentFilterDialect">
                    <entry>
                      ONVIF Message Content Filter Dialect
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> contains item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        <emphasis role="italic">msgContentFilterDialectList</emphasis> does not contain item with value is equal to "http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter"
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.event_service.pull_point_notification"
                 xreflabel="Section 5.6.9.5">
          <title>Event Service - Pull-Point Notification Support</title>
          <para>
            Pull-Point Notification function support in Event Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Event Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.pull_point_notification.table5.21"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>                       
          </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks Pull-Point Notification feature support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.event_service.pull_point_notification.table5.21"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>          
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.event_service.pull_point_notification.table5.21">
              <title>Pull-Point Notification (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      -
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-PullPointNotification">
                    <entry>
                      Pull-Point Notification
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Mandatory
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                      -
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Device IO Service-->
      <section xml:id="tc.discovery_procedure.getcapabilities.device_io_service"
               xreflabel="Section 5.6.10">
        <title>Device IO Service</title>
        <para>
          Device IO Service feature support is determined according to the following procedure.
        </para>
        <para>
          Since the DUT does not support GetServices feature, the following Device IO Service sub-features will be defined as described below:
          <itemizedlist>
            <listitem xml:id="tc.c-DigitalInputs">
              <para>
                Digital Inputs under Device IO Service is NOT SUPPORTED by the DUT.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Device IO service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relay"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.table">
            <title>Device IO Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>
                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-DeviceIoService">
                  <entry>
                    Device IO Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Extension.DeviceIO element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Extension.DeviceIO element</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relay"
                 xreflabel="Section 5.6.10.1">
          <title>Relay Outputs Support</title>
          <para>
            Relay outputs support under Device IO Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relay.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relay.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not support Relay Outputs feature, all features from <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"/> will be marked as unsupported. Procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"/> will be skipped.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relay.table">
              <title>Relay Outputs Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetCapabilitiesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-RelayOutputs">
                    <entry>
                      Relay Outputs
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. Extension. DeviceIO. RelayOutputs > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Capabilities. Extension. DeviceIO. RelayOutputs = 0</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"
                 xreflabel="Section 5.6.10.2">
          <title>Device IO Relay Output Options Support</title>
          <para>
            Device IO Relay Output Options support in Device IO Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Outputs is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relay"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetRelayOutputOptions</emphasis> request with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RelayOutputToken skipped
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.2">
                <para>
                  The DUT responds with <emphasis role="bold">GetRelayOutputOptionsResponse</emphasis> message or SOAP 1.2 fault.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetRelayOutputOptions request,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED, the following feature discovery procedures will be skipped and related features will be marked as UNDEFUNED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs"/>
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If Relay Outputs Options feature is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs"/>
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.table">
              <title>Device IO Service – Relay Output Options Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-RelayOutputOptions">
                    <entry>
                      Relay Output Options
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns GetRelayOutputOptions Response for step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.2"/>.
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns any SOAP fault for step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions.2"/>.
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs"
                 xreflabel="Section 5.6.10.3">
          <title>Device IO Relay Outputs Features Support</title>
          <para>
            Device IO Relay Output features support is defined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Outputs is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relay"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Relay Output Options is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetRelayOutputOptionsResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputsoptions"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                        xrefstyle="template:Table %n"/>,
                  <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                        xrefstyle="template:Table %n"/>,
                  and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">GetRelayOutputs</emphasis> request to retrieve a list of all available relay outputs and their settings.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT sends the <emphasis role="bold">GetRelayOutputsResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        RelayOutputs list =: <emphasis role="italic">relayOutputsList</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Relay Output (<emphasis role="italic">relayOutput</emphasis>) from <emphasis role="italic">relayOutputsList</emphasis> do the following:
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="2.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                              xrefstyle="template:Table %n"/>.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Relay Output supports Monostable Mode:
                        <orderedlist numeration="arabic"
                                     inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Monostable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := RelayOutputOptions[0].DelayTimes[0]  from GetRelayOutputOptionsResponse, where RelayOutputOptions[0] is RelayOutputOptions with token = <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := closed
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_closed"
                                    xreflabel="3.2.2">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Monostable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := RelayOutputOptions[0].DelayTimes[0]  from GetRelayOutputOptionsResponse, where RelayOutputOptions[0] is RelayOutputOptions with token = <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := open
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_open"
                                    xreflabel="3.2.4">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If for both steps and SOAP 1.2 fault was returned features listed in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/> will be marked as UNDEFINED for this Relay Output, otherwise ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                                    xrefstyle="template:Table %n"/>.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If Relay Output supports Bistable Mode:
                        <orderedlist numeration="arabic"
                                     inheritnum="inherit">
                          <?dbfo label-width="3.5em"?>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Bistable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := <emphasis role="italic">relayOutput</emphasis>.Properties.DelayTime
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := closed
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_closed"
                                    xreflabel="3.3.2">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              ONVIF Client invokes <emphasis role="bold">SetRelayOutputSettings</emphasis> request with parameters
                              <itemizedlist>
                                <listitem>
                                  <para>
                                    RelayOutput.@token := <emphasis role="italic">relayOutput</emphasis>.@token
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.Mode := Bistable
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.DelayTime := <emphasis role="italic">relayOutput</emphasis>.Properties.DelayTime
                                  </para>
                                </listitem>
                                <listitem>
                                  <para>
                                    RelayOutput.Properties.IdleState := open
                                  </para>
                                </listitem>
                              </itemizedlist>
                            </para>
                          </listitem>
                          <listitem xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_open"
                                    xreflabel="3.3.4">
                            <para>
                              The DUT responds with <emphasis role="bold">SetRelayOutputSettingsResponse</emphasis> message or SOAP 1.2 fault.
                            </para>
                          </listitem>
                          <listitem>
                            <para>
                              If for both steps and SOAP 1.2 fault was returned features listed in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/> will be marked as UNDEFINED for this Relay Output, otherwise ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
                                    xrefstyle="template:Table %n"/>.
                            </para>
                          </listitem>
                        </orderedlist>
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no RelayOutputOptions in GetRelayOutputOptionsResponse message,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1"
                  xrefstyle="template:Table %n"/>,
            <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/>,
            and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no DelayTimes element in RelayOutputOptions with supporting of Monostable mode in GetRelayOutputOptionsResponse message,
            then all features defined in <xref linkend="tc.discovery_procedure.getservices_getservicecapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for SetRelayOutputSettings request,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2"
                  xrefstyle="template:Table %n"/> and <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table1">
              <title>Relay Outputs Features - Modes (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-MonostableMode">
                    <entry>
                      Monostable Mode
                    </entry>
                    <entry>
                      <emphasis role="bold">RelayOutputOptions.Mode contains Monostable</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        RelayOutputOptions.Mode does not contain Monostable
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-BistableMode">
                    <entry>
                      Bistable Mode
                    </entry>
                    <entry>
                      <emphasis role="bold">RelayOutputOptions.Mode contains Bistable</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        RelayOutputOptions.Mode does not contain Bistable
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table2">
              <title>Relay Outputs Features - Idle States - Monostable (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-ClosedIdleStateMonostable">
                    <entry>
                      Monostable Mode\Closed Idle Sate
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_closed"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_closed"/>
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-OpenIdleStateMonostable">
                    <entry>
                      Monostable Mode\Open Idle Sate
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_open"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Monostable_open"/>
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.table3">
              <title>Relay Outputs Features - Idle States - Bistable (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current Relay Output from GetRelayOutputOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each Relay Output)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-ClosedIdleStateBistable">
                    <entry>
                      Bistable Mode\Closed Idle Sate
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_closed"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_closed"/>
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-OpenIdleStateBistable">
                    <entry>
                      Bistable Mode\Open Idle Sate
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SetRelayOutputSettings Response at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_open"/>
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        DUT returns SOAP fault at step <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service.relayoutputs.Bistable_open"/>
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--PTZ Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.ptz_service"
               xreflabel="Section 5.6.10">
        <title>PTZ Service Support</title>
        <para>
          PTZ Service support is defined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.table5.72"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If the DUT does not support PTZ Service, all features from <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.features"/>,
          <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.ptz_nodes_features"/>, and <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/> will be marked as unsupported.
          Procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.features"/>, <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.ptz_nodes_features"/>,
          and <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/> will be skipped.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.ptz_service.table5.72">
            <title>PTZ Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-PTZService">
                  <entry>
                    PTZ Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.PTZ element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.PTZ element</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.ptz_service.features"
                 xreflabel="Section 5.6.10.1">
          <title>PTZ Service Features Support</title>
          <para>
            Since the DUT does not support GetServices feature the following PTZ features will be defined as not supported:
            <itemizedlist>
              <listitem xml:id="tc.c-PTZGetCompatibleConfigurations">
                <para>
                  Get Compatible Configurations
                </para>
              </listitem>
              <listitem xml:id="tc.c-PTZMoveStatus">
                <para>
                  Move Status
                </para>
              </listitem>
              <listitem xml:id="tc.c-PTZStatusPosition">
                <para>
                  Status Position
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.ptz_service.ptz_nodes_features"
                 xreflabel="Section 5.6.10.2">
          <title>PTZ Nodes Features Support</title>
          <para>
            PTZ Nodes features support is defined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes GetNodes request to retrieve PTZ Nodes capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetNodesResponse message with PTZ Nodes capabilities.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_nodes_features.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  For each PTZ Node with Home Position support ONVIF Client checks features support as defined
                  in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/>.
                  For all others PTZ Nodes procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/> will be skipped and all
                  features defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/> will be marked as unsupported.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT returns no response for GetNodes request or the DUT returns GetNodesResponse message with empty PTZNode list,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_nodes_features.table"
                  xrefstyle="template:Table %n"/> and <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position"/> will be marked as undefined.
          </para>

          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.ptz_nodes_features.table">
              <title>PTZ Nodes Features (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      Current PTZNode from GetNodesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-PTZContinuousPanTilt">
                    <entry>
                      Continuous Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ContinuousPanTiltVelocity Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ContinuousPanTiltVelocity Space element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZContinuousZoom">
                    <entry>
                      Continuous Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ContinuousZoomVelocity Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ContinuousZoomVelocity Space element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZContinious">
                    <entry>
                      Continuous movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Mandatory</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        -
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZAbsolutePanTilt">
                    <entry>
                      Absolute Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. AbsolutePanTiltPositionSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. AbsolutePanTiltPositionSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZAbsoluteZoom">
                    <entry>
                      Absolute Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. AbsoluteZoomPositionSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. AbsoluteZoomPositionSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZAbsolute">
                    <entry>
                      Absolute movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Absolute Pan/Tilt movement or Absolute Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Absolute Pan/Tilt movement and Absolute Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZRelativePanTilt">
                    <entry>
                      Relative Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. RelativePanTiltTranlation Space element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. RelativePanTiltTranlationSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZRelativeZoom">
                    <entry>
                      Relative Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. RelativeZoomTranlationSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. RelativeZoomTranlationSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZRelative">
                    <entry>
                      Relative movement
                    </entry>
                    <entry>
                      <emphasis role="bold">Relative Pan/Tilt movement or Relative Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Relative Pan/Tilt movement and Relative Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZSpeed">
                    <entry>
                      Speed configuration
                    </entry>
                    <entry>
                      <emphasis role="bold">Speed configuration function for Pan/Tilt movement or Speed configuration function for Zoom movement is supported</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        >Speed configuration function for Pan/Tilt movement and Speed configuration function for Zoom movement is not supported
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZSpeedPanTilt">
                    <entry>
                      Speed configuration function for Pan/Tilt movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. PanTiltSpeedSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. PanTiltSpeedSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZSpeedZoom">
                    <entry>
                      Speed configuration function for Zoom movement
                    </entry>
                    <entry>
                      <emphasis role="bold">SupportedPTZSpaces. ZoomSpeedSpace element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        SupportedPTZSpaces. ZoomSpeedSpace element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZPresets">
                    <entry>
                      Preset position
                    </entry>
                    <entry>
                      <emphasis role="bold">MaximumNumberOfPresets > 0</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        MaximumNumberOfPresets = 0
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZAuxiliary">
                    <entry>
                      Auxiliary operation
                    </entry>
                    <entry>
                      <emphasis role="bold">AuxiliaryCommands element is present</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        AuxiliaryCommands element is not present
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZHome">
                    <entry>
                      Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">HomeSupported = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        HomeSupported = false
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.ptz_service.home_position"
                 xreflabel="Section 5.6.10.3">
          <title>Fixed/Configurable Home Position Support for PTZ Node</title>
          <para>
            In case the PTZ Node supports Home Position function, the PTZ Node shall support either Fixed or Configurable Home Position. The following defines the discovery procedure to determine which Home Position function is supported by the PTZ Node.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that PTZ Node was recieved in GetNodesResponse message via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.ptz_nodes_features"/>.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  If FixedHomePosition attribute is defined in GetNodesResponse message for this PTZ Node, ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position.table1"
                        xrefstyle="template:Table %n"/> and skips other steps of this procedure.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client invokes GetConfigurations request to retrieve a PTZ Configurations list.
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT returns GetConfigurationsResponse message with the list of PTZConfiguration that contains PTZNode. ONVIF Client identifies first PTZConfiguration which has the corresponding current PTZ Node.
                </para>
              </listitem>
              <listitem>
                <para>
                  If DUT supports Media Service according to <xref linkend="tc.discovery_procedure.getcapabilities.media_service"/>, ONVIF Client either selects or creates Media Profile anew along with the identified PTZConfiguration (refer to <xref linkend="Annex_HelperSelectionCreationOfMediaProfileThatContainsPTZConfiguration"/> for the details) and goes to the step <xref linkend="tc.c-PTZNodeHomePosition.7"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  Otherwise Configurable Home Position and Fixed Home Position features will be marked as undefined.
                </para>
              </listitem>
              <listitem xml:id="tc.c-PTZNodeHomePosition.7">
                <para>
                  ONVIF Client invokes SetHomePosition request (ProfileToken = selected or newly created profile token) message to check Configurable Home Position is supported by DUT.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.ptz_service.home_position.table2"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client restores Media Profiles setting in case it changes some of the Media Profiles configuration.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.ptz_service.home_position.table1">
              <title>Fixed/Configurable Home Position Support with FixedHomePosition Attribute (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      Current PTZNode from GetNodesResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node with Home Position support)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-PTZConfigurableHome">
                    <entry>
                      Configurable Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = false</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = true</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZFixedHome">
                    <entry>
                      Fixed Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = true</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">FixedHomePosition = false</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.ptz_service.home_position.table2">
              <title>Fixed/Configurable Home Position Support without FixedHomePosition Attribute (GetServices)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      SetHomePositionResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature (for each PTZ Node with Home Position support)</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-PTZConfigurableHome2">
                    <entry>
                      Configurable Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SetHomePositionResponse </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP fault</emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-PTZFixedHome2">
                    <entry>
                      Fixed Home Position
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP fault</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SetHomePositionResponse</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>

      </section>
      <!--Imaging Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.imaging_service"
               xreflabel="Seection 5.6.12">
        <title>Imaging Service Support</title>
        <para>
          Imaging Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Imaging service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration"/>.
              </para>
            </listitem>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.imaging_service.table">
            <title>Imaging Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-ImagingService">
                  <entry>
                    Imaging Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Imaging element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Imaging element
                    </emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration"
                 xreflabel="Section 5.6.12.1">
          <title>IrCutfilterConfiguration Feature Support</title>
          <para>
            IrCutfilterConfiguration function support in Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Imaging Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service"/> or
                  Media Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Video Sources by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceTokensList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoSorceTokenList</emphasis> - a list of Video Source tokens
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Video Source token <emphasis role="italic">videoSorceToken</emphasis> in <emphasis role="italic">videoSorceTokenList</emphasis>
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetOptions</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              VideoSourceToken =: <emphasis role="italic">videoSorceToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or with <emphasis role="bold">GetOptionsResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              ImagingOptions =: <emphasis role="italic">imagingOptions</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">imagingOptions</emphasis>.IrCutFilterModes list contains at least two items and one of them is equal to OFF, skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or <emphasis role="bold">GetMoveOptionsResponse</emphasis>,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="italic">videoSorceTokenList</emphasis> list or <emphasis role="italic">videoSorceTokenList</emphasis> list is empty,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.imaging_service.IrCutfilterConfiguration.table">
              <title>IrCutfilter Configuration Function Support in Imaging Service (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetOptionsResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-IrCutfilterConfiguration">
                    <entry>
                      IrCutfilter Configuration
                    </entry>
                    <entry>
                      <emphasis role="bold">For at least one GetOptionsResponse message at least two IrCutFilterModes elements are present in GetOptionsResponse. ImagingOptions and one of them equal to OFF</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">There are no GetOptionsResponse messages with at least two IrCutFilterModes elements in GetOptionsResponse. ImagingOptions with one of them equal to OFF</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.imaging_service.events"
                 xreflabel="Section 5.6.12.2">
          <title>Imaging Events Support</title>
          <para>
            Imaging Events support under Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that GetEventPropertiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.event_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.events.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.events.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.imaging_service.events.table">
              <title>Imaging Events Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetEventPropertiesResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>
                  <row xml:id="tc.c-ImageTooBlurry">
                    <entry>
                      Image Too Blurry
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains tns1:VideoSource/ImageTooBlurry/ImagingService or tns1:VideoSource/ImageTooBlurry/AnalyticsService or tns1:VideoSource/ImageTooBlurry/RecordingService Event topic</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain tns1:VideoSource/ImageTooBlurry/ImagingService and tns1:VideoSource/ImageTooBlurry/AnalyticsService and tns1:VideoSource/ImageTooBlurry/RecordingService Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-ImageTooDark">
                    <entry>
                      Image Too Dark
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/ImageTooDark/ImagingService
                        or
                        tns1:VideoSource/ImageTooDark/AnalyticsService
                        or
                        tns1:VideoSource/ImageTooDark/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/ImageTooDark/ImagingService
                        and
                        tns1:VideoSource/ImageTooDark/AnalyticsService
                        and
                        tns1:VideoSource/ImageTooDark/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-ImageTooBright">
                    <entry>
                      Image Too Bright
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/ImageTooBright/ImagingService
                        or
                        tns1:VideoSource/ImageTooBright/AnalyticsService
                        or
                        tns1:VideoSource/ImageTooBright/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/ImageTooBright/ImagingService
                        and
                        tns1:VideoSource/ImageTooBright/AnalyticsService
                        and
                        tns1:VideoSource/ImageTooBright/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-GlobalSceneChange">
                    <entry>
                      Global Scene Change
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/GlobalSceneChange/ImagingService
                        or
                        tns1:VideoSource/GlobalSceneChange/AnalyticsService
                        or
                        tns1:VideoSource/GlobalSceneChange/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/GlobalSceneChange/ImagingService
                        and
                        tns1:VideoSource/GlobalSceneChange/AnalyticsService
                        and
                        tns1:VideoSource/GlobalSceneChange/RecordingService
                        Event topic
                      </emphasis>
                    </entry>
                  </row>
                  <row xml:id="tc.c-MotionAlarm">
                    <entry>
                      Motion Alarm
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Contains
                        tns1:VideoSource/MotionAlarm event topic
                      </emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">
                        Does not contain
                        tns1:VideoSource/MotionAlarm event topic
                      </emphasis>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <!--Focus Control-->
        <section xml:id="tc.discovery_procedure.getcapabilities.imaging_service.focus"
                 xreflabel="Section 5.6.12.3">
          <title>Focus Control Function Support</title>
          <para>
            Focus Control function support in Imaging Service is determined according to the following procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Imaging Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Device IO Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.device_io_service"/> or
                  Media Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.media_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client retrieves a list of Video Sources by following the procedure mentioned in <xref linkend="Annex_HelperGetVideoSourceTokensList"/> with the following input and output parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        out <emphasis role="italic">videoSorceTokenList</emphasis> - a list of Video Source tokens
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  For each Video Source token <emphasis role="italic">videoSorceToken</emphasis> in <emphasis role="italic">videoSorceTokenList</emphasis>
                  <orderedlist numeration="arabic"
                               inheritnum="inherit">
                    <?dbfo label-width="3.5em"?>
                    <listitem xml:id="tc.discovery_procedure.getcapabilities.imaging_service.focus.2">
                      <para>
                        ONVIF Client invokes <emphasis role="bold">GetMoveOptions</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              VideoSourceToken =: <emphasis role="italic">videoSorceToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or with <emphasis role="bold">GetMoveOptionsResponse</emphasis> with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              MoveOptions =: <emphasis role="italic">moveOptions</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">moveOptions</emphasis> contains <emphasis role="bold">MoveOptions/Absolute</emphasis> or <emphasis role="bold">MoveOptions/Relative</emphasis> or <emphasis role="bold">MoveOptions/Continuous</emphasis>, skip other steps.
                      </para>
                    </listitem>
                  </orderedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="bold">env:Receiver/ter:ActionNotSupported/ter:NoImagingForSource</emphasis> SOAP 1.2 fault or <emphasis role="bold">GetMoveOptionsResponse</emphasis>,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis>If the DUT does not return <emphasis role="italic">videoSorceTokenList</emphasis> list or <emphasis role="italic">videoSorceTokenList</emphasis> list is empty,
            then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.imaging_service.focus.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFUNED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.imaging_service.focus.table">
              <title>Focus Control (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      GetMoveOptionsResponse
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-FocusControl">
                    <entry>
                      Focus Control
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains MoveOptions\Absolute or MoveOptions\Relative or MoveOptions\Continuous</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain MoveOptions\Absolute and MoveOptions\Relative and MoveOptions\Continuous</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
      </section>
      <!--Analytics Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.analytics_service">
        <title>Analytics Service Support</title>
        <para>
          Analytics Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.analytics_service.table5.78"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Analytics service is not supported, the following feature discovery (Rule Engine features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.analytics_service.table5.78">
            <title>Analytics Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-AnalyticsService">
                  <entry>
                    Analytics Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Analytics element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Analytics element
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RuleEngine">
                  <entry>
                    Rule Engine
                  </entry>
                  <entry>
                    <emphasis role="bold">Analytics.RuleSupport = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Analytics.RuleSupport = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RuleOptions">
                  <entry>
                    Rule Options
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-AnalyticsModules">
                  <entry>
                    Analytics Modules
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-AnalyticsModuleOptions">
                  <entry>
                    Analytics Module Options
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-SupportedMetadata">
                  <entry>
                    Supported Metadata
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-ImageSending">
                  <entry>
                    Image Sending
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-EmbeddedImageSendingType">
                  <entry>
                    Embedded Image Sending Type
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-LocalStorageImageSendingType">
                  <entry>
                    Local Storage Image Sending Type
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RemoteStorageImageSendingType">
                  <entry>
                    Remote Storage Image Sending Type
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>
        <!--Supported Rules-->
        <section>
          <title>Supported Rules</title>
          <para>
            Since the DUT does not support Media2 Service feature the following rules will be defined as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  Motion Region Detector Rule
                </para>
              </listitem>
              <listitem>
                <para>
                  Face Recognition Rule
                </para>
              </listitem>
              <listitem>
                <para>
                  License Plate Recognition Rule
                </para>
              </listitem>
              <listitem>
                <para>
                  Line Crossing Counting Rule
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
        <section>
          <title>Analytics Service - Supported Metadata</title>
          <para>
            Since GetCapabilitiesResponse does not have SupportedMetadata element, the following Supported Metadata features will be defined as NOT SUPPORTED:
            <itemizedlist>
              <listitem>
                <para>
                  Object Classification
                </para>
              </listitem>
              <listitem>
                <para>
                  Vehicle Info
                </para>
              </listitem>
              <listitem>
                <para>
                  Human Face
                </para>
              </listitem>
              <listitem>
                <para>
                  License Plate Info
                </para>
              </listitem>
              <listitem>
                <para>
                  Geo Location
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </section>
      </section>
      <!--Recording Control Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.recording_control_service">
        <title>Recording Control Service Support</title>
        <para>
          Recording Control Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_control_service.table5.79"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Recording Control service is not supported, the following feature discovery (Dynamic Recordings, Dynamic Tracks, Recording Options, Audio Recording, JPEG, H.264, and MPEG4 features support) will be skipped.
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.recording_control_service.table5.79">
            <title>Recording Control Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>
                <row xml:id="tc.c-RecordingControlService">
                  <entry>
                    Recording Control Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Extension. Recording</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Does not include Capabilities.Extension. Recording
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DynamicRecordings">
                  <entry>
                    Dynamic Recordings
                  </entry>
                  <entry>
                    <emphasis role="bold">Extension.Recording. DynamicRecordings = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Extension.Recording. DynamicRecordings = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-DynamicTracks">
                  <entry>
                    Dynamic Tracks
                  </entry>
                  <entry>
                    <emphasis role="bold">Extension.Recording. DynamicTracks = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Extension.Recording. DynamicTracks = false
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-AudioRecording">
                  <entry>
                    Audio Recording
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RecordingOptions">
                  <entry>
                    Recording Options
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-RecordingConfigDeleteTrackDataEvent">
                  <entry>
                    tns1:RecordingConfig/DeleteTrackData
                  </entry>
                  <entry>
                    <emphasis role="bold">GetEventProperties contains tns1:RecordingConfig/ DeleteTrackData topic</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      GetEventProperties doesn’t contain tns1:RecordingConfig/ DeleteTrackData topic
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-EncodingJPEG">
                  <entry>
                    JPEG
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-EncodingH264">
                  <entry>
                    H.264
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-EncodingMPEG4">
                  <entry>
                    MPEG4
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">
                      Not supported
                    </emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Recording Search Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.recording_search_service"
               xreflabel="Section 5.6.15">
        <title>Recording Search Service Support</title>
        <para>
          Recording Search Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.table"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>

            <listitem>
              <para>
                If Recording Search service is supported by the DUT:
                <orderedlist numeration="arabic"
                             inheritnum="inherit">
                  <?dbfo label-width="2.5em"?>
                  <listitem>
                    <para>
                      ONVIF Client invokes <emphasis role="bold">GetRecordingInformation</emphasis> requiest with parameters
                      <itemizedlist>
                        <listitem>
                          <para>
                            RecordingToken := <emphasis role="italic">recordingToken</emphasis>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      The DUT responds with <emphasis role="bold">GetRecordingInformationResponse</emphasis> message with parameters
                      <itemizedlist>
                        <listitem>
                          <para>
                            RecordingInformation =: <emphasis role="italic">recordingInformation</emphasis>
                          </para>
                        </listitem>
                      </itemizedlist>
                    </para>
                  </listitem>
                </orderedlist>
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Recording Search service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as UNDEFINED (if Recording Control service is supported by the DUT) or NOT SUPPORTED (if Recording Control service is not supported by the DUT):
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Recording Search service is not supported by the DUT, the following feature discovery procedures will be skipped and related features will be marked as NOT SUPPORTED:
          <itemizedlist>
            <listitem>
              <para>
                <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.recording_search_service.table">
            <title>Recording Search Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse message
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-RecordingSearchService">
                  <entry>
                    Recording Search Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Extension.Search</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.Extension.Search</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-MetadataSearch">
                  <entry>
                    Metadata Search
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Extension. Search.MetadataSearch = true</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Capabilities.Extension.Search. MetadataSearch = false</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>
        <section xml:id="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording"
                 xreflabel="Section 5.6.15.1">
          <title>Metadata Recording Support</title>
          <para>
            Metadata Recording support is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Recording Control Service Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that Recording Search Service Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that all pre-requisite defined in <xref linkend="Annex_HelperRecordingEnvironmentPreRequisite"/> are fulfilled, otherwise states of the features listed in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table"
                        xrefstyle="template:Table %n"/> could not be defined correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetRecordingInformationResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.recording_search_service.metadata_recording.table">
              <title>Metadata Recording Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>

                      GetRecordingInformationResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-MetadataRecording">
                    <entry>
                      Metadata Recording
                    </entry>
                    <entry>
                      <emphasis role="bold">Contains at least one Track with TrackType = "Metadata" and DataFrom is less than DataTo for this Track</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">Does not contain at any Track with TrackType = "Metadata" or for all Tracks with TrackType = "Metadata" DataFrom is not less than DataTo for this Track</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>
        </section>
        <section xml:id="tc.discovery_procedure.getcapabilities.recording_search_service.ptz"
                 xreflabel="Section 5.6.15.2">
          <title>PTZ Position Search Support</title>
          <para>
            PTZ Position Search support under Recording Search Service is determined according to the following procedure in conjunction with the above procedure.
          </para>
          <para>
            <emphasis role="bold">Pre-requisite:</emphasis>
            <itemizedlist>
              <listitem>
                <para>
                  This procedure assumes that Recording Search Service Service is supported by the DUT as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/> will be marked as NOT SUPPORTED.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that all pre-requisite defined in <xref linkend="Annex_HelperRecordingEnvironmentPreRequisite"/> are fulfilled, otherwise states of the features listed in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/> could not be defined correctly.
                </para>
              </listitem>
              <listitem>
                <para>
                  This procedure assumes that GetRecordingInformationResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service"/>,
                  otherwise all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            <emphasis role="bold">Discovery Procedure:</emphasis>
            <orderedlist>
              <?dbfo label-width="1.5em"?>
              <listitem>
                <para>
                  ONVIF Client invokes <emphasis role="bold">FindPTZPosition</emphasis> requiest with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        If <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              StartPoint := <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              StartPoint := minimal value of DataFrom element in <emphasis role="italic">recordingInformation</emphasis>.Track list
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        If <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording is specified:
                        <itemizedlist>
                          <listitem>
                            <para>
                              EndPoint := <emphasis role="italic">recordingInformation</emphasis>.LatestRecording
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        otherwise:
                        <itemizedlist>
                          <listitem>
                            <para>
                              EndPoint is skipped
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Scope is empty element
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.PanTilt.x := -1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.PanTilt.y := -1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MinPosition.Zoom is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.PanTilt.x := 1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.PanTilt.y := 1
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.MaxPosition.Zoom is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        SearchFilter.EnterOrExit := false
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        MaxMatches is skipped
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        KeepAliveTime := "PT3S"
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  The DUT responds with SOAP 1.2 fault or <emphasis role="bold">FindPTZPositionResponse</emphasis> message with parameters
                  <itemizedlist>
                    <listitem>
                      <para>
                        SearchToken =: <emphasis role="italic">searchToken</emphasis>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
              <listitem>
                <para>
                  ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table"
                        xrefstyle="template:Table %n"/>.
                </para>
              </listitem>
              <listitem>
                <para>
                  If the DUT returns <emphasis role="bold">FindPTZPositionResponse</emphasis> message:
                  <itemizedlist>
                    <listitem>
                      <para>
                        ONVIF Client invokes <emphasis role="bold">EndSearch</emphasis> requiest with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              SearchToken := <emphasis role="italic">searchToken</emphasis>
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        The DUT responds with <emphasis role="bold">EndSearchResponse</emphasis> message with parameters
                        <itemizedlist>
                          <listitem>
                            <para>
                              Endpoint
                            </para>
                          </listitem>
                        </itemizedlist>
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </orderedlist>
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> <emphasis role="italic">recordingToken</emphasis> will be taken from 'Recording from tests' field of ONVIF Device Test Tool.
          </para>
          <para>
            <emphasis role="bold">Note:</emphasis> If the DUT does not return <emphasis role="italic">recordingInformation</emphasis>.EarliestRecording and there are no <emphasis role="italic">recordingInformation</emphasis>.Track items then all features defined in <xref linkend="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table"
                  xrefstyle="template:Table %n"/> will be marked as UNDEFINED.
          </para>
          <para>
            <table xml:id="tc.discovery_procedure.getcapabilities.recording_search_service.ptz.table">
              <title>PTZ Position Search Support (GetCapabilities)</title>
              <tgroup cols="3"
                      align='center'>
                <colspec colname="c1"/>
                <colspec colname="c2"/>
                <colspec colname="c3"/>
                <thead>
                  <row>
                    <entry>
                      Criterion Item
                    </entry>
                    <entry namest="c2"
                           nameend="c3">
                      <?dbhtml bgcolor="#FFFFFF" ?>
                      FindPTZPositionResponse message
                    </entry>
                  </row>
                  <row>
                    <entry>Feature</entry>
                    <entry>Supported</entry>
                    <entry>Not Supported</entry>
                  </row>
                </thead>
                <tbody>

                  <row xml:id="tc.c-PTZPositionSearch">
                    <entry>
                      PTZ Position Search
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns FindPTZPositionResponse</emphasis>
                    </entry>
                    <entry>
                      <emphasis role="bold">DUT returns SOAP 1.2 fault</emphasis>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </table>
          </para>

        </section>

      </section>
      <!--Replay Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.replay_service">
        <title>Replay Service Support</title>
        <para>
          Replay Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.replay_service.table5.83"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <emphasis role="bold">Note:</emphasis> If Replay service is not supported, the following feature discovery (Reverse Replay features support) will be skipped.
        </para>

        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.replay_service.table5.83">
            <title>Replay Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-ReplayService">
                  <entry>
                    Replay Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Extension.Replay element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.Extension.Replay element</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-ReverseReplay">
                  <entry>
                    Reverse Replay
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Not Supported</emphasis>
                  </entry>
                </row>
                <row xml:id="tc.c-ReplayServiceRTPRTSPTCP">
                  <entry>
                    RTP/RTSP/TCP
                  </entry>
                  <entry>
                    <emphasis role="bold">-</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Not Supported</emphasis>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Receiver Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.receiver_service">
        <title>Receiver Service Support</title>
        <para>
          Receiver Service feature support is determined according to the following procedure.
        </para>
        <para>
          <emphasis role="bold">Pre-requisite:</emphasis>
          <itemizedlist>
            <listitem>
              <para>
                This procedure assumes that GetCapabilitiesResponse has already been retrieved via preceding procedure described in <xref linkend="tc.discovery_procedure.feature_support_criteria"/>.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          <emphasis role="bold">Discovery Procedure:</emphasis>
          <orderedlist>
            <?dbfo label-width="1.5em"?>
            <listitem>
              <para>
                ONVIF Client checks features support as defined in <xref linkend="tc.discovery_procedure.getcapabilities.receiver_service.table5.84"
                      xrefstyle="template:Table %n"/>.
              </para>
            </listitem>
          </orderedlist>
        </para>
        <para>
          <table xml:id="tc.discovery_procedure.getcapabilities.receiver_service.table5.84">
            <title>Receiver Service (GetCapabilities)</title>
            <tgroup cols="3"
                    align='center'>
              <colspec colname="c1"/>
              <colspec colname="c2"/>
              <colspec colname="c3"/>
              <thead>
                <row>
                  <entry>
                    Criterion Item
                  </entry>
                  <entry namest="c2"
                         nameend="c3">
                    <?dbhtml bgcolor="#FFFFFF" ?>

                    GetCapabilitiesResponse
                  </entry>
                </row>
                <row>
                  <entry>Feature</entry>
                  <entry>Supported</entry>
                  <entry>Not Supported</entry>
                </row>
              </thead>
              <tbody>

                <row xml:id="tc.c-ReceiverService">
                  <entry>
                    Receiver Service
                  </entry>
                  <entry>
                    <emphasis role="bold">Includes Capabilities.Extension. Receiver element</emphasis>
                  </entry>
                  <entry>
                    <emphasis role="bold">Does not include Capabilities.Extension.Receiver element</emphasis>
                  </entry>
                </row>

              </tbody>
            </tgroup>
          </table>
        </para>

      </section>
      <!--Door Control Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.door_control_service">
        <title>Door Control Service Support</title>
        <para xml:id="tc.c-DoorControlService">
          Since the DUT does not support GetServices feature Door Control Service feature will be defined as not supported.
        </para>
      </section>
      <!--Access Control Service Support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.access_control_service">
        <title>Access Control Service Support</title>
        <para xml:id="tc.c-AccessControlService">
          Since the DUT does not support GetServices feature Access Control Service feature will be defined as not supported.
        </para>
      </section>
      <!--Security Configuration Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.advanced_security_service">
        <title>Security Configuration Service Support</title>
        <para xml:id="tc.c-AdvancedSecurity">
          Since the DUT does not support GetServices feature Security Configuration Service feature will be defined as not supported.
        </para>
      </section>
      <!--Credential Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.credential_service">
        <title>Credential Service Support</title>
        <para xml:id="tc.c-Credential">
          Since the DUT does not support GetServices feature Credential Service feature will be defined as not supported.
        </para>
      </section>
      <!--Access Rules Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.access_rules_service">
        <title>Access Rules Service Support</title>
        <para xml:id="tc.c-AccessRulesService">
          Since the DUT does not support GetServices feature Access Rules Service feature will be defined as not supported.
        </para>
      </section>
      <!--Schedule Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.schedule_service">
        <title>Schedule Service Support</title>
        <para xml:id="tc.c-Schedule">
          Since the DUT does not support GetServices feature Schedule Service feature will be defined as not supported.
        </para>
      </section>
      <!--Provisioning Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.provisioning_service">
        <title>Provisioning Service Support</title>
        <para>
          Since the DUT does not support GetServices feature Provisioning Service feature will be defined as not supported.
        </para>
      </section>
      <!--Thermal Service support-->
      <section xml:id="tc.discovery_procedure.getcapabilities.thermal_service">
        <title>Thermal Service Support</title>
        <para>
          Since the DUT does not support GetServices feature Thermal Service feature will be defined as not supported.
        </para>
      </section>
      <!--Auxiliary Commands Support-->
      <!--<section xml:id="tc.discovery_procedure.getcapabilities.auxiliarycommands">
				<title>Auxiliary Commands Support</title>
				<para>	
					Since the DUT does not support GetServices feature Auxiliary Commands feature will be defined as not supported.
				</para>	
			</section>-->



    </section>
    <!--Devices scopes retrieval via GetDeviceScopes-->
    <section xml:id="tc.discovery_procedure.devices_scopes_retrieval" xreflabel="Section 5.7">
      <title>Devices Scopes Retrieval via GetDeviceScopes</title>
      <para>
        Device scopes provided via GetDeviceScopes may indicate referenced Profiles by the DUT in case the DUT supports a certain profile. The following is the procedure to identify referenced Profile(s) by the DUT. For the details on how the retrieved scope will be used for Profile checking, refer to the specific document.
      </para>
      <para>
        <emphasis role="bold">Discovery Procedure:</emphasis>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes GetScopesRequest message to retrieve a device scope list.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with GetScopesResponse message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Scopes list =: <emphasis role="italic">scopesList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client preserves the device scope list to determine the referenced Profiles.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If the DUT does not return GetScopesResponse, ONVIF Client regards that the device scope is defined as empty.
      </para>

    </section>
    <!--Devices information retrieval via GetDeviceInformation-->
    <section xml:id="tc.discovery_procedure.devices_information_retrieval">
      <title>Devices Information Retrieval via GetDeviceInformation</title>
      <para>
        General device information provided via GetDeviceScopes is required for report generation. The following is the procedure to identify DUT information.
      </para>
      <para>
        <emphasis role="bold">Discovery Procedure:</emphasis>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes GetDeviceInformationRequest message to retrieve device information.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client preserves the device information.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> If the DUT does not return GetDeviceInformationResponse, ONVIF Client regards the device information as undefined.
      </para>

    </section>

  </chapter>
  <!--Pre-Configuration Procedure-->
  <chapter xml:id="tc.pre-configuration_procedure">
    <title>Pre-Configuration Procedure</title>
    <para>
      This section describes procedure that is allowed to prepare the DUT for confoemance test execution.
    </para>
    <!-- General policy -->
    <section xml:id="tc.pre-configuration_procedure.general_policy">
      <title>General Policy</title>
      <para>
        The results of pre-configuration procedure shall have no impact on conformance results, but in the case of the failure some test case execution will require more time or manual pre-configuration, before conformance will be started.
      </para>
      <para>
        ONVIF Client goes frought each preconfiguration procedure described this document and runs it depending on DUT features according procedure pre-requisites.
      </para>
    </section>
    <!--IPv6 Enabling Pre-Configuration Procedure-->
    <section xml:id="tc.pre-configuration_procedure.ipv6_procedure">
      <title>IPv6 Enabling Pre-Configuration Procedure</title>
      <para>
        ONVIF Client configures IPv6 address according to the following procedure.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              IPv6 is supported by DUT.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">Pre-Configuration Procedure:</emphasis>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetNetworkInterfaces</emphasis> request.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetNetworkInterfacesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    NetworkInterfaces list =: <emphasis role="italic">networkInterfacesList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">currentNetworkInterface</emphasis> := network interface from <emphasis role="italic">networkInterfacesList</emphasis>, which is used for the DUT conformance.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">currentNetworkInterface</emphasis>.IPv6.Enabled = true, skip other steps of procedure.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">SetNetworkInterfaces</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    InterfaceToken := <emphasis role="italic">currentNetworkInterface</emphasis>.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.Enabled := true
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.Link is skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.MTU is skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.IPv4 is skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.IPv6.Enabled := true
                  </para>
                </listitem>
                <listitem>
                  <para>
                    NetworkInterface.Extension is skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">SetNetworkInterfacesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    RebootNeeded =: <emphasis role="italic">rebootNeededFlag</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">rebootNeededFlag</emphasis> = true:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">SystemReboot</emphasis> request.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">SystemRebootResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Message
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>          
          <listitem>
            <para>
              If DUT supports Discovery:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="3.5em"?>
                <listitem>
                  <para>
                    ONVIF Client waits for HELLO message from the default network interface.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not support Discovery:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="3.5em"?>
                <listitem>
                  <para>
                    ONVIF Client waits during <emphasis role="italic">rebootTimeout</emphasis>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Note:</emphasis> In the case of failure on any step the procedure will skip other steps.
      </para>
    </section>
  </chapter>
  <appendix>
    <title>Helper Procedures and Additional Notes</title>
    <!--A.1-->
    <section xml:id="Annex_HelperSelectionCreationOfMediaProfileThatContainsPTZConfiguration"
             xreflabel="Annex A.1">
      <title>Selection/Creation of Media Profile That Contains PTZ Configuration</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperSelectionCreationOfMediaProfileThatContainsPTZConfiguration
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to select or create Media Profile with PTZConfiguration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT. PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Token of the PTZ Node, with which Media Profile should be configured (<emphasis role="italic">ptzNodeToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>

          <listitem>
            <para>
              Retrieve media profiles by invoking <emphasis role="bold">GetProfiles</emphasis> request.
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profile list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> contains profile (<emphasis role="italic">ptzProfile</emphasis>) with PTZ configuration with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis> and with Video Source Configuration and with Video Encoder Configuration:
              <itemizedlist>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">ptzProfile</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT does not support Get Compatible Configurations feature:
              <itemizedlist>
                <listitem>
                  <para>
                    If no media profile contains identified PTZConfiguration, select one media profile whose fixed attribute is set to false and which already adds VideoSourceConfiguration and VideoEncoderConfiguration. Add PTZConfiguration to the media profile by invoking AddPTZConfiguration command.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If no media profile is present to meet the above condition, create new media profile with VideoSourceConfiguration and VideoEncoderConfiguration by invoking CreateProfile, AddVideoSourceConfiguration and AddVideoEncoderConfiguration command. After that, add PTZConfiguration to the media profile by invoking AddPTZConfiguration command.
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT supports Get Compatible Configurations feature:
              <itemizedlist>
                <listitem>
                  <para>
                    ONVIF Client configures an empty Media Profile by following the procedure mentioned in <xref linkend="Annex_HelperConfigureEmptyMediaProfile"/> with the following input and output parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          in <emphasis role="italic">profileList</emphasis> - Media Profile List
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          out <emphasis role="italic">profile</emphasis> - Media Profile
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoSourceConfigurations</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Configurations list := <emphasis role="italic">vscList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">vscList</emphasis> is empty, FAIL the test and skip other steps.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each Video Source Configuration <emphasis role="italic">vsc</emphasis> in <emphasis role="italic">vscList</emphasis> repeat the following steps:
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="2.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddVideoSourceConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ConfigurationToken := <emphasis role="italic">vsc</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetCompatibleVideoEncoderConfigurations</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                Configurations list := <emphasis role="italic">vecList</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">vecList</emphasis> is empty, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddVideoEncoderConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                ConfigurationToken := <emphasis role="italic">vecList</emphasis>[0].@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                PTZ Configurations list := <emphasis role="italic">ptzConfigList</emphasis>
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzConfigList</emphasis> contains PTZConfiguration item (<emphasis role="italic">ptzConfig</emphasis>) with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
                          <itemizedlist>
                            <listitem>
                              <para>
                                ONVIF Client invokes <emphasis role="bold">AddPTZConfiguration</emphasis> request with parameters
                                <itemizedlist>
                                  <listitem>
                                    <para>
                                      ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                                    </para>
                                  </listitem>
                                  <listitem>
                                    <para>
                                      ConfigurationToken := <emphasis role="italic">ptzConfig</emphasis>.@token
                                    </para>
                                  </listitem>
                                </itemizedlist>
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                DUT responds with <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message.
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Skip other steps.
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">RemoveVideoEncoderConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>

                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          DUT responds with <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          If <emphasis role="italic">ptzConfigList</emphasis> does not contain PTZConfiguration item with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis> for all Video Source Configurations from <emphasis role="italic">videoSourceConfigurationList1</emphasis>, FAIL the test and skip other steps.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>

              </itemizedlist>
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleVideoEncoderConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddVideoSourceConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">RemoveVideoEncoderConfigurationResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddPTZConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.2-->
    <section xml:id="Annex_HelperGetCompleteDoorInfoList"
             xreflabel="Annex A.2">
      <title>Get Complete Door Info List</title>
      <para>
        The following algorithm will be used to get a complete list of Doors:
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem xml:id="Annex_HelperGetCompleteDoorInfoList.1">
            <para>
              ONVIF Client will invoke GetDoorInfoListRequest message (no Limit, no StartReference) to retrieve the first part of Door Information list from the DUT.
            </para>
          </listitem>
          <listitem xml:id="Annex_HelperGetCompleteDoorInfoList.2">
            <para>
              Verify the GetDoorInfoListResponse message from the DUT.
            </para>
          </listitem>
          <listitem>
            <para>
              If GetDoorInfoListResponse message contains NextStartReference, repeat steps <xref linkend="Annex_HelperGetCompleteDoorInfoList.1"/>-<xref linkend="Annex_HelperGetCompleteDoorInfoList.2"/> with StartReference = [current NextStartReference]. Otherwise, skip other steps and finalize getting complete door list.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        The complete ordered list of doors with information will be made by the means of uniting all GetDoorInfoListResponse messages. Also, the total number of doors will be calculated.
      </para>

    </section>
    <!--A.3-->
    <section xml:id="Annex_HelperGetCompleteAccessPointInfoList"
             xreflabel="Annex A.3">
      <title>Get Complete Access Point Info List</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetCompleteAccessPointInfoList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve complete access points info list.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Access Control Service was received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Complete access points info list (<emphasis role="italic">accessPointInfoCompleteList</emphasis>). Number of access points (<emphasis role="italic">accessPointsNumber</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF client invokes <emphasis role="bold">GetAccessPointInfoList</emphasis> with parameters<itemizedlist>
                <listitem>
                  <para>Limit is skipped</para>
                </listitem>
                <listitem>
                  <para>StartReference is skipped</para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetAccessPointInfoListResponse</emphasis> message with parameters<itemizedlist>
                <listitem>
                  <para>
                    NextStartReference =: <emphasis role="italic">nextStartReference</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    AccessPointInfo list =: <emphasis role="italic">accessPointInfoCompleteList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Until <emphasis role="italic">nextStartReference</emphasis> is not null, repeat the following steps:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF client invokes <emphasis role="bold">GetAccessPointInfoList</emphasis> with parameters<itemizedlist>
                      <listitem>
                        <para>Limit is skipped</para>
                      </listitem>
                      <listitem>
                        <para>
                          StartReference := <emphasis role="italic">nextStartReference</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetAccessPointInfoListResponse</emphasis> message with parameters<itemizedlist>
                      <listitem>
                        <para>
                          NextStartReference =: <emphasis role="italic">nextStartReference</emphasis>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          AccessPointInfo list =: <emphasis role="italic">accessPointInfoListPart</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Set <emphasis role="italic">accessPointInfoCompleteList</emphasis> := <emphasis role="italic">accessPointInfoCompleteList</emphasis> + <emphasis role="italic">accessPointInfoListPart</emphasis>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">accessPointsNumber</emphasis> := number of AccessPointInfo items in <emphasis role="italic">accessPointInfoCompleteList</emphasis>.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              The DUT passed all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              The DUT did not send <emphasis role="bold">GetAccessPointInfoListResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.4-->
    <section xml:id="Annex_HelperGetCompleteAreaInfoList"
             xreflabel="Annex A.4">
      <title>Get Complete Area Info List</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetCompleteAreaInfoList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve complete areas info list.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Access Control Service was received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Complete areas info list (<emphasis role="italic">areaInfoCompleteList</emphasis>). Number of areas (<emphasis role="italic">areaNumber</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF client invokes <emphasis role="bold">GetAreaInfoList</emphasis> with parameters<itemizedlist>
                <listitem>
                  <para>Limit is skipped</para>
                </listitem>
                <listitem>
                  <para>StartReference is skipped</para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetAreaInfoListResponse</emphasis> message with parameters<itemizedlist>
                <listitem>
                  <para>
                    NextStartReference =: <emphasis role="italic">nextStartReference</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    AreaInfo list =: <emphasis role="italic">areaInfoCompleteList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Until <emphasis role="italic">nextStartReference</emphasis> is not null, repeat the following steps:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF client invokes <emphasis role="bold">GetAreaInfoList</emphasis> with parameters<itemizedlist>
                      <listitem>
                        <para>Limit is skipped</para>
                      </listitem>
                      <listitem>
                        <para>
                          StartReference := <emphasis role="italic">nextStartReference</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetAreaInfoListResponse</emphasis> message with parameters<itemizedlist>
                      <listitem>
                        <para>
                          NextStartReference =: <emphasis role="italic">nextStartReference</emphasis>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          AreaInfo list =: <emphasis role="italic">areaInfoListPart</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Set <emphasis role="italic">areaInfoCompleteList</emphasis> := <emphasis role="italic">areaInfoCompleteList</emphasis> + <emphasis role="italic">areaInfoListPart</emphasis>.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              Set <emphasis role="italic">areasNumber</emphasis> := number of AreaInfo items in <emphasis role="italic">areaInfoCompleteList</emphasis>.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              The DUT passed all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              The DUT did not send <emphasis role="bold">GetAreaInfoListResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.5-->
    <section xml:id="Annex_HelperGetAnalyticsConfigurationsList"
             xreflabel="Annex A.5">
      <title>Get Analytics Configurations List</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetAnalyticsConfigurationsList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Analytics Configurations List.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Analytics Configurations list (<emphasis role="italic">analyticsConfList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetAnalyticsConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetAnalyticsConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">analyticsConfList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">analyticsConfList</emphasis> is empty, FAIL the test.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetAnalyticsConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.6-->
    <section xml:id="Annex_HelperGetVideoSourceTokensList"
             xreflabel="Annex A.6">
      <title>Get Token List of Video Sources</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetVideoSourceTokensList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Video Sources List.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> DeviceIO Service or Media2 Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Video Source Token list (<emphasis role="italic">videoSorceTokenList</emphasis>).
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              If DUT supports DeviceIO Service:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoSources</emphasis> request for DeviceIO service.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetVideoSourcesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          Token list =: <emphasis role="italic">videoSorceTokenList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">videoSorceTokenList</emphasis> is empty, FAIL the test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps and return <emphasis role="italic">videoSorceTokenList</emphasis> in test procedure.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT supports Media Service:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetVideoSources</emphasis> request for Media service.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetVideoSourcesResponse</emphasis> with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          VideoSources list =: <emphasis role="italic">videoSorceList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">videoSorceList</emphasis> is empty, FAIL the test.
                  </para>
                </listitem>
                <listitem>
                  <para>
                    For each Video Source <emphasis role="italic">videoSorce</emphasis> in <emphasis role="italic">videoSorceList</emphasis>
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          Set <emphasis role="italic">videoSorceTokenList</emphasis> := <emphasis role="italic">videoSorceTokenList</emphasis> + <emphasis role="italic">videoSorce</emphasis>.token
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps and return <emphasis role="italic">videoSorceTokenList</emphasis> in test procedure.
                  </para>
                </listitem>



              </orderedlist>
            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoSourcesResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--A.7-->
    <section xml:id="Annex_HelperGetVideoSourceConfigurationsList"
             xreflabel="Annex A.7">
      <title>Get Video Source Configurations List</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetVideoSourceConfigurationsList
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve Video Source Configurations List.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Video Source Configurations list (<emphasis role="italic">videoSourceConfList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken skipped
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">videoSourceConfList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">videoSourceConfList</emphasis> is empty, FAIL the test.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--The same with annex from PTZ test specification-->
    <!--A.8-->
    <section xml:id="Annex_HelperMediaProfileConfiguration"
             xreflabel="Annex A.8">
      <title>Media Profile Configuration for PTZ Control</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMediaProfileConfiguration
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to find, create or configure Media Profile with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT. GetCompatibleConfigurations is supported by Device as indicated by the GetCompatibleConfigurations = true capability.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Token of the PTZ Node, with which Media Profile should be configured (<emphasis role="italic">ptzNodeToken</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration and PTZ Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetProfiles</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Token skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Type[0] := PTZ
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Type[1] := VideoSource
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetProfilesResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profiles list =: <emphasis role="italic">profileList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> is empty, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">profileList</emphasis> contains Media Profile, which includes Configurations.PTZ.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := item from <emphasis role="italic">profileList</emphasis> list, which includes Configurations.PTZ.NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">profile</emphasis> does not contain Configurations.VideoSource:
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client adds Video Source to Media Profile by following the procedure mentioned in <xref linkend="Annex_HelperMediaProfileConfigurationVS"/> with the following input and output parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                in <emphasis role="italic">profile</emphasis> - Media Profile
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                out <emphasis role="italic">profile</emphasis> - Media Profile with Video Source Configuration
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Skip other steps in the procedure.
                  </para>
                </listitem>
              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              For each profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration from <emphasis role="italic">profileList</emphasis>:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetCompatibleConfigurations</emphasis> request with parameters:
                    <itemizedlist>
                      <listitem>
                        <para>
                          ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    The DUT responds with <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          PTZConfiguration list =: <emphasis role="italic">ptzConfigurationList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    If <emphasis role="italic">ptzConfigurationList</emphasis> contains item with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>:
                    <orderedlist numeration="arabic"
                                 inheritnum="inherit">
                      <?dbfo label-width="3.5em"?>
                      <listitem>
                        <para>
                          ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
                          <itemizedlist>
                            <listitem>
                              <para>
                                ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Name skipped
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Type := PTZ
                              </para>
                            </listitem>
                            <listitem>
                              <para>
                                Configuration[0].Token := <emphasis role="italic">ptzConfiguration</emphasis>.@token
                              </para>
                            </listitem>
                          </itemizedlist>
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
                        </para>
                      </listitem>
                      <listitem>
                        <para>
                          Return <emphasis role="italic">profile</emphasis> and skip other steps.
                        </para>
                      </listitem>
                    </orderedlist>
                  </para>
                </listitem>

                <!--<listitem>
                  <para>
                    Set <emphasis role="italic">ptzConfiguration</emphasis> := item from <emphasis role="italic">ptzConfigurationList</emphasis> list with NodeToken = <emphasis role="italic">ptzNodeToken</emphasis>
                  </para>
                </listitem>-->


              </orderedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              FAIL the test and skip other steps.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetProfilesResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetCompatibleConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--The same with annex from PTZ test specification-->
    <!--A.9-->
    <section xml:id="Annex_HelperMediaProfileConfigurationVS"
             xreflabel="Annex A.9">
      <title>Media Profile Configuration with Video Source Configuration</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperMediaProfileConfigurationVS
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to add Video Source Configuration to Media Profile.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. PTZ Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Media Profile (<emphasis role="italic">profile</emphasis>) with Video Source Configuration.
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">GetVideoSourceConfigurations</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ConfigurationToken skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ProfileToken = <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Configurations list =: <emphasis role="italic">videoSourceConfigurationList</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If <emphasis role="italic">videoSourceConfigurationList</emphasis> is empty, FAIL the test and skip other steps.
            </para>
          </listitem>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">AddConfiguration</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    ProfileToken := <emphasis role="italic">profile</emphasis>.@token
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Name skipped
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration[0].Type := VideoSource
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Configuration[0].Token := <emphasis role="italic">videoSourceConfigurationList</emphasis>[0]
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              The DUT responds with <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetVideoSourceConfigurationsResponse</emphasis> message.
            </para>
          </listitem>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">AddConfigurationResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--The same with annex from Replay test specification (with some modifications)-->
    <!--A.10-->
    <section xml:id="Annex_HelperRecordingEnvironmentPreRequisite"
             xreflabel="Annex A.10">
      <title>Recording Environment Pre-Requisite</title>
      <para>
        The following pre-perquisite shall be filled before executing feature discovery for Replay Service, Recording Search Service, and Recording Control Service:
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              At least one recording shall be present at the DUT and specified for test execution on Management tab\Recording tab of ONVIF Device Test Tool.
            </para>
          </listitem>
          <listitem>
            <para>
              The recording shall be stopped.
            </para>
          </listitem>
          <listitem>
            <para>
              The recording shall contain at least one track each for video, audio (if Audio Recording is
              supported) and metadata (if Metadata Recording is supported).
            </para>
          </listitem>
          <listitem>
            <para>
              The recording shall contain data at least in the video track, audio track (if Audio Recording
              is supported), and metadata track (if Metadata Recording is supported) and configuration
              of each track shall be consistent for the duration of the recording.
            </para>
          </listitem>
          <listitem>
            <para>
              The recording contains at least one gap
            </para>
          </listitem>
          <listitem>
            <para>
              The recording span (including gap) should be not more than 3 minutes
            </para>
          </listitem>
          <listitem>
            <para>
              Each recording event shall be at least one minute for the recording
            </para>
          </listitem>
          <listitem>
            <para>
              GOPs of recording should be renewed every 2 seconds.
            </para>
          </listitem>
        </orderedlist>
      </para>
    </section>
    <!--The same with annex from PTZ test specification-->
    <!--A.11-->
    <section xml:id="Annex_HelperConfigureEmptyMediaProfile"
             xreflabel="Annex A.11">
      <title>Configure Empty Media Profile</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperConfigureEmptyMediaProfile
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to create of configure an empty Media Profile (Media Service).
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media Service is received from the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> Media Profile List (<emphasis role="italic">profileList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Empty Media Profile (<emphasis role="italic">profile</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client invokes <emphasis role="bold">CreateProfile</emphasis> request with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Name := TestName
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem xml:id="Annex_HelperConfigureEmptyMediaProfile.2"
                    xreflabel="2">
            <para>
              DUT responds with <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault or with <emphasis role="bold">CreateProfileResponse</emphasis> message with parameters
              <itemizedlist>
                <listitem>
                  <para>
                    Profile =: <emphasis role="italic">profile</emphasis>
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              If DUT returns <emphasis role="bold">env:Receiver/ter:Action/ter:MaxNVTProfiles</emphasis> SOAP 1.2 fault at step <xref linkend="Annex_HelperConfigureEmptyMediaProfile.2"/>:
              <orderedlist numeration="arabic"
                           inheritnum="inherit">
                <?dbfo label-width="2.5em"?>
                <listitem>
                  <para>
                    Set <emphasis role="italic">profile</emphasis> := <emphasis role="italic">profileList</emphasis>[0]
                  </para>
                </listitem>
                <listitem>
                  <para>
                    ONVIF Client removes all configurations from <emphasis role="italic">profile</emphasis>.
                  </para>
                </listitem>
              </orderedlist>


            </para>
          </listitem>

        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">CreateProfileResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <!--The same with annex from Analytics test specification-->
    <!--<section xml:id="Annex_HelperGetInstalledAnalyticsModules"  xreflabel="Annex A.12">
      <title>Get Installed Analytics Modules</title>
      <para>
        <emphasis role="bold">Name:</emphasis> HelperGetInstalledAnalyticsModules
      </para>
      <para>
        <emphasis role="bold">Procedure Purpose:</emphasis> Helper procedure to retrieve full list of Analytics Modules currently installed in a DUT.
      </para>
      <para>
        <emphasis role="bold">Pre-requisite:</emphasis> Media2 Service is received from the DUT. Analytics Modules is supported by the DUT.
      </para>
      <para>
        <emphasis role="bold">Input:</emphasis> None.
      </para>
      <para>
        <emphasis role="bold">Returns:</emphasis> Installed Analytics Module List (<emphasis role="italic">installedAnalyticsModuleList</emphasis>).
      </para>
      <para>
        <emphasis role="bold">Procedure:</emphasis>
      </para>
      <para>
        <orderedlist>
          <?dbfo label-width="1.5em"?>
          <listitem>
            <para>
              ONVIF Client retrieves a list of Analytics Configurations by following the procedure mentioned in <xref linkend="Annex_HelperGetAnalyticsConfigurationsList"/> with the following input and output parameters
              <itemizedlist>
                <listitem>
                  <para>
                    out <emphasis role="italic">analyticsConfList</emphasis> - a list of Analytics configurations
                  </para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para>
              For each Analytics Configuration <emphasis role="italic">analyticsConf</emphasis> in <emphasis role="italic">analyticsConfList</emphasis> repeat the following steps:
              <orderedlist numeration="arabic" inheritnum="inherit">
                <?dbfo label-width="2.5em"?>


                <listitem>
                  <para>
                    ONVIF Client invokes <emphasis role="bold">GetAnalyticsModules</emphasis> request with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          ConfigurationToken := <emphasis role="italic">analyticsConf</emphasis>.@token
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    DUT responds with <emphasis role="bold">GetAnalyticsModulesResponse</emphasis> message with parameters
                    <itemizedlist>
                      <listitem>
                        <para>
                          AnalyticsModule list =: <emphasis role="italic">analyticsModuleList</emphasis>
                        </para>
                      </listitem>
                    </itemizedlist>
                  </para>
                </listitem>
                <listitem>
                  <para>
                    Set <emphasis role="italic">installedAnalyticsModuleList</emphasis> := <emphasis role="italic">installedAnalyticsModuleList</emphasis> + <emphasis role="italic">analyticsModuleList</emphasis>

                  </para>
                </listitem>

              </orderedlist>
            </para>
          </listitem>


        </orderedlist>
      </para>
      <para>
        <emphasis role="bold">Procedure Result:</emphasis>
      </para>
      <para>
        <emphasis role="bold">PASS –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT passes all assertions.
            </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">FAIL –</emphasis>
        <itemizedlist>
          <listitem>
            <para>
              DUT did not send <emphasis role="bold">GetAnalyticsModulesResponse</emphasis> message.
            </para>
          </listitem>
        </itemizedlist>
      </para>
    </section>-->
  </appendix>
</book>

